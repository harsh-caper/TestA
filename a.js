var xSe=Object.defineProperty,RSe=Object.defineProperties,DSe=Object.getOwnPropertyDescriptors,R1=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,J6=Object.prototype.propertyIsEnumerable,K6=(me,U,M)=>U in me?xSe(me,U,{enumerable:!0,configurable:!0,writable:!0,value:M}):me[U]=M,Xe=(me,U)=>{for(var M in U||(U={}))q6.call(U,M)&&K6(me,M,U[M]);if(R1)for(var M of R1(U))J6.call(U,M)&&K6(me,M,U[M]);return me},ii=(me,U)=>RSe(me,DSe(U)),Q6=(me,U)=>{var M={};for(var u in me)q6.call(me,u)&&U.indexOf(u)<0&&(M[u]=me[u]);if(null!=me&&R1)for(var u of R1(me))U.indexOf(u)<0&&J6.call(me,u)&&(M[u]=me[u]);return M};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{5800:(me,U,M)=>{"use strict";var u={};M.r(u),M.d(u,{BaseTextureCache:()=>qs,CanvasRenderTarget:()=>Wf,DATA_URI:()=>tF,EventEmitter:()=>Hf(),ProgramCache:()=>mC,TextureCache:()=>ts,clearTextureCache:()=>Mte,correctBlendMode:()=>fC,createIndicesForQuads:()=>Qk,decomposeDataUri:()=>wte,deprecation:()=>ul,destroyTextureCache:()=>Ote,determineCrossOrigin:()=>nF,earcut:()=>sC(),getBufferType:()=>xy,getResolutionOfUrl:()=>r_,hex2rgb:()=>Kl,hex2string:()=>Py,interleaveTypedArrays:()=>Tte,isMobile:()=>Ts,isPow2:()=>gC,isWebGLSupported:()=>qk,log2:()=>_C,nextPow2:()=>i_,premultiplyBlendMode:()=>dC,premultiplyRgba:()=>Jk,premultiplyTint:()=>Ay,premultiplyTintToRgba:()=>pC,removeItems:()=>$u,rgb2hex:()=>hC,sayHello:()=>cC,sign:()=>Xu,skipHello:()=>Kk,string2hex:()=>Ho,trimCanvas:()=>eF,uid:()=>Kc,url:()=>zu});var T={};function y(n){return"function"==typeof n}function S(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}M.r(T),M.d(T,{ALPHA_MODES:()=>eo,AbstractBatchRenderer:()=>$F,AbstractMultiResource:()=>Uy,AbstractRenderer:()=>lO,AccessibilityManager:()=>TC,AnimatedSprite:()=>r3,AppLoaderPlugin:()=>cB,Application:()=>p_,ArrayResource:()=>xC,Attribute:()=>FC,BLEND_MODES:()=>Ue,BUFFER_BITS:()=>$c,BUFFER_TYPE:()=>Ir,BaseImageResource:()=>hl,BasePrepare:()=>kO,BaseRenderTexture:()=>c_,BaseTexture:()=>Qn,BatchDrawCall:()=>qy,BatchGeometry:()=>uO,BatchPluginFactory:()=>JF,BatchRenderer:()=>QF,BatchShaderGenerator:()=>XF,BatchSystem:()=>GC,BatchTextureArray:()=>Jy,BitmapFont:()=>Zl,BitmapFontData:()=>T_,BitmapFontLoader:()=>KB,BitmapText:()=>C_,BlobResource:()=>fB,Bounds:()=>zf,Buffer:()=>Nr,BufferResource:()=>$f,CLEAR_MODES:()=>Mo,CanvasExtract:()=>gL,CanvasGraphicsRenderer:()=>hL,CanvasMeshRenderer:()=>lL,CanvasPrepare:()=>mL,CanvasRenderer:()=>pl,CanvasResource:()=>l_,CanvasSpriteRenderer:()=>fL,Circle:()=>oF,CompressedTextureLoader:()=>pB,CompressedTextureResource:()=>t0,Container:()=>Xi,ContextSystem:()=>jC,CountLimiter:()=>kB,CubeResource:()=>RC,DDSLoader:()=>mB,DEG_TO_RAD:()=>rF,DRAW_MODES:()=>lo,DisplayObject:()=>er,ENV:()=>Zr,Ellipse:()=>sF,Extract:()=>iB,FORMATS:()=>Ye,FORMATS_TO_COMPONENTS:()=>yB,FillStyle:()=>yO,Filter:()=>Jl,FilterState:()=>bF,FilterSystem:()=>UC,Framebuffer:()=>jy,FramebufferSystem:()=>VC,GC_MODES:()=>Yf,GLFramebuffer:()=>SF,GLProgram:()=>VF,GLTexture:()=>Ky,GRAPHICS_CURVES:()=>Jf,Geometry:()=>Xf,GeometrySystem:()=>YC,Graphics:()=>Cs,GraphicsData:()=>wO,GraphicsGeometry:()=>DB,IGLUniformData:()=>fne,INSTALLED:()=>a_,INTERNAL_FORMATS:()=>_n,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>g_,ImageBitmapResource:()=>NC,ImageResource:()=>Gy,InteractionData:()=>OC,InteractionEvent:()=>fF,InteractionManager:()=>wC,InteractionTrackingData:()=>ky,KTXLoader:()=>EB,LINE_CAP:()=>fl,LINE_JOIN:()=>dl,LineStyle:()=>IB,Loader:()=>wo,LoaderResource:()=>tr,MASK_TYPES:()=>li,MIPMAP_MODES:()=>Vo,MSAA_QUALITY:()=>On,MaskData:()=>TF,MaskSystem:()=>QC,Matrix:()=>pi,Mesh:()=>Zs,MeshBatchUvs:()=>YB,MeshGeometry:()=>S_,MeshMaterial:()=>lh,NineSlicePlane:()=>O_,ObjectRenderer:()=>u_,ObservablePoint:()=>Ku,PI_2:()=>o_,PRECISION:()=>Dr,ParticleContainer:()=>TB,ParticleRenderer:()=>OB,PlaneGeometry:()=>QB,Point:()=>Ni,Polygon:()=>s_,Prepare:()=>BB,Program:()=>Kf,ProjectionSystem:()=>tO,Quad:()=>yF,QuadUv:()=>BC,RAD_TO_DEG:()=>iF,RENDERER_TYPE:()=>Fa,Rectangle:()=>Vn,RenderTexture:()=>Js,RenderTexturePool:()=>mF,RenderTextureSystem:()=>nO,Renderer:()=>La,Resource:()=>eh,RopeGeometry:()=>ZB,RoundedRectangle:()=>aF,Runner:()=>co,SAMPLER_TYPES:()=>Xc,SCALE_MODES:()=>Rr,SHAPES:()=>ni,SVGResource:()=>DC,ScissorSystem:()=>ZC,Shader:()=>ql,ShaderSystem:()=>iO,SimpleMesh:()=>n3,SimplePlane:()=>t3,SimpleRope:()=>e3,Sprite:()=>Yo,SpriteMaskFilter:()=>kF,Spritesheet:()=>LB,SpritesheetLoader:()=>UB,State:()=>Jc,StateSystem:()=>rO,StencilSystem:()=>eO,System:()=>Ane,TARGETS:()=>es,TEXT_GRADIENT:()=>sh,TYPES:()=>yt,TYPES_TO_BYTES_PER_COMPONENT:()=>mO,TYPES_TO_BYTES_PER_PIXEL:()=>bB,TemporaryDisplayObject:()=>SC,Text:()=>b_,TextMetrics:()=>Os,TextStyle:()=>ah,Texture:()=>Gt,TextureGCSystem:()=>oO,TextureLoader:()=>uB,TextureMatrix:()=>$y,TextureSystem:()=>sO,TextureUvs:()=>kC,Ticker:()=>to,TickerPlugin:()=>dF,TilingSprite:()=>jB,TilingSpriteRenderer:()=>HB,TimeLimiter:()=>Nie,Transform:()=>yC,UPDATE_PRIORITY:()=>Ba,UniformGroup:()=>qc,VERSION:()=>Ere,VideoResource:()=>IC,ViewableBuffer:()=>Qy,WRAP_MODES:()=>Ks,accessibleTarget:()=>cF,autoDetectRenderer:()=>WF,autoDetectResource:()=>Ly,canvasUtils:()=>Mr,checkMaxIfStatementsInShader:()=>IF,createUBOElements:()=>UF,defaultFilterVertex:()=>cO,defaultVertex:()=>zF,filters:()=>Sre,generateProgram:()=>HF,generateUniformBufferSync:()=>jF,getTestContext:()=>PF,getUBOData:()=>GF,graphicsUtils:()=>mie,groupD8:()=>Hi,interactiveTarget:()=>pF,isMobile:()=>Ts,resources:()=>ZF,settings:()=>ct,systems:()=>eB,uniformParsers:()=>th,utils:()=>u});const m=S(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class f{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(y(i))try{i()}catch(o){t=o instanceof m?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{b(o)}catch(s){t=null!=t?t:[],s instanceof m?t=[...t,...s.errors]:t.push(s)}}if(t)throw new m(t)}}add(t){var e;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof f){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_(e,t)}remove(t){const{_finalizers:e}=this;e&&_(e,t),t instanceof f&&t._removeParent(this)}}f.EMPTY=(()=>{const n=new f;return n.closed=!0,n})();const p=f.EMPTY;function d(n){return n instanceof f||n&&"closed"in n&&y(n.remove)&&y(n.add)&&y(n.unsubscribe)}function b(n){y(n)?n():n.unsubscribe()}const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(n,t,...e){const{delegate:i}=h;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=h;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function v(n){h.setTimeout(()=>{const{onUnhandledError:t}=C;if(!t)throw n;t(n)})}function O(){}const x=H("C",void 0,void 0);function H(n,t,e){return{kind:n,value:t,error:e}}let L=null;function j(n){if(C.useDeprecatedSynchronousErrorHandling){const t=!L;if(t&&(L={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=L;if(L=null,e)throw i}}else n()}class V extends f{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=Ee}static create(t,e,i){return new J(t,e,i)}next(t){this.isStopped?_e(function G(n){return H("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_e(function k(n){return H("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_e(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function W(n,t){return Q.call(n,t)}class ee{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ue(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ue(i)}else ue(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ue(e)}}}class J extends V{constructor(t,e,i){let r;if(super(),y(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&C.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&W(t.next,o),error:t.error&&W(t.error,o),complete:t.complete&&W(t.complete,o)}):r=t}this.destination=new ee(r)}}function ue(n){C.useDeprecatedSynchronousErrorHandling?function F(n){C.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=n)}(n):v(n)}function _e(n,t){const{onStoppedNotification:e}=C;e&&h.setTimeout(()=>e(n,t))}const Ee={closed:!0,next:O,error:function Ce(n){throw n},complete:O},X="function"==typeof Symbol&&Symbol.observable||"@@observable";function se(n){return n}let oe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Be(n){return n&&n instanceof V||function de(n){return n&&y(n.next)&&y(n.error)&&y(n.complete)}(n)&&d(n)}(e)?e:new J(e,i,r);return j(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=le(i))((r,o)=>{const s=new J({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[X](){return this}pipe(...e){return function be(n){return 0===n.length?se:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=le(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function le(n){var t;return null!==(t=null!=n?n:C.Promise)&&void 0!==t?t:Promise}const Je=S(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Mt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Je}next(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?p:(this.currentObservers=null,o.push(e),new f(()=>{this.currentObservers=null,_(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new oe;return e.source=this,e}}return n.create=(t,e)=>new Mt(t,e),n})();class Mt extends Le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:p}}function qe(n){return y(null==n?void 0:n.lift)}function je(n){return t=>{if(qe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,t,e,i,r){return new fe(n,t,e,i,r)}class fe extends V{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pe(n,t){return je((e,i)=>{let r=0;e.subscribe(ie(i,o=>{i.next(n.call(t,o,r++))}))})}function He(n,t,e,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function Fe(n){return this instanceof Fe?(this.v=n,this):new Fe(n)}function st(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(w){i[w]&&(r[w]=function(P){return new Promise(function(A,D){o.push([w,P,A,D])>1||a(w,P)})})}function a(w,P){try{!function l(w){w.value instanceof Fe?Promise.resolve(w.value.v).then(c,g):E(o[0][2],w)}(i[w](P))}catch(A){E(o[0][3],A)}}function c(w){a("next",w)}function g(w){a("throw",w)}function E(w,P){w(P),o.shift(),o.length&&a(o[0][0],o[0][1])}}function vt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ve(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Lt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Tn(n){return y(null==n?void 0:n.then)}function lr(n){return y(n[X])}function cr(n){return Symbol.asyncIterator&&y(null==n?void 0:n[Symbol.asyncIterator])}function Fn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _i=function Jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $t(n){return y(null==n?void 0:n[_i])}function Bi(n){return st(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Fe(e.read());if(r)return yield Fe(void 0);yield yield Fe(i)}}finally{e.releaseLock()}})}function ur(n){return y(null==n?void 0:n.getReader)}function gt(n){if(n instanceof oe)return n;if(null!=n){if(lr(n))return function hr(n){return new oe(t=>{const e=n[X]();if(y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Lt(n))return function Fr(n){return new oe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Tn(n))return function Ls(n){return new oe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,v)})}(n);if(cr(n))return Us(n);if($t(n))return function Ou(n){return new oe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ur(n))return function Nl(n){return Us(Bi(n))}(n)}throw Fn(n)}function Us(n){return new oe(t=>{(function dr(n,t){var e,i,r,o;return function qt(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(g){try{c(i.next(g))}catch(E){s(E)}}function l(g){try{c(i.throw(g))}catch(E){s(E)}}function c(g){g.done?o(g.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(g.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=vt(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ko(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function wi(n,t,e=1/0){return y(t)?wi((i,r)=>pe((o,s)=>t(i,o,r,s))(gt(n(i,r))),e):("number"==typeof t&&(e=t),je((i,r)=>function $r(n,t,e,i,r,o,s,a){const l=[];let c=0,g=0,E=!1;const w=()=>{E&&!l.length&&!c&&t.complete()},P=D=>c<i?A(D):l.push(D),A=D=>{o&&t.next(D),c++;let B=!1;gt(e(D,g++)).subscribe(ie(t,Y=>{null==r||r(Y),o?P(Y):t.next(Y)},()=>{B=!0},void 0,()=>{if(B)try{for(c--;l.length&&c<i;){const Y=l.shift();s?ko(t,s,()=>A(Y)):A(Y)}w()}catch(Y){t.error(Y)}}))};return n.subscribe(ie(t,P,()=>{E=!0,w()})),()=>{null==a||a()}}(i,r,n,e)))}function Br(n=1/0){return wi(se,n)}const Qe=new oe(n=>n.complete());function ui(n){return n&&y(n.schedule)}function rn(n){return n[n.length-1]}function Pi(n){return y(rn(n))?n.pop():void 0}function cs(n){return ui(rn(n))?n.pop():void 0}function Ai(n,t=0){return je((e,i)=>{e.subscribe(ie(i,r=>ko(i,n,()=>i.next(r),t),()=>ko(i,n,()=>i.complete(),t),r=>ko(i,n,()=>i.error(r),t)))})}function fr(n,t=0){return je((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function va(n,t){if(!n)throw new Error("Iterable cannot be null");return new oe(e=>{ko(e,t,()=>{const i=n[Symbol.asyncIterator]();ko(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Gn(n,t){return t?function Mu(n,t){if(null!=n){if(lr(n))return function go(n,t){return gt(n).pipe(fr(t),Ai(t))}(n,t);if(Lt(n))return function yr(n,t){return new oe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Tn(n))return function Xr(n,t){return gt(n).pipe(fr(t),Ai(t))}(n,t);if(cr(n))return va(n,t);if($t(n))return function kl(n,t){return new oe(e=>{let i;return ko(e,t,()=>{i=n[_i](),ko(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>y(null==i?void 0:i.return)&&i.return()})}(n,t);if(ur(n))return function Sc(n,t){return va(Bi(n),t)}(n,t)}throw Fn(n)}(n,t):gt(n)}function fi(...n){const t=cs(n),e=function on(n,t){return"number"==typeof rn(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?gt(i[0]):Br(e)(Gn(i,t)):Qe}function Xn(n){return n<=0?()=>Qe:je((t,e)=>{let i=0;t.subscribe(ie(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function _o(n={}){const{connector:t=(()=>new Le),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,g=!1,E=!1;const w=()=>{null==a||a.unsubscribe(),a=null},P=()=>{w(),s=l=null,g=E=!1},A=()=>{const D=s;P(),null==D||D.unsubscribe()};return je((D,B)=>{c++,!E&&!g&&w();const Y=l=null!=l?l:t();B.add(()=>{c--,0===c&&!E&&!g&&(a=mo(A,r))}),Y.subscribe(B),s||(s=new J({next:K=>Y.next(K),error:K=>{E=!0,w(),a=mo(P,e,K),Y.error(K)},complete:()=>{g=!0,w(),a=mo(P,i),Y.complete()}}),Gn(D).subscribe(s))})(o)}}function mo(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Xn(1)).subscribe(()=>n())}function Cn(n){for(let t in n)if(n[t]===Cn)return t;throw Error("Could not find renamed property on target object.")}function Gs(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ri(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ri).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Pd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Ad=Cn({__forward_ref__:Cn});function vn(n){return n.__forward_ref__=vn,n.toString=function(){return ri(this())},n}function yn(n){return pA(n)?n():n}function pA(n){return"function"==typeof n&&n.hasOwnProperty(Ad)&&n.__forward_ref__===vn}class kt extends Error{constructor(t,e){super(function D1(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function fn(n){return"string"==typeof n?n:null==n?"":String(n)}function Fo(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fn(n)}function Um(n,t){const e=t?` in ${t}`:"";throw new kt(-201,`No provider for ${Fo(n)} found${e}`)}function hs(n,t){null==n&&function Li(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function at(n){return{providers:n.providers||[],imports:n.imports||[]}}function I1(n){return gA(n,Gm)||gA(n,mA)}function gA(n,t){return n.hasOwnProperty(t)?n[t]:null}function _A(n){return n&&(n.hasOwnProperty(N1)||n.hasOwnProperty(oj))?n[N1]:null}const Gm=Cn({\u0275prov:Cn}),N1=Cn({\u0275inj:Cn}),mA=Cn({ngInjectableDef:Cn}),oj=Cn({ngInjectorDef:Cn});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let k1;function Tc(n){const t=k1;return k1=n,t}function vA(n,t,e){const i=I1(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ln.Optional?null:void 0!==t?t:void Um(ri(n),"Injector")}function Cc(n){return{toString:n}.toString()}var ya=(()=>((ya=ya||{})[ya.OnPush=0]="OnPush",ya[ya.Default=1]="Default",ya))(),ba=(()=>{return(n=ba||(ba={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ba;var n})();const aj="undefined"!=typeof globalThis&&globalThis,lj="undefined"!=typeof window&&window,cj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mi=aj||"undefined"!=typeof global&&global||lj||cj,xd={},Ti=[],jm=Cn({\u0275cmp:Cn}),F1=Cn({\u0275dir:Cn}),Vm=Cn({\u0275pipe:Cn}),yA=Cn({\u0275mod:Cn}),Bl=Cn({\u0275fac:Cn}),$p=Cn({__NG_ELEMENT_ID__:Cn});let uj=0;function pt(n){return Cc(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ya.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ti,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ba.Emulated,id:"c",styles:n.styles||Ti,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=uj++,i.inputs=TA(n.inputs,e),i.outputs=TA(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(bA):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(EA):null,i})}function bA(n){return vo(n)||function Oc(n){return n[F1]||null}(n)}function EA(n){return function wu(n){return n[Vm]||null}(n)}const SA={};function lt(n){return Cc(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ti,declarations:n.declarations||Ti,imports:n.imports||Ti,exports:n.exports||Ti,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(SA[n.id]=n.type),t})}function TA(n,t){if(null==n)return xd;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const mt=pt;function Kr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function vo(n){return n[jm]||null}function js(n,t){const e=n[yA]||null;if(!e&&!0===t)throw new Error(`Type ${ri(n)} does not have '\u0275mod' property.`);return e}function Ka(n){return Array.isArray(n)&&"object"==typeof n[1]}function Sa(n){return Array.isArray(n)&&!0===n[1]}function U1(n){return 0!=(8&n.flags)}function zm(n){return 2==(2&n.flags)}function $m(n){return 1==(1&n.flags)}function Ta(n){return null!==n.template}function _j(n){return 0!=(512&n[2])}function Ru(n,t){return n.hasOwnProperty(Bl)?n[Bl]:null}class yj{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Jr(){return OA}function OA(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ej),bj}function bj(){const n=wA(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===xd)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Ej(n,t,e,i){const r=wA(n)||function Sj(n,t){return n[MA]=t}(n,{previous:xd,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new yj(l&&l.currentValue,t,s===xd),n[i]=t}Jr.ngInherit=!0;const MA="__ngSimpleChanges__";function wA(n){return n[MA]||null}let Y1;function pr(n){return!!n.listen}const PA={createRenderer:(n,t)=>function W1(){return void 0!==Y1?Y1:"undefined"!=typeof document?document:void 0}()};function wr(n){for(;Array.isArray(n);)n=n[0];return n}function Xm(n,t){return wr(t[n])}function Ys(n,t){return wr(t[n.index])}function z1(n,t){return n.data[t]}function kd(n,t){return n[t]}function fs(n,t){const e=t[n];return Ka(e)?e:e[0]}function AA(n){return 4==(4&n[2])}function $1(n){return 128==(128&n[2])}function Mc(n,t){return null==t?null:n[t]}function xA(n){n[18]=0}function X1(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const sn={lFrame:LA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function RA(){return sn.bindingsEnabled}function ot(){return sn.lFrame.lView}function Kn(){return sn.lFrame.tView}function dt(n){return sn.lFrame.contextLView=n,n[8]}function Lr(){let n=DA();for(;null!==n&&64===n.type;)n=n.parent;return n}function DA(){return sn.lFrame.currentTNode}function qa(n,t){const e=sn.lFrame;e.currentTNode=n,e.isParent=t}function K1(){return sn.lFrame.isParent}function q1(){sn.lFrame.isParent=!1}function Km(){return sn.isInCheckNoChangesMode}function qm(n){sn.isInCheckNoChangesMode=n}function Bo(){const n=sn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ll(){return sn.lFrame.bindingIndex}function Fd(){return sn.lFrame.bindingIndex++}function Ul(n){const t=sn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Uj(n,t){const e=sn.lFrame;e.bindingIndex=e.bindingRootIndex=n,J1(t)}function J1(n){sn.lFrame.currentDirectiveIndex=n}function kA(){return sn.lFrame.currentQueryIndex}function Z1(n){sn.lFrame.currentQueryIndex=n}function jj(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function FA(n,t,e){if(e&ln.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ln.Host||(r=jj(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=sn.lFrame=BA();return i.currentTNode=t,i.lView=n,!0}function Jm(n){const t=BA(),e=n[1];sn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function BA(){const n=sn.lFrame,t=null===n?null:n.child;return null===t?LA(n):t}function LA(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function UA(){const n=sn.lFrame;return sn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const GA=UA;function Qm(){const n=UA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lo(){return sn.lFrame.selectedIndex}function wc(n){sn.lFrame.selectedIndex=n}function gr(){const n=sn.lFrame;return z1(n.tView,n.selectedIndex)}function Zm(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:g}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=g&&(n.destroyHooks||(n.destroyHooks=[])).push(e,g)}}function ev(n,t,e){jA(n,t,3,e)}function tv(n,t,e,i){(3&n[2])===e&&jA(n,t,e,i)}function eE(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function jA(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(qj(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function qj(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Qp{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function nv(n,t,e){const i=pr(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];nE(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function VA(n){return 3===n||4===n||6===n}function nE(n){return 64===n.charCodeAt(0)}function iv(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||HA(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function HA(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function YA(n){return-1!==n}function Bd(n){return 32767&n}function Ld(n,t){let e=function tV(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let iE=!0;function rv(n){const t=iE;return iE=n,t}let nV=0;function eg(n,t){const e=oE(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,rE(i.data,n),rE(t,null),rE(i.blueprint,null));const r=ov(n,t),o=n.injectorIndex;if(YA(r)){const s=Bd(r),a=Ld(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function rE(n,t){n.push(0,0,0,0,0,0,0,0,t)}function oE(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ov(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function sv(n,t,e){!function iV(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty($p)&&(i=e[$p]),null==i&&(i=e[$p]=nV++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function $A(n,t,e){if(e&ln.Optional)return n;Um(t,"NodeInjector")}function XA(n,t,e,i){if(e&ln.Optional&&void 0===i&&(i=null),0==(e&(ln.Self|ln.Host))){const r=n[9],o=Tc(void 0);try{return r?r.get(t,i,e&ln.Optional):vA(t,i,e&ln.Optional)}finally{Tc(o)}}return $A(i,t,e)}function KA(n,t,e,i=ln.Default,r){if(null!==n){const o=function aV(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty($p)?n[$p]:void 0;return"number"==typeof t?t>=0?255&t:oV:t}(e);if("function"==typeof o){if(!FA(t,n,i))return i&ln.Host?$A(r,e,i):XA(t,e,i,r);try{const s=o(i);if(null!=s||i&ln.Optional)return s;Um(e)}finally{GA()}}else if("number"==typeof o){let s=null,a=oE(n,t),l=-1,c=i&ln.Host?t[16][6]:null;for((-1===a||i&ln.SkipSelf)&&(l=-1===a?ov(n,t):t[a+8],-1!==l&&QA(i,!1)?(s=t[1],a=Bd(l),t=Ld(l,t)):a=-1);-1!==a;){const g=t[1];if(JA(o,a,g.data)){const E=sV(a,t,e,s,i,c);if(E!==qA)return E}l=t[a+8],-1!==l&&QA(i,t[1].data[a+8]===c)&&JA(o,a,t)?(s=g,a=Bd(l),t=Ld(l,t)):a=-1}}}return XA(t,e,i,r)}const qA={};function oV(){return new Ud(Lr(),ot())}function sV(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],g=av(a,s,e,null==i?zm(a)&&iE:i!=s&&0!=(3&a.type),r&ln.Host&&o===a);return null!==g?tg(t,s,g,a):qA}function av(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,g=o>>20,w=r?a+g:n.directiveEnd;for(let P=i?a:a+g;P<w;P++){const A=s[P];if(P<l&&e===A||P>=l&&A.type===e)return P}if(r){const P=s[l];if(P&&Ta(P)&&P.type===e)return l}return null}function tg(n,t,e,i){let r=n[e];const o=t.data;if(function Jj(n){return n instanceof Qp}(r)){const s=r;s.resolving&&function Z6(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new kt(-200,`Circular dependency in DI detected for ${n}${e}`)}(Fo(o[e]));const a=rv(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Tc(s.injectImpl):null;FA(n,i,ln.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Kj(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=OA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Tc(l),rv(a),s.resolving=!1,GA()}}return r}function JA(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function QA(n,t){return!(n&ln.Self||n&ln.Host&&t)}class Ud{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return KA(this._tNode,this._lView,t,i,e)}}function Ur(n){return Cc(()=>{const t=n.prototype.constructor,e=t[Bl]||sE(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Bl]||sE(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function sE(n){return pA(n)?()=>{const t=sE(yn(n));return t&&t()}:Ru(n)}const jd="__parameters__";function Hd(n,t,e){return Cc(()=>{const i=function aE(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,g){const E=l.hasOwnProperty(jd)?l[jd]:Object.defineProperty(l,jd,{value:[]})[jd];for(;E.length<=g;)E.push(null);return(E[g]=E[g]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Qt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=rt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cV=new Qt("AnalyzeForEntryComponents");function Ws(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Ws(i,t)):t!==n&&t.push(i)}return t}function Ja(n,t){n.forEach(e=>Array.isArray(e)?Ja(e,t):t(e))}function ex(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function lv(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function rg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ps(n,t,e){let i=Yd(n,t);return i>=0?n[1|i]=e:(i=~i,function dV(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function cE(n,t){const e=Yd(n,t);if(e>=0)return n[1|e]}function Yd(n,t){return function ix(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const og={},hE="__NG_DI_FLAG__",uv="ngTempTokenPath",yV=/\n/gm,ox="__source",EV=Cn({provide:String,useValue:Cn});let sg;function sx(n){const t=sg;return sg=n,t}function SV(n,t=ln.Default){if(void 0===sg)throw new kt(203,"");return null===sg?vA(n,void 0,t):sg.get(n,t&ln.Optional?null:void 0,t)}function Ne(n,t=ln.Default){return(function sj(){return k1}()||SV)(yn(n),t)}const lx=Ne;function dE(n){const t=[];for(let e=0;e<n.length;e++){const i=yn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new kt(900,"");let r,o=ln.Default;for(let s=0;s<i.length;s++){const a=i[s],l=TV(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Ne(r,o))}else t.push(Ne(i))}return t}function ag(n,t){return n[hE]=t,n.prototype[hE]=t,n}function TV(n){return n[hE]}const hv=ag(Hd("Inject",n=>({token:n})),-1),Ac=ag(Hd("Optional"),8),lg=ag(Hd("SkipSelf"),4);let fv,pv;function zd(n){var t;return(null===(t=function pE(){if(void 0===fv&&(fv=null,mi.trustedTypes))try{fv=mi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return fv}())||void 0===t?void 0:t.createHTML(n))||n}function gx(n){var t;return(null===(t=function gE(){if(void 0===pv&&(pv=null,mi.trustedTypes))try{pv=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return pv}())||void 0===t?void 0:t.createScriptURL(n))||n}class Iu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class FV extends Iu{getTypeName(){return"HTML"}}class BV extends Iu{getTypeName(){return"Style"}}class LV extends Iu{getTypeName(){return"Script"}}class UV extends Iu{getTypeName(){return"URL"}}class GV extends Iu{getTypeName(){return"ResourceURL"}}function gs(n){return n instanceof Iu?n.changingThisBreaksApplicationSecurity:n}function Qa(n,t){const e=_x(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function _x(n){return n instanceof Iu&&n.getTypeName()||null}class zV{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(zd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $V{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=zd(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=zd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const KV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ug(n){return(n=String(n)).match(KV)||n.match(qV)?n:"unsafe:"+n}function vx(n){return(n=String(n)).split(",").map(t=>ug(t.trim())).join(", ")}function Za(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function hg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const yx=Za("area,br,col,hr,img,wbr"),bx=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ex=Za("rp,rt"),_E=hg(yx,hg(bx,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hg(Ex,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hg(Ex,bx)),mE=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vE=Za("srcset"),Sx=hg(mE,vE,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),JV=Za("script,style,template");class QV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!_E.hasOwnProperty(e))return this.sanitizedSomething=!0,!JV.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Sx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;mE[a]&&(l=ug(l)),vE[a]&&(l=vx(l)),this.buf.push(" ",s,'="',Tx(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();_E.hasOwnProperty(e)&&!yx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Tx(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ZV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eH=/([^\#-~ |!])/g;function Tx(n){return n.replace(/&/g,"&amp;").replace(ZV,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(eH,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gv;function Cx(n,t){let e=null;try{gv=gv||function mx(n){const t=new $V(n);return function XV(){try{return!!(new window.DOMParser).parseFromString(zd(""),"text/html")}catch(n){return!1}}()?new zV(t):t}(n);let i=t?String(t):"";e=gv.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=gv.getInertBodyElement(i)}while(i!==o);return zd((new QV).sanitizeChildren(yE(e)||e))}finally{if(e){const i=yE(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function yE(n){return"content"in n&&function tH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ri=(()=>((Ri=Ri||{})[Ri.NONE=0]="NONE",Ri[Ri.HTML=1]="HTML",Ri[Ri.STYLE=2]="STYLE",Ri[Ri.SCRIPT=3]="SCRIPT",Ri[Ri.URL=4]="URL",Ri[Ri.RESOURCE_URL=5]="RESOURCE_URL",Ri))();function Ui(n){const t=dg();return t?t.sanitize(Ri.URL,n)||"":Qa(n,"URL")?gs(n):ug(fn(n))}function _v(n){const t=dg();if(t)return gx(t.sanitize(Ri.RESOURCE_URL,n)||"");if(Qa(n,"ResourceURL"))return gx(gs(n));throw new kt(904,"")}function dg(){const n=ot();return n&&n[12]}const Mx="__ngContext__";function bo(n,t){n[Mx]=t}function EE(n){const t=function fg(n){return n[Mx]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function TE(n){return n.ngOriginalError}function vH(n,...t){n.error(...t)}class $d{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function mH(n){return n&&n.ngErrorLogger||vH}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&TE(t);for(;e&&TE(e);)e=TE(e);return e||null}}const PH=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mi))();function el(n){return n instanceof Function?n():n}var _s=(()=>((_s=_s||{})[_s.Important=1]="Important",_s[_s.DashCase=2]="DashCase",_s))();function OE(n,t){return undefined(n,t)}function pg(n){const t=n[3];return Sa(t)?t[3]:t}function ME(n){return kx(n[13])}function wE(n){return kx(n[4])}function kx(n){for(;null!==n&&!Sa(n);)n=n[4];return n}function Kd(n,t,e,i,r){if(null!=i){let o,s=!1;Sa(i)?o=i:Ka(i)&&(s=!0,i=i[0]);const a=wr(i);0===n&&null!==e?null==r?jx(t,e,a):Nu(t,e,a,r||null,!0):1===n&&null!==e?Nu(t,e,a,r||null,!0):2===n?function Xx(n,t,e){const i=mv(n,t);i&&function VH(n,t,e,i){pr(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function WH(n,t,e,i,r){const o=e[7];o!==wr(e)&&Kd(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];gg(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function AE(n,t,e){if(pr(n))return n.createElement(t,e);{const i=null!==e?function Mj(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Bx(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,X1(r,-1)),e.splice(i,1)}function xE(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Bx(r,i),t>0&&(n[e-1][4]=i[4]);const o=lv(n,10+t);!function NH(n,t){gg(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Lx(n,t){if(!(256&t[2])){const e=t[11];pr(e)&&e.destroyNode&&gg(n,t,e,3,null,null),function BH(n){let t=n[13];if(!t)return RE(n[1],n);for(;t;){let e=null;if(Ka(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ka(t)&&RE(t[1],t),t=t[3];null===t&&(t=n),Ka(t)&&RE(t[1],t),e=t&&t[4]}t=e}}(t)}}function RE(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function jH(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Qp)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function GH(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):wr(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&pr(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Sa(t[3])){e!==t[3]&&Bx(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Ux(n,t,e){return function Gx(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===ba.None||r===ba.Emulated)return null}return Ys(i,e)}(n,t.parent,e)}function Nu(n,t,e,i,r){pr(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function jx(n,t,e){pr(n)?n.appendChild(t,e):t.appendChild(e)}function Vx(n,t,e,i,r){null!==i?Nu(n,t,e,i,r):jx(n,t,e)}function mv(n,t){return pr(n)?n.parentNode(t):t.parentNode}function Hx(n,t,e){return Wx(n,t,e)}let Wx=function Yx(n,t,e){return 40&n.type?Ys(n,e):null};function vv(n,t,e,i){const r=Ux(n,i,t),o=t[11],a=Hx(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Vx(o,r,e[l],a,!1);else Vx(o,r,e,a,!1)}function yv(n,t){if(null!==t){const e=t.type;if(3&e)return Ys(t,n);if(4&e)return IE(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return yv(n,i);{const r=n[t.index];return Sa(r)?IE(-1,r):wr(r)}}if(32&e)return OE(t,n)()||wr(n[t.index]);{const i=$x(n,t);return null!==i?Array.isArray(i)?i[0]:yv(pg(n[16]),i):yv(n,t.next)}}return null}function $x(n,t){return null!==t?n[16][6].projection[t.projection]:null}function IE(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return yv(i,r)}return t[7]}function NE(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&bo(wr(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)NE(n,t,e.child,i,r,o,!1),Kd(t,n,r,a,o);else if(32&l){const c=OE(e,i);let g;for(;g=c();)Kd(t,n,r,g,o);Kd(t,n,r,a,o)}else 16&l?Kx(n,t,i,e,r,o):Kd(t,n,r,a,o);e=s?e.projectionNext:e.next}}function gg(n,t,e,i,r,o){NE(e,i,n.firstChild,t,r,o,!1)}function Kx(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Kd(t,n,r,l[c],o);else NE(n,t,l,s[3],r,o,!0)}function qx(n,t,e){pr(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function kE(n,t,e){pr(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Jx(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Qx="ng-template";function $H(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Jx(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Zx(n){return 4===n.type&&n.value!==Qx}function XH(n,t,e){return t===(4!==n.type||e?n.value:Qx)}function KH(n,t,e){let i=4;const r=n.attrs||[],o=function QH(n){for(let t=0;t<n.length;t++)if(VA(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!XH(n,l,e)||""===l&&1===t.length){if(Ca(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!$H(n.attrs,c,e)){if(Ca(i))return!1;s=!0}continue}const E=qH(8&i?"class":l,r,Zx(n),e);if(-1===E){if(Ca(i))return!1;s=!0;continue}if(""!==c){let w;w=E>o?"":r[E+1].toLowerCase();const P=8&i?w:null;if(P&&-1!==Jx(P,c,0)||2&i&&c!==w){if(Ca(i))return!1;s=!0}}}}else{if(!s&&!Ca(i)&&!Ca(l))return!1;if(s&&Ca(l))continue;s=!1,i=l|1&i}}return Ca(i)||s}function Ca(n){return 0==(1&n)}function qH(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ZH(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function eR(n,t,e=!1){for(let i=0;i<t.length;i++)if(KH(n,t[i],e))return!0;return!1}function e7(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function tR(n,t){return n?":not("+t.trim()+")":t}function t7(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Ca(s)&&(t+=tR(o,r),r=""),i=s,o=o||!Ca(i);e++}return""!==r&&(t+=tR(o,r)),t}const pn={};function N(n){nR(Kn(),ot(),Lo()+n,Km())}function nR(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&ev(t,o,e)}else{const o=n.preOrderHooks;null!==o&&tv(t,o,0,e)}wc(e)}function bv(n,t){return n<<17|t<<2}function Oa(n){return n>>17&32767}function FE(n){return 2|n}function Gl(n){return(131068&n)>>2}function BE(n,t){return-131069&n|t<<2}function LE(n){return 1|n}function fR(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Z1(r),s.contentQueries(2,t[o],o)}}}function _g(n,t,e,i,r,o,s,a,l,c){const g=t.blueprint.slice();return g[0]=r,g[2]=140|i,xA(g),g[3]=g[15]=n,g[8]=e,g[10]=s||n&&n[10],g[11]=a||n&&n[11],g[12]=l||n&&n[12]||null,g[9]=c||n&&n[9]||null,g[6]=o,g[16]=2==t.type?n[16]:g,g}function qd(n,t,e,i,r){let o=n.data[t];if(null===o)o=function $E(n,t,e,i,r){const o=DA(),s=K1(),l=n.data[t]=function y7(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function Lj(){return sn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Jp(){const n=sn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qa(o,!0),o}function Jd(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function mg(n,t,e){Jm(t);try{const i=n.viewQuery;null!==i&&nS(1,i,e);const r=n.template;null!==r&&pR(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fR(n,t),n.staticViewQueries&&nS(2,n.viewQuery,e);const o=n.components;null!==o&&function _7(n,t){for(let e=0;e<t.length;e++)B7(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Qm()}}function Qd(n,t,e,i){const r=t[2];if(256==(256&r))return;Jm(t);const o=Km();try{xA(t),function IA(n){return sn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&pR(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&ev(t,c,null)}else{const c=n.preOrderHooks;null!==c&&tv(t,c,0,null),eE(t,0)}if(function k7(n){for(let t=ME(n);null!==t;t=wE(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&X1(o,1),r[2]|=1024}}}(t),function N7(n){for(let t=ME(n);null!==t;t=wE(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];$1(i)&&Qd(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&fR(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&ev(t,c)}else{const c=n.contentHooks;null!==c&&tv(t,c,1),eE(t,1)}!function p7(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)wc(~r);else{const o=r,s=e[++i],a=e[++i];Uj(s,o),a(2,t[o])}}}finally{wc(-1)}}(n,t);const a=n.components;null!==a&&function g7(n,t){for(let e=0;e<t.length;e++)F7(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&nS(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&ev(t,c)}else{const c=n.viewHooks;null!==c&&tv(t,c,2),eE(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,X1(t[3],-1))}finally{Qm()}}function m7(n,t,e,i){const r=t[10],o=!Km(),s=AA(t);try{o&&!s&&r.begin&&r.begin(),s&&mg(n,t,i),Qd(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function pR(n,t,e,i,r){const o=Lo(),s=2&i;try{wc(-1),s&&t.length>20&&nR(n,t,20,Km()),e(i,r)}finally{wc(o)}}function gR(n,t,e){if(U1(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function XE(n,t,e){!RA()||(function M7(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||eg(e,t),bo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Ta(l);c&&R7(t,e,l);const g=tg(t,n,a,e);bo(g,t),null!==s&&D7(0,a-r,g,l,0,s),c&&(fs(e.index,t)[8]=g)}}(n,t,e,Ys(e,t)),128==(128&e.flags)&&function w7(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function Gj(){return sn.lFrame.currentDirectiveIndex}();try{wc(s);for(let l=i;l<r;l++){const c=n.data[l],g=t[l];J1(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&TR(c,g)}}finally{wc(-1),J1(a)}}(n,t,e))}function KE(n,t,e=Ys){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function _R(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Tv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Tv(n,t,e,i,r,o,s,a,l,c){const g=20+i,E=g+r,w=function v7(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:pn);return e}(g,E),P="function"==typeof c?c():c;return w[1]={type:n,blueprint:w,template:e,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1}}function yR(n,t,e,i){const r=AR(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&xR(n).push(i,r.length-1))}function bR(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function ms(n,t,e,i,r,o,s,a){const l=Ys(t,e);let g,c=t.inputs;!a&&null!=c&&(g=c[i])?(IR(n,e,g,i,r),zm(t)&&function S7(n,t){const e=fs(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function E7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,pr(o)?o.setProperty(l,i,r):nE(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function qE(n,t,e,i){let r=!1;if(RA()){const o=function P7(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];eR(e,s.selectors,!1)&&(r||(r=[]),sv(eg(e,t),n,s.type),Ta(s)?(CR(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,OR(e,n.data.length,o.length);for(let g=0;g<o.length;g++){const E=o[g];E.providersResolver&&E.providersResolver(E)}let a=!1,l=!1,c=Jd(n,t,o.length,null);for(let g=0;g<o.length;g++){const E=o[g];e.mergedAttrs=iv(e.mergedAttrs,E.hostAttrs),MR(n,e,t,c,E),x7(c,E,s),null!==E.contentQueries&&(e.flags|=8),(null!==E.hostBindings||null!==E.hostAttrs||0!==E.hostVars)&&(e.flags|=128);const w=E.type.prototype;!a&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function b7(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const g=r[c],E=g.inputs,w=null===o||Zx(t)?null:I7(E,o);s.push(w),a=bR(E,c,a),l=bR(g.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function A7(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new kt(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=iv(e.mergedAttrs,e.attrs),r}function SR(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function O7(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function TR(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function CR(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function x7(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ta(t)&&(e[""]=n)}}function OR(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function MR(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Ru(r.type)),s=new Qp(o,Ta(r),null);n.blueprint[i]=s,e[i]=s,SR(n,t,0,i,Jd(n,e,r.hostVars,pn),r)}function R7(n,t,e){const i=Ys(t,n),r=_R(e),o=n[10],s=Cv(n,_g(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function tl(n,t,e,i,r,o){const s=Ys(n,t);!function JE(n,t,e,i,r,o,s){if(null==o)pr(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?fn(o):s(o,i||"",r);pr(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function D7(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],g=s[l++],E=s[l++];null!==a?i.setInput(e,E,c,g):e[g]=E}}}function I7(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function wR(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function F7(n,t){const e=fs(t,n);if($1(e)){const i=e[1];80&e[2]?Qd(i,e,i.template,e[8]):e[5]>0&&QE(e)}}function QE(n){for(let i=ME(n);null!==i;i=wE(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];Qd(s,o,s.template,o[8])}else o[5]>0&&QE(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=fs(e[i],n);$1(r)&&r[5]>0&&QE(r)}}function B7(n,t){const e=fs(t,n),i=e[1];(function L7(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),mg(i,e,e[8])}function Cv(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function ZE(n){for(;n;){n[2]|=64;const t=pg(n);if(_j(n)&&!t)return n;n=t}return null}function tS(n,t,e){const i=t[10];i.begin&&i.begin();try{Qd(n,t,n.template,e)}catch(r){throw DR(t,r),r}finally{i.end&&i.end()}}function PR(n){!function eS(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=EE(e),r=i[1];m7(r,i,r.template,e)}}(n[8])}function nS(n,t,e){Z1(0),t(n,e)}const V7=(()=>Promise.resolve(null))();function AR(n){return n[7]||(n[7]=[])}function xR(n){return n.cleanup||(n.cleanup=[])}function DR(n,t){const e=n[9],i=e?e.get($d,null):null;i&&i.handleError(t)}function IR(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function jl(n,t,e){const i=Xm(t,n);!function Fx(n,t,e){pr(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Ov(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Pd(r,a):2==o&&(i=Pd(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const iS=new Qt("INJECTOR",-1);class NR{get(t,e=og){if(e===og){const i=new Error(`NullInjectorError: No provider for ${ri(t)}!`);throw i.name="NullInjectorError",i}return e}}const rS=new Qt("Set Injector scope."),vg={},W7={};let oS;function kR(){return void 0===oS&&(oS=new NR),oS}function FR(n,t=null,e=null,i){const r=BR(n,t,e,i);return r._resolveInjectorDefTypes(),r}function BR(n,t=null,e=null,i){return new z7(n,e,t||kR(),i)}class z7{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Ja(e,a=>this.processProvider(a,t,e)),Ja([t],a=>this.processInjectorType(a,[],o)),this.records.set(iS,Zd(void 0,this));const s=this.records.get(rS);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:ri(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=og,i=ln.Default){this.assertNotDestroyed();const r=sx(this),o=Tc(void 0);try{if(!(i&ln.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function e9(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qt}(t)&&I1(t);a=l&&this.injectableDefInScope(l)?Zd(sS(t),vg):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ln.Self?kR():this.parent).get(t,e=i&ln.Optional&&e===og?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[uv]=s[uv]||[]).unshift(ri(t)),r)throw s;return function CV(n,t,e,i){const r=n[uv];throw t[ox]&&r.unshift(t[ox]),n.message=function OV(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ri(t);if(Array.isArray(t))r=t.map(ri).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ri(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(yV,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[uv]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Tc(o),sx(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(ri(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kt(205,!1)}processInjectorType(t,e,i){if(!(t=yn(t)))return!1;let r=_A(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=_A(o)),null==r)return!1;if(null!=r.imports&&!a){let g;i.push(s);try{Ja(r.imports,E=>{this.processInjectorType(E,e,i)&&(void 0===g&&(g=[]),g.push(E))})}finally{}if(void 0!==g)for(let E=0;E<g.length;E++){const{ngModule:w,providers:P}=g[E];Ja(P,A=>this.processProvider(A,w,P||Ti))}}this.injectorDefTypes.add(s);const l=Ru(s)||(()=>new s);this.records.set(s,Zd(l,vg));const c=r.providers;if(null!=c&&!a){const g=t;Ja(c,E=>this.processProvider(E,g,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=ef(t=yn(t))?t:yn(t&&t.provide);const o=function X7(n,t,e){return UR(n)?Zd(void 0,n.useValue):Zd(LR(n),vg)}(t);if(ef(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Zd(void 0,vg,!0),s.factory=()=>dE(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===vg&&(e.value=W7,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Z7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=yn(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function sS(n){const t=I1(n),e=null!==t?t.factory:Ru(n);if(null!==e)return e;if(n instanceof Qt)throw new kt(204,!1);if(n instanceof Function)return function $7(n){const t=n.length;if(t>0)throw rg(t,"?"),new kt(204,!1);const e=function ij(n){const t=n&&(n[Gm]||n[mA]);if(t){const e=function rj(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new kt(204,!1)}function LR(n,t,e){let i;if(ef(n)){const r=yn(n);return Ru(r)||sS(r)}if(UR(n))i=()=>yn(n.useValue);else if(function q7(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...dE(n.deps||[]));else if(function K7(n){return!(!n||!n.useExisting)}(n))i=()=>Ne(yn(n.useExisting));else{const r=yn(n&&(n.useClass||n.provide));if(!function Q7(n){return!!n.deps}(n))return Ru(r)||sS(r);i=()=>new r(...dE(n.deps))}return i}function Zd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function UR(n){return null!==n&&"object"==typeof n&&EV in n}function ef(n){return"function"==typeof n}let Er=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return FR({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return FR({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=og,n.NULL=new NR,n.\u0275prov=rt({token:n,providedIn:"any",factory:()=>Ne(iS)}),n.__NG_ELEMENT_ID__=-1,n})();function l9(n,t){Zm(EE(n)[1],Lr())}function hi(n){let t=function JR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ta(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new kt(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=cS(n.inputs),s.declaredInputs=cS(n.declaredInputs),s.outputs=cS(n.outputs);const a=r.hostBindings;a&&d9(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&u9(n,l),c&&h9(n,c),Gs(n.inputs,r.inputs),Gs(n.declaredInputs,r.declaredInputs),Gs(n.outputs,r.outputs),Ta(r)&&r.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===hi&&(e=!1)}}t=Object.getPrototypeOf(t)}!function c9(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=iv(r.hostAttrs,e=iv(e,r.hostAttrs))}}(i)}function cS(n){return n===xd?{}:n===Ti?[]:n}function u9(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function h9(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function d9(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Mv=null;function tf(){if(!Mv){const n=mi.Symbol;if(n&&n.iterator)Mv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Mv=i)}}}return Mv}function yg(n){return!!uS(n)&&(Array.isArray(n)||!(n instanceof Map)&&tf()in n)}function uS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function nl(n,t,e){return n[t]=e}function Eo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ku(n,t,e,i){const r=Eo(n,t,e);return Eo(n,t+1,i)||r}function wv(n,t,e,i,r){const o=ku(n,t,e,i);return Eo(n,t+2,r)||o}function oi(n,t,e,i){const r=ot();return Eo(r,Fd(),t)&&(Kn(),tl(gr(),r,n,t,e,i)),oi}function rf(n,t,e,i){return Eo(n,Fd(),e)?t+fn(e)+i:pn}function ce(n,t,e,i,r,o,s,a){const l=ot(),c=Kn(),g=n+20,E=c.firstCreatePass?function y9(n,t,e,i,r,o,s,a,l){const c=t.consts,g=qd(t,n,4,s||null,Mc(c,a));qE(t,e,g,Mc(c,l)),Zm(t,g);const E=g.tViews=Tv(2,g,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,g),E.queries=t.queries.embeddedTView(g)),g}(g,c,l,t,e,i,r,o,s):c.data[g];qa(E,!1);const w=l[11].createComment("");vv(c,l,w,E),bo(w,l),Cv(l,l[g]=wR(w,l,w,E)),$m(E)&&XE(c,l,E),null!=s&&KE(l,E,a)}function So(n){return kd(function Bj(){return sn.lFrame.contextLView}(),20+n)}function $(n,t=ln.Default){const e=ot();return null===e?Ne(n,t):KA(Lr(),e,yn(n),t)}function gS(){throw new Error("invalid")}function q(n,t,e){const i=ot();return Eo(i,Fd(),t)&&ms(Kn(),gr(),i,n,t,i[11],e,!1),q}function _S(n,t,e,i,r){const s=r?"class":"style";IR(n,e,t.inputs[s],s,i)}function R(n,t,e,i){const r=ot(),o=Kn(),s=20+n,a=r[11],l=r[s]=AE(a,t,function Xj(){return sn.lFrame.currentNamespace}()),c=o.firstCreatePass?function G9(n,t,e,i,r,o,s){const a=t.consts,c=qd(t,n,2,r,Mc(a,o));return qE(t,e,c,Mc(a,s)),null!==c.attrs&&Ov(c,c.attrs,!1),null!==c.mergedAttrs&&Ov(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];qa(c,!0);const g=c.mergedAttrs;null!==g&&nv(a,l,g);const E=c.classes;null!==E&&kE(a,l,E);const w=c.styles;return null!==w&&qx(a,l,w),64!=(64&c.flags)&&vv(o,r,l,c),0===function Dj(){return sn.lFrame.elementDepthCount}()&&bo(l,r),function Ij(){sn.lFrame.elementDepthCount++}(),$m(c)&&(XE(o,r,c),gR(o,c,r)),null!==i&&KE(r,c),R}function I(){let n=Lr();K1()?q1():(n=n.parent,qa(n,!1));const t=n;!function Nj(){sn.lFrame.elementDepthCount--}();const e=Kn();return e.firstCreatePass&&(Zm(e,n),U1(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Zj(n){return 0!=(16&n.flags)}(t)&&_S(e,t,ot(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function eV(n){return 0!=(32&n.flags)}(t)&&_S(e,t,ot(),t.stylesWithoutHost,!1),I}function Pe(n,t,e,i){return R(n,t,e,i),I(),Pe}function Vt(n,t,e){const i=ot(),r=Kn(),o=n+20,s=r.firstCreatePass?function j9(n,t,e,i,r){const o=t.consts,s=Mc(o,i),a=qd(t,n,8,"ng-container",s);return null!==s&&Ov(a,s,!0),qE(t,e,a,Mc(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];qa(s,!0);const a=i[o]=i[11].createComment("");return vv(r,i,a,s),bo(a,i),$m(s)&&(XE(r,i,s),gR(r,s,i)),null!=e&&KE(i,s),Vt}function Ht(){let n=Lr();const t=Kn();return K1()?q1():(n=n.parent,qa(n,!1)),t.firstCreatePass&&(Zm(t,n),U1(n)&&t.queries.elementEnd(n)),Ht}function Ct(){return ot()}function Eg(n){return!!n&&"function"==typeof n.then}function vD(n){return!!n&&"function"==typeof n.subscribe}const mS=vD;function Ae(n,t,e,i){const r=ot(),o=Kn(),s=Lr();return function bD(n,t,e,i,r,o,s,a){const l=$m(i),g=n.firstCreatePass&&xR(n),E=t[8],w=AR(t);let P=!0;if(3&i.type||a){const B=Ys(i,t),Y=a?a(B):B,K=w.length,re=a?ae=>a(wr(ae[i.index])):i.index;if(pr(e)){let ae=null;if(!a&&l&&(ae=function V9(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,P=!1;else{o=vS(i,t,E,o,!1);const te=e.listen(Y,r,o);w.push(o,te),g&&g.push(r,re,K,K+1)}}else o=vS(i,t,E,o,!0),Y.addEventListener(r,o,s),w.push(o),g&&g.push(r,re,K,s)}else o=vS(i,t,E,o,!1);const A=i.outputs;let D;if(P&&null!==A&&(D=A[r])){const B=D.length;if(B)for(let Y=0;Y<B;Y+=2){const ne=t[D[Y]][D[Y+1]].subscribe(o),Oe=w.length;w.push(o,ne),g&&g.push(r,i.index,Oe,-(Oe+1))}}}(o,r,r[11],s,n,t,!!e,i),Ae}function ED(n,t,e,i){try{return!1!==e(i)}catch(r){return DR(n,r),!1}}function vS(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?fs(n.index,t):t;0==(32&t[2])&&ZE(a);let l=ED(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=ED(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function he(n=1){return function Vj(n){return(sn.lFrame.contextLView=function Hj(n,t){for(;n>0;)t=t[15],n--;return t}(n,sn.lFrame.contextLView))[8]}(n)}function H9(n,t){let e=null;const i=function JH(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?eR(n,o,!0):e7(i,o))return r}else e=r}return e}function Sg(n){const t=ot()[16][6];if(!t.projection){const i=t.projection=rg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?H9(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Tg(n,t=0,e){const i=ot(),r=Kn(),o=qd(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),q1(),64!=(64&o.flags)&&function YH(n,t,e){Kx(t[11],0,t,e,Ux(n,e,t),Hx(e.parent||t[6],e,t))}(r,i,o)}function pf(n,t,e){return Av(n,"",t,"",e),pf}function Av(n,t,e,i,r){const o=ot(),s=rf(o,t,e,i);return s!==pn&&ms(Kn(),gr(),o,n,s,o[11],r,!1),Av}function xD(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Oa(o):Gl(o),l=!1;for(;0!==a&&(!1===l||s);){const g=n[a+1];z9(n[a],t)&&(l=!0,n[a+1]=i?LE(g):FE(g)),a=i?Oa(g):Gl(g)}l&&(n[e+1]=i?FE(o):LE(o))}function z9(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Yd(n,t)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RD(n){return n.substring(jr.key,jr.keyEnd)}function DD(n,t){const e=jr.textEnd;return e===t?-1:(t=jr.keyEnd=function q9(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,jr.key=t,e),gf(n,t,e))}function gf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Dc(n,t,e){return wa(n,t,e,!1),Dc}function ut(n,t){return wa(n,t,null,!0),ut}function Ic(n){Pa(ps,rl,n,!0)}function rl(n,t){for(let e=function X9(n){return function ND(n){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=n.length}(n),DD(n,gf(n,0,jr.textEnd))}(t);e>=0;e=DD(t,e))ps(n,RD(t),!0)}function wa(n,t,e,i){const r=ot(),o=Kn(),s=Ul(2);o.firstUpdatePass&&LD(o,n,s,i),t!==pn&&Eo(r,s,t)&&GD(o,o.data[Lo()],r,r[11],n,r[s+1]=function sY(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ri(gs(n)))),n}(t,e),i,s)}function Pa(n,t,e,i){const r=Kn(),o=Ul(2);r.firstUpdatePass&&LD(r,null,o,i);const s=ot();if(e!==pn&&Eo(s,o,e)){const a=r.data[Lo()];if(VD(a,i)&&!BD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Pd(l,e||"")),_S(r,a,s,e,i)}else!function oY(n,t,e,i,r,o,s,a){r===pn&&(r=Ti);let l=0,c=0,g=0<r.length?r[0]:null,E=0<o.length?o[0]:null;for(;null!==g||null!==E;){const w=l<r.length?r[l+1]:void 0,P=c<o.length?o[c+1]:void 0;let D,A=null;g===E?(l+=2,c+=2,w!==P&&(A=E,D=P)):null===E||null!==g&&g<E?(l+=2,A=g):(c+=2,A=E,D=P),null!==A&&GD(n,t,e,i,A,D,s,a),g=l<r.length?r[l]:null,E=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function rY(n,t,e){if(null==e||""===e)return Ti;const i=[],r=gs(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function BD(n,t){return t>=n.expandoStartIndex}function LD(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Lo()],s=BD(n,e);VD(o,i)&&null===t&&!s&&(t=!1),t=function eY(n,t,e,i){const r=function Q1(n){const t=sn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Cg(e=yS(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=yS(r,n,t,e,i),null===o){let l=function tY(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Gl(i))return n[Oa(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=yS(null,n,t,l[1],i),l=Cg(l,t.attrs,i),function nY(n,t,e,i){n[Oa(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function iY(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Cg(i,n[o].hostAttrs,e);return Cg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Y9(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Oa(s),l=Gl(s);n[i]=e;let g,c=!1;if(Array.isArray(e)){const E=e;g=E[1],(null===g||Yd(E,g)>0)&&(c=!0)}else g=e;if(r)if(0!==l){const w=Oa(n[a+1]);n[i+1]=bv(w,a),0!==w&&(n[w+1]=BE(n[w+1],i)),n[a+1]=function r7(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=bv(a,0),0!==a&&(n[a+1]=BE(n[a+1],i)),a=i;else n[i+1]=bv(l,0),0===a?a=i:n[l+1]=BE(n[l+1],i),l=i;c&&(n[i+1]=FE(n[i+1])),xD(n,g,i,!0),xD(n,g,i,!1),function W9(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Yd(o,t)>=0&&(e[i+1]=LE(e[i+1]))}(t,g,n,i,o),s=bv(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function yS(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Cg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Cg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ps(n,s,!!e||t[++o]))}return void 0===n?null:n}function GD(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];xv(function oR(n){return 1==(1&n)}(c)?jD(l,t,e,r,Gl(c),s):void 0)||(xv(o)||function rR(n){return 2==(2&n)}(c)&&(o=jD(l,null,e,r,a,s)),function zH(n,t,e,i,r){const o=pr(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:_s.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=_s.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Xm(Lo(),e),r,o))}function jD(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),g=c?l[1]:l,E=null===g;let w=e[r+1];w===pn&&(w=E?Ti:void 0);let P=E?cE(w,i):g===i?w:void 0;if(c&&!xv(P)&&(P=cE(l,i)),xv(P)&&(a=P,s))return a;const A=n[r+1];r=s?Oa(A):Gl(A)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=cE(l,i))}return a}function xv(n){return void 0!==n}function VD(n,t){return 0!=(n.flags&(t?16:32))}function z(n,t=""){const e=ot(),i=Kn(),r=n+20,o=i.firstCreatePass?qd(i,r,1,t,null):i.data[r],s=e[r]=function PE(n,t){return pr(n)?n.createText(t):n.createTextNode(t)}(e[11],t);vv(i,e,s,o),qa(o,!1)}function Et(n){return Me("",n,""),Et}function Me(n,t,e){const i=ot(),r=rf(i,n,t,e);return r!==pn&&jl(i,Lo(),r),Me}function Gi(n,t,e,i,r){const o=ot(),s=function sf(n,t,e,i,r,o){const a=ku(n,Ll(),e,r);return Ul(2),a?t+fn(e)+i+fn(r)+o:pn}(o,n,t,e,i,r);return s!==pn&&jl(o,Lo(),s),Gi}function Og(n,t,e,i,r,o,s){const a=ot(),l=function af(n,t,e,i,r,o,s,a){const c=wv(n,Ll(),e,r,s);return Ul(3),c?t+fn(e)+i+fn(r)+o+fn(s)+a:pn}(a,n,t,e,i,r,o,s);return l!==pn&&jl(a,Lo(),l),Og}function Nc(n,t,e){const i=ot();return Eo(i,Fd(),t)&&ms(Kn(),gr(),i,n,t,i[11],e,!0),Nc}const Fu=void 0;var OY=["en",[["a","p"],["AM","PM"],Fu],[["AM","PM"],Fu,Fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fu,"{1} 'at' {0}",Fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CY(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let _f={};function Go(n){const t=function MY(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=aI(t);if(e)return e;const i=t.split("-")[0];if(e=aI(i),e)return e;if("en"===i)return OY;throw new Error(`Missing locale data for the locale "${n}".`)}function aI(n){return n in _f||(_f[n]=mi.ng&&mi.ng.common&&mi.ng.common.locales&&mi.ng.common.locales[n]),_f[n]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const Rv="en-US";let lI=Rv;function TS(n,t,e,i,r){if(n=yn(n),Array.isArray(n))for(let o=0;o<n.length;o++)TS(n[o],t,e,i,r);else{const o=Kn(),s=ot();let a=ef(n)?n:yn(n.provide),l=LR(n);const c=Lr(),g=1048575&c.providerIndexes,E=c.directiveStart,w=c.providerIndexes>>20;if(ef(n)||!n.multi){const P=new Qp(l,r,$),A=OS(a,t,r?g:g+w,E);-1===A?(sv(eg(c,s),o,a),CS(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(P),s.push(P)):(e[A]=P,s[A]=P)}else{const P=OS(a,t,g+w,E),A=OS(a,t,g,g+w),D=P>=0&&e[P],B=A>=0&&e[A];if(r&&!B||!r&&!D){sv(eg(c,s),o,a);const Y=function SW(n,t,e,i,r){const o=new Qp(n,e,$);return o.multi=[],o.index=t,o.componentProviders=0,DI(o,r,i&&!e),o}(r?EW:bW,e.length,r,i,l);!r&&B&&(e[A].providerFactory=Y),CS(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(Y),s.push(Y)}else CS(o,n,P>-1?P:A,DI(e[r?A:P],l,!r&&i));!r&&i&&B&&e[A].componentProviders++}}}function CS(n,t,e,i){const r=ef(t),o=function J7(n){return!!n.useClass}(t);if(r||o){const l=(o?yn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const g=c.indexOf(e);-1===g?c.push(e,[i,l]):c[g+1].push(i,l)}else c.push(e,l)}}}function DI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function OS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function bW(n,t,e,i){return MS(this.multi,[])}function EW(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=tg(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),MS(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],MS(r,o);return o}function MS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ti(n,t=[]){return e=>{e.providersResolver=(i,r)=>function yW(n,t,e){const i=Kn();if(i.firstCreatePass){const r=Ta(n);TS(e,i.data,i.blueprint,r,!0),TS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class II{}class OW{resolveComponentFactory(t){throw function CW(n){const t=Error(`No component factory found for ${ri(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let vf=(()=>{class n{}return n.NULL=new OW,n})();function MW(){return yf(Lr(),ot())}function yf(n,t){return new si(Ys(n,t))}let si=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=MW,n})();function wW(n){return n instanceof si?n.nativeElement:n}class bf{}let To=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function AW(){const n=ot(),e=fs(Lr().index,n);return function PW(n){return n[11]}(Ka(e)?e:n)}(),n})(),xW=(()=>{class n{}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>null}),n})();class xg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fv=new xg("13.2.6"),wS={};function Bv(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(wr(o)),Sa(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Bv(l[1],l,c,i)}const s=e.type;if(8&s)Bv(n,t,e.child,i);else if(32&s){const a=OE(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=$x(t,e);if(Array.isArray(a))i.push(...a);else{const l=pg(t[16]);Bv(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Rg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Bv(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Sa(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(xE(t,i),lv(e,i))}this._attachedToViewContainer=!1}Lx(this._lView[1],this._lView)}onDestroy(t){yR(this._lView[1],this._lView,null,t)}markForCheck(){ZE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tS(this._lView[1],this._lView,this.context)}checkNoChanges(){!function G7(n,t,e){qm(!0);try{tS(n,t,e)}finally{qm(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new kt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FH(n,t){gg(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new kt(902,"");this._appRef=t}}class RW extends Rg{constructor(t){super(t),this._view=t}detectChanges(){PR(this._view)}checkNoChanges(){!function j7(n){qm(!0);try{PR(n)}finally{qm(!1)}}(this._view)}get context(){return null}}class kI extends vf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=vo(t);return new PS(e,this.ngModule)}}function FI(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class PS extends II{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function n7(n){return n.map(t7).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return FI(this.componentDef.inputs)}get outputs(){return FI(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function IW(n,t){return{get:(e,i,r)=>{const o=n.get(e,wS,r);return o!==wS||i===wS?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(bf,PA),a=o.get(xW,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",g=i?function vR(n,t,e){if(pr(n))return n.selectRootElement(t,e===ba.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):AE(s.createRenderer(null,this.componentDef),c,function DW(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),E=this.componentDef.onPush?576:528,w=function qR(n,t){return{components:[],scheduler:n||PH,clean:V7,playerHandler:t||null,flags:0}}(),P=Tv(0,null,null,1,0,null,null,null,null,null),A=_g(null,P,w,E,null,null,s,l,a,o);let D,B;Jm(A);try{const Y=function XR(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=qd(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Ov(l,c,!0),null!==n&&(nv(r,n,c),null!==l.classes&&kE(r,n,l.classes),null!==l.styles&&qx(r,n,l.styles)));const g=i.createRenderer(n,t),E=_g(e,_R(t),null,t.onPush?64:16,e[20],l,i,g,o||null,null);return s.firstCreatePass&&(sv(eg(l,e),s,t.type),CR(s,l),OR(l,e.length,1)),Cv(e,E),e[20]=E}(g,this.componentDef,A,s,l);if(g)if(i)nv(l,g,["ng-version",Fv.full]);else{const{attrs:K,classes:re}=function i7(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Ca(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);K&&nv(l,g,K),re&&re.length>0&&kE(l,g,re.join(" "))}if(B=z1(P,20),void 0!==e){const K=B.projection=[];for(let re=0;re<this.ngContentSelectors.length;re++){const ae=e[re];K.push(null!=ae?Array.from(ae):null)}}D=function KR(n,t,e,i,r){const o=e[1],s=function C7(n,t,e){const i=Lr();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),MR(n,i,t,Jd(n,t,1,null),e));const r=tg(t,n,i.directiveStart,i);bo(r,t);const o=Ys(i,t);return o&&bo(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=Lr();t.contentQueries(1,s,l.directiveStart)}const a=Lr();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(wc(a.index),SR(e[1],a,0,a.directiveStart,a.directiveEnd,t),TR(t,s)),s}(Y,this.componentDef,A,w,[l9]),mg(P,A,null)}finally{Qm()}return new kW(this.componentType,D,yf(B,A),A,B)}}class kW extends class TW{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new RW(r),this.componentType=t}get injector(){return new Ud(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Vl{}class BI{}const Ef=new Map;class GI extends Vl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kI(this);const i=js(t);this._bootstrapComponents=el(i.bootstrap),this._r3Injector=BR(t,e,[{provide:Vl,useValue:this},{provide:vf,useValue:this.componentFactoryResolver}],ri(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Er.THROW_IF_NOT_FOUND,i=ln.Default){return t===Er||t===Vl||t===iS?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class AS extends BI{constructor(t){super(),this.moduleType=t,null!==js(t)&&function BW(n){const t=new Set;!function e(i){const r=js(i,!0),o=r.id;null!==o&&(function LI(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${ri(t)} vs ${ri(t.name)}`)}(o,Ef.get(o),i),Ef.set(o,i));const s=el(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new GI(this.moduleType,t)}}function Aa(n,t,e){const i=Bo()+n,r=ot();return r[i]===pn?nl(r,i,e?t.call(e):t()):function bg(n,t){return n[t]}(r,i)}function vs(n,t,e,i){return jI(ot(),Bo(),n,t,e,i)}function xa(n,t,e,i,r){return VI(ot(),Bo(),n,t,e,i,r)}function Lv(n,t,e,i,r,o){return function HI(n,t,e,i,r,o,s,a){const l=t+e;return wv(n,l,r,o,s)?nl(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Dg(n,l+3)}(ot(),Bo(),n,t,e,i,r,o)}function Dg(n,t){const e=n[t];return e===pn?void 0:e}function jI(n,t,e,i,r,o){const s=t+e;return Eo(n,s,r)?nl(n,s+1,o?i.call(o,r):i(r)):Dg(n,s+1)}function VI(n,t,e,i,r,o,s){const a=t+e;return ku(n,a,r,o)?nl(n,a+2,s?i.call(s,r,o):i(r,o)):Dg(n,a+2)}function Te(n,t){const e=Kn();let i;const r=n+20;e.firstCreatePass?(i=function YW(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Ru(i.type)),s=Tc($);try{const a=rv(!1),l=o();return rv(a),function b9(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ot(),r,l),l}finally{Tc(s)}}function ke(n,t,e){const i=n+20,r=ot(),o=kd(r,i);return Ig(r,i)?jI(r,Bo(),t,o.transform,e,o):o.transform(e)}function an(n,t,e,i){const r=n+20,o=ot(),s=kd(o,r);return Ig(o,r)?VI(o,Bo(),t,s.transform,e,i,s):s.transform(e,i)}function Ig(n,t){return n[1].data[t].pure}function xS(n){return t=>{setTimeout(n,void 0,t)}}const jt=class XW extends Le{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const E=t;a=null===(r=E.next)||void 0===r?void 0:r.bind(E),l=null===(o=E.error)||void 0===o?void 0:o.bind(E),c=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}this.__isAsync&&(l=xS(l),a&&(a=xS(a)),c&&(c=xS(c)));const g=super.subscribe({next:a,error:l,complete:c});return t instanceof f&&t.add(g),g}};function KW(){return this._results[tf()]()}class RS{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=tf(),i=RS.prototype;i[e]||(i[e]=KW)}get changes(){return this._changes||(this._changes=new jt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Ws(t);(this._changesDetected=!function uV(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=QW,n})();const qW=ji,JW=class extends qW{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=_g(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),mg(e,i,t),new Rg(i)}};function QW(){return Uv(Lr(),ot())}function Uv(n,t){return 4&n.type?new JW(t,n,yf(n,t)):null}let ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZW,n})();function ZW(){return XI(Lr(),ot())}const ez=ys,zI=class extends ez{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return yf(this._hostTNode,this._hostLView)}get injector(){return new Ud(this._hostTNode,this._hostLView)}get parentInjector(){const t=ov(this._hostTNode,this._hostLView);if(YA(t)){const e=Ld(t,this._hostLView),i=Bd(t);return new Ud(e[1].data[i+8],e)}return new Ud(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$I(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function ig(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const E=e||{};a=E.index,i=E.injector,r=E.projectableNodes,o=E.ngModuleRef}const l=s?t:new PS(vo(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const w=(s?c:this.parentInjector).get(Vl,null);w&&(o=w)}const g=l.create(c,r,void 0,o);return this.insert(g.hostView,a),g}insert(t,e){const i=t._lView,r=i[1];if(function Rj(n){return Sa(n[3])}(i)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const E=i[3],w=new zI(E,E[6],E[3]);w.detach(w.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function LH(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],ex(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function UH(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=IE(o,s),l=i[11],c=mv(l,s[7]);return null!==c&&function kH(n,t,e,i,r,o){i[0]=r,i[6]=t,gg(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),ex(DS(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$I(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=xE(this._lContainer,e);i&&(lv(DS(this._lContainer),e),Lx(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=xE(this._lContainer,e);return i&&null!=lv(DS(this._lContainer),e)?new Rg(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function $I(n){return n[8]}function DS(n){return n[8]||(n[8]=[])}function XI(n,t){let e;const i=t[n.index];if(Sa(i))e=i;else{let r;if(8&n.type)r=wr(i);else{const o=t[11];r=o.createComment("");const s=Ys(n,t);Nu(o,mv(o,s),r,function HH(n,t){return pr(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=wR(i,t,r,n),Cv(t,e)}return new zI(e,n,t)}class IS{constructor(t){this.queryList=t,this.matches=null}clone(){return new IS(this.queryList)}setDirty(){this.queryList.setDirty()}}class NS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new NS(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ZI(t,e).matches&&this.queries[e].setDirty()}}class KI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class kS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new kS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class FS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new FS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,iz(e,o)),this.matchTNodeWithReadOption(t,e,av(e,t,o,!1,!1))}else i===ji?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,av(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===si||r===ys||r===ji&&4&e.type)this.addMatch(e.index,-2);else{const o=av(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function iz(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function oz(n,t,e,i){return-1===e?function rz(n,t){return 11&n.type?yf(n,t):4&n.type?Uv(n,t):null}(t,n):-2===e?function sz(n,t,e){return e===si?yf(t,n):e===ji?Uv(t,n):e===ys?XI(t,n):void 0}(n,t,i):tg(n,n[1],e,t)}function qI(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:oz(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function BS(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=qI(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],g=t[-l];for(let E=10;E<g.length;E++){const w=g[E];w[17]===w[3]&&BS(w[1],w,c,i)}if(null!==g[9]){const E=g[9];for(let w=0;w<E.length;w++){const P=E[w];BS(P[1],P,c,i)}}}}}return i}function qn(n){const t=ot(),e=Kn(),i=kA();Z1(i+1);const r=ZI(e,i);if(n.dirty&&AA(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?BS(e,t,i,[]):qI(e,t,r,i);n.reset(o,wW),n.notifyOnChanges()}return!0}return!1}function Jo(n,t,e){const i=Kn();i.firstCreatePass&&(QI(i,new KI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),JI(i,ot(),t)}function Sr(n,t,e,i){const r=Kn();if(r.firstCreatePass){const o=Lr();QI(r,new KI(t,e,i),o.index),function lz(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}JI(r,ot(),e)}function Jn(){return function az(n,t){return n[19].queries[t].queryList}(ot(),kA())}function JI(n,t,e){const i=new RS(4==(4&e));yR(n,t,i,i.destroy),null===t[19]&&(t[19]=new NS),t[19].queries.push(new IS(i))}function QI(n,t,e){null===n.queries&&(n.queries=new kS),n.queries.track(new FS(t,e))}function ZI(n,t){return n.queries.getByIndex(t)}function Qo(n,t){return Uv(n,t)}function Vv(...n){}const Hv=new Qt("Application Initializer");let HS=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Vv,this.reject=Vv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Eg(o))e.push(o);else if(mS(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Ne(Hv,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kg=new Qt("AppId",{providedIn:"root",factory:function m2(){return`${YS()}${YS()}${YS()}`}});function YS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const v2=new Qt("Platform Initializer"),Bu=new Qt("Platform ID"),y2=new Qt("appBootstrapListener");let b2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Fc=new Qt("LocaleId",{providedIn:"root",factory:()=>lx(Fc,ln.Optional|ln.SkipSelf)||function Oz(){return"undefined"!=typeof $localize&&$localize.locale||Rv}()});class wz{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let E2=(()=>{class n{compileModuleSync(e){return new AS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=el(js(e).declarations).reduce((s,a)=>{const l=vo(a);return l&&s.push(new PS(l)),s},[]);return new wz(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Az=(()=>Promise.resolve(0))();function WS(n){"undefined"==typeof Zone?Az.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function xz(){let n=mi.requestAnimationFrame,t=mi.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Iz(n){const t=()=>{!function Dz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$S(n),n.isCheckStableRunning=!0,zS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$S(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return S2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),T2(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return S2(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),T2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,$S(n),zS(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Rz,Vv,Vv);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Rz={};function zS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $S(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function S2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T2(n){n._nesting--,zS(n)}class Nz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let XS=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mn.assertNotInAngularZone(),WS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WS(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),C2=(()=>{class n{constructor(){this._applications=new Map,KS.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return KS.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class kz{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Ra,KS=new kz;const O2=new Qt("AllowMultipleToken");class M2{constructor(t,e){this.name=t,this.token=e}}function w2(n,t,e=[]){const i=`Platform: ${t}`,r=new Qt(i);return(o=[])=>{let s=P2();if(!s||s.injector.get(O2,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:rS,useValue:"platform"});!function Uz(n){if(Ra&&!Ra.destroyed&&!Ra.injector.get(O2,!1))throw new kt(400,"");Ra=n.get(A2);const t=n.get(v2,null);t&&t.forEach(e=>e())}(Er.create({providers:a,name:i}))}return function Gz(n){const t=P2();if(!t)throw new kt(401,"");return t}()}}function P2(){return Ra&&!Ra.destroyed?Ra:null}let A2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function jz(n,t){let e;return e="noop"===n?new Nz:("zone.js"===n?void 0:n)||new Mn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Mn,useValue:a}];return a.run(()=>{const c=Er.create({providers:l,parent:this.injector,name:e.moduleType.name}),g=e.create(c),E=g.injector.get($d,null);if(!E)throw new kt(402,"");return a.runOutsideAngular(()=>{const w=a.onError.subscribe({next:P=>{E.handleError(P)}});g.onDestroy(()=>{qS(this._modules,g),w.unsubscribe()})}),function Vz(n,t,e){try{const i=e();return Eg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(E,a,()=>{const w=g.injector.get(HS);return w.runInitializers(),w.donePromise.then(()=>(function xY(n){hs(n,"Expected localeId to be defined"),"string"==typeof n&&(lI=n.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Fc,Rv)||Rv),this._moduleDoBootstrap(g),g))})})}bootstrapModule(e,i=[]){const r=x2({},i);return function Bz(n,t,e){const i=new AS(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Fg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new kt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new kt(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Ne(Er))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function x2(n,t){return Array.isArray(t)?t.reduce(x2,n):Object.assign(Object.assign({},n),t)}let Fg=(()=>{class n{constructor(e,i,r,o,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new oe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new oe(c=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{Mn.assertNotInAngularZone(),WS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{Mn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{g.unsubscribe(),E.unsubscribe()}});this.isStable=fi(a,l.pipe(_o()))}bootstrap(e,i){if(!this._initStatus.done)throw new kt(405,"");let r;r=e instanceof II?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function Lz(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Vl),a=r.create(Er.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(XS,null),g=c&&a.injector.get(C2);return c&&g&&g.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),qS(this.components,a),g&&g.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new kt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;qS(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(y2,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn),Ne(Er),Ne($d),Ne(vf),Ne(HS))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let D2=!0,wn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wz,n})();function Wz(n){return function zz(n,t,e){if(zm(n)&&!e){const i=fs(n.index,t);return new Rg(i,i)}return 47&n.type?new Rg(t[16],t):null}(Lr(),ot(),16==(16&n))}class B2{constructor(){}supports(t){return yg(t)}create(t){return new Qz(t)}}const Jz=(n,t)=>t;class Qz{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Jz}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<U2(i,r,o)?e:i,a=U2(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,g=l-r;if(c!=g){for(let w=0;w<c;w++){const P=w<o.length?o[w]:o[w]=0,A=P+w;g<=A&&A<c&&(o[w]=P+1)}o[s.previousIndex]=g-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yg(t))throw new kt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function v9(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[tf()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Zz(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new L2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Zz{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e${constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class L2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new e$,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function U2(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class G2{constructor(){}supports(t){return t instanceof Map||uS(t)}create(){return new t$}}class t${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||uS(t)))throw new kt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new n$(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class n${constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j2(){return new Bg([new B2])}let Bg=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||j2()),deps:[[n,new lg,new Ac]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new kt(901,"")}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:j2}),n})();function V2(){return new Lg([new G2])}let Lg=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||V2()),deps:[[n,new lg,new Ac]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new kt(901,"")}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:V2}),n})();const o$=w2(null,"core",[{provide:Bu,useValue:"unknown"},{provide:A2,deps:[Er]},{provide:C2,deps:[]},{provide:b2,deps:[]}]);let s$=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Ne(Fg))},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})(),zv=null;function ol(){return zv}const Di=new Qt("DocumentToken");let Uu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(){return function u$(){return Ne(H2)}()},providedIn:"platform"}),n})();const h$=new Qt("Location Initialized");let H2=(()=>{class n extends Uu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ol().getBaseHref(this._doc)}onPopState(e){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Y2()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Y2()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:function(){return function d$(){return new H2(Ne(Di))}()},providedIn:"platform"}),n})();function Y2(){return!!window.history.pushState}function tT(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function W2(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Hl(n){return n&&"?"!==n[0]?"?"+n:n}let Tf=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(){return function f$(n){const t=Ne(Di).location;return new z2(Ne(Uu),t&&t.origin||"")}()},providedIn:"root"}),n})();const nT=new Qt("appBaseHref");let z2=(()=>{class n extends Tf{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return tT(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Hl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Hl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Hl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Uu),Ne(nT,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),p$=(()=>{class n extends Tf{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=tT(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Hl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Hl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Uu),Ne(nT,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),iT=(()=>{class n{constructor(e,i){this._subject=new jt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=W2($2(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Hl(i))}normalize(e){return n.stripTrailingSlash(function _$(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$2(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Hl,n.joinWithSlash=tT,n.stripTrailingSlash=W2,n.\u0275fac=function(e){return new(e||n)(Ne(Tf),Ne(Uu))},n.\u0275prov=rt({token:n,factory:function(){return function g$(){return new iT(Ne(Tf),Ne(Uu))}()},providedIn:"root"}),n})();function $2(n){return n.replace(/\/index.html$/,"")}var Zo=(()=>((Zo=Zo||{})[Zo.Decimal=0]="Decimal",Zo[Zo.Percent=1]="Percent",Zo[Zo.Currency=2]="Currency",Zo[Zo.Scientific=3]="Scientific",Zo))(),Tr=(()=>((Tr=Tr||{})[Tr.Format=0]="Format",Tr[Tr.Standalone=1]="Standalone",Tr))(),Nn=(()=>((Nn=Nn||{})[Nn.Narrow=0]="Narrow",Nn[Nn.Abbreviated=1]="Abbreviated",Nn[Nn.Wide=2]="Wide",Nn[Nn.Short=3]="Short",Nn))(),Ji=(()=>((Ji=Ji||{})[Ji.Short=0]="Short",Ji[Ji.Medium=1]="Medium",Ji[Ji.Long=2]="Long",Ji[Ji.Full=3]="Full",Ji))(),Xt=(()=>((Xt=Xt||{})[Xt.Decimal=0]="Decimal",Xt[Xt.Group=1]="Group",Xt[Xt.List=2]="List",Xt[Xt.PercentSign=3]="PercentSign",Xt[Xt.PlusSign=4]="PlusSign",Xt[Xt.MinusSign=5]="MinusSign",Xt[Xt.Exponential=6]="Exponential",Xt[Xt.SuperscriptingExponent=7]="SuperscriptingExponent",Xt[Xt.PerMille=8]="PerMille",Xt[Xt.Infinity=9]="Infinity",Xt[Xt.NaN=10]="NaN",Xt[Xt.TimeSeparator=11]="TimeSeparator",Xt[Xt.CurrencyDecimal=12]="CurrencyDecimal",Xt[Xt.CurrencyGroup=13]="CurrencyGroup",Xt))();function $v(n,t){return Xs(Go(n)[At.DateFormat],t)}function Xv(n,t){return Xs(Go(n)[At.TimeFormat],t)}function Kv(n,t){return Xs(Go(n)[At.DateTimeFormat],t)}function $s(n,t){const e=Go(n),i=e[At.NumberSymbols][t];if(void 0===i){if(t===Xt.CurrencyDecimal)return e[At.NumberSymbols][Xt.Decimal];if(t===Xt.CurrencyGroup)return e[At.NumberSymbols][Xt.Group]}return i}function K2(n){if(!n[At.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[At.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xs(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function oT(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const A$=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ug={},x$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vr=(()=>((Vr=Vr||{})[Vr.Short=0]="Short",Vr[Vr.ShortGMT=1]="ShortGMT",Vr[Vr.Long=2]="Long",Vr[Vr.Extended=3]="Extended",Vr))(),Zt=(()=>((Zt=Zt||{})[Zt.FullYear=0]="FullYear",Zt[Zt.Month=1]="Month",Zt[Zt.Date=2]="Date",Zt[Zt.Hours=3]="Hours",Zt[Zt.Minutes=4]="Minutes",Zt[Zt.Seconds=5]="Seconds",Zt[Zt.FractionalSeconds=6]="FractionalSeconds",Zt[Zt.Day=7]="Day",Zt))(),En=(()=>((En=En||{})[En.DayPeriods=0]="DayPeriods",En[En.Days=1]="Days",En[En.Months=2]="Months",En[En.Eras=3]="Eras",En))();function R$(n,t,e,i){let r=function G$(n){if(Q2(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return qv(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(A$))return function j$(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!Q2(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Yl(e,t)||t;let a,s=[];for(;t;){if(a=x$.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const g=s.pop();if(!g)break;t=g}}let l=r.getTimezoneOffset();i&&(l=J2(i,l),r=function U$(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function L$(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(J2(t,r)-r))}(r,i,!0));let c="";return s.forEach(g=>{const E=function B$(n){if(aT[n])return aT[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ii(En.Eras,Nn.Abbreviated);break;case"GGGG":t=Ii(En.Eras,Nn.Wide);break;case"GGGGG":t=Ii(En.Eras,Nn.Narrow);break;case"y":t=Ar(Zt.FullYear,1,0,!1,!0);break;case"yy":t=Ar(Zt.FullYear,2,0,!0,!0);break;case"yyy":t=Ar(Zt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ar(Zt.FullYear,4,0,!1,!0);break;case"Y":t=ey(1);break;case"YY":t=ey(2,!0);break;case"YYY":t=ey(3);break;case"YYYY":t=ey(4);break;case"M":case"L":t=Ar(Zt.Month,1,1);break;case"MM":case"LL":t=Ar(Zt.Month,2,1);break;case"MMM":t=Ii(En.Months,Nn.Abbreviated);break;case"MMMM":t=Ii(En.Months,Nn.Wide);break;case"MMMMM":t=Ii(En.Months,Nn.Narrow);break;case"LLL":t=Ii(En.Months,Nn.Abbreviated,Tr.Standalone);break;case"LLLL":t=Ii(En.Months,Nn.Wide,Tr.Standalone);break;case"LLLLL":t=Ii(En.Months,Nn.Narrow,Tr.Standalone);break;case"w":t=sT(1);break;case"ww":t=sT(2);break;case"W":t=sT(1,!0);break;case"d":t=Ar(Zt.Date,1);break;case"dd":t=Ar(Zt.Date,2);break;case"c":case"cc":t=Ar(Zt.Day,1);break;case"ccc":t=Ii(En.Days,Nn.Abbreviated,Tr.Standalone);break;case"cccc":t=Ii(En.Days,Nn.Wide,Tr.Standalone);break;case"ccccc":t=Ii(En.Days,Nn.Narrow,Tr.Standalone);break;case"cccccc":t=Ii(En.Days,Nn.Short,Tr.Standalone);break;case"E":case"EE":case"EEE":t=Ii(En.Days,Nn.Abbreviated);break;case"EEEE":t=Ii(En.Days,Nn.Wide);break;case"EEEEE":t=Ii(En.Days,Nn.Narrow);break;case"EEEEEE":t=Ii(En.Days,Nn.Short);break;case"a":case"aa":case"aaa":t=Ii(En.DayPeriods,Nn.Abbreviated);break;case"aaaa":t=Ii(En.DayPeriods,Nn.Wide);break;case"aaaaa":t=Ii(En.DayPeriods,Nn.Narrow);break;case"b":case"bb":case"bbb":t=Ii(En.DayPeriods,Nn.Abbreviated,Tr.Standalone,!0);break;case"bbbb":t=Ii(En.DayPeriods,Nn.Wide,Tr.Standalone,!0);break;case"bbbbb":t=Ii(En.DayPeriods,Nn.Narrow,Tr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ii(En.DayPeriods,Nn.Abbreviated,Tr.Format,!0);break;case"BBBB":t=Ii(En.DayPeriods,Nn.Wide,Tr.Format,!0);break;case"BBBBB":t=Ii(En.DayPeriods,Nn.Narrow,Tr.Format,!0);break;case"h":t=Ar(Zt.Hours,1,-12);break;case"hh":t=Ar(Zt.Hours,2,-12);break;case"H":t=Ar(Zt.Hours,1);break;case"HH":t=Ar(Zt.Hours,2);break;case"m":t=Ar(Zt.Minutes,1);break;case"mm":t=Ar(Zt.Minutes,2);break;case"s":t=Ar(Zt.Seconds,1);break;case"ss":t=Ar(Zt.Seconds,2);break;case"S":t=Ar(Zt.FractionalSeconds,1);break;case"SS":t=Ar(Zt.FractionalSeconds,2);break;case"SSS":t=Ar(Zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Qv(Vr.Short);break;case"ZZZZZ":t=Qv(Vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Qv(Vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Qv(Vr.Long);break;default:return null}return aT[n]=t,t}(g);c+=E?E(r,e,l):"''"===g?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function qv(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Yl(n,t){const e=function m$(n){return Go(n)[At.LocaleId]}(n);if(Ug[e]=Ug[e]||{},Ug[e][t])return Ug[e][t];let i="";switch(t){case"shortDate":i=$v(n,Ji.Short);break;case"mediumDate":i=$v(n,Ji.Medium);break;case"longDate":i=$v(n,Ji.Long);break;case"fullDate":i=$v(n,Ji.Full);break;case"shortTime":i=Xv(n,Ji.Short);break;case"mediumTime":i=Xv(n,Ji.Medium);break;case"longTime":i=Xv(n,Ji.Long);break;case"fullTime":i=Xv(n,Ji.Full);break;case"short":const r=Yl(n,"shortTime"),o=Yl(n,"shortDate");i=Jv(Kv(n,Ji.Short),[r,o]);break;case"medium":const s=Yl(n,"mediumTime"),a=Yl(n,"mediumDate");i=Jv(Kv(n,Ji.Medium),[s,a]);break;case"long":const l=Yl(n,"longTime"),c=Yl(n,"longDate");i=Jv(Kv(n,Ji.Long),[l,c]);break;case"full":const g=Yl(n,"fullTime"),E=Yl(n,"fullDate");i=Jv(Kv(n,Ji.Full),[g,E])}return i&&(Ug[e][t]=i),i}function Jv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Da(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function Ar(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function I$(n,t){switch(n){case Zt.FullYear:return t.getFullYear();case Zt.Month:return t.getMonth();case Zt.Date:return t.getDate();case Zt.Hours:return t.getHours();case Zt.Minutes:return t.getMinutes();case Zt.Seconds:return t.getSeconds();case Zt.FractionalSeconds:return t.getMilliseconds();case Zt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Zt.Hours)0===a&&-12===e&&(a=12);else if(n===Zt.FractionalSeconds)return function D$(n,t){return Da(n,3).substr(0,t)}(a,t);const l=$s(s,Xt.MinusSign);return Da(a,t,l,i,r)}}function Ii(n,t,e=Tr.Format,i=!1){return function(r,o){return function N$(n,t,e,i,r,o){switch(e){case En.Months:return function b$(n,t,e){const i=Go(n),o=Xs([i[At.MonthsFormat],i[At.MonthsStandalone]],t);return Xs(o,e)}(t,r,i)[n.getMonth()];case En.Days:return function y$(n,t,e){const i=Go(n),o=Xs([i[At.DaysFormat],i[At.DaysStandalone]],t);return Xs(o,e)}(t,r,i)[n.getDay()];case En.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function C$(n){const t=Go(n);return K2(t),(t[At.ExtraData][2]||[]).map(i=>"string"==typeof i?oT(i):[oT(i[0]),oT(i[1])])}(t),g=function O$(n,t,e){const i=Go(n);K2(i);const o=Xs([i[At.ExtraData][0],i[At.ExtraData][1]],t)||[];return Xs(o,e)||[]}(t,r,i),E=c.findIndex(w=>{if(Array.isArray(w)){const[P,A]=w,D=s>=P.hours&&a>=P.minutes,B=s<A.hours||s===A.hours&&a<A.minutes;if(P.hours<A.hours){if(D&&B)return!0}else if(D||B)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(-1!==E)return g[E]}return function v$(n,t,e){const i=Go(n),o=Xs([i[At.DayPeriodsFormat],i[At.DayPeriodsStandalone]],t);return Xs(o,e)}(t,r,i)[s<12?0:1];case En.Eras:return function E$(n,t){return Xs(Go(n)[At.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Qv(n){return function(t,e,i){const r=-1*i,o=$s(e,Xt.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vr.Short:return(r>=0?"+":"")+Da(s,2,o)+Da(Math.abs(r%60),2,o);case Vr.ShortGMT:return"GMT"+(r>=0?"+":"")+Da(s,1,o);case Vr.Long:return"GMT"+(r>=0?"+":"")+Da(s,2,o)+":"+Da(Math.abs(r%60),2,o);case Vr.Extended:return 0===i?"Z":(r>=0?"+":"")+Da(s,2,o)+":"+Da(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function q2(n){return qv(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function sT(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=q2(e),s=function F$(n){const t=qv(n,0,1).getDay();return qv(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Da(r,n,$s(i,Xt.MinusSign))}}function ey(n,t=!1){return function(e,i){return Da(q2(e).getFullYear(),n,$s(i,Xt.MinusSign),t)}}const aT={};function J2(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Q2(n){return n instanceof Date&&!isNaN(n.valueOf())}const V$=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tN(n,t,e){return function cT(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function K$(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function X$(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let g=t.minInt,E=t.minFrac,w=t.maxFrac;if(o){const K=o.match(V$);if(null===K)throw new Error(`${o} is not a valid digit info`);const re=K[1],ae=K[3],te=K[5];null!=re&&(g=hT(re)),null!=ae&&(E=hT(ae)),null!=te?w=hT(te):null!=ae&&E>w&&(w=E)}!function q$(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let E=s;E<i.length;E++)i[E]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let E=1;E<s;E++)i[E]=0}if(a>=5)if(s-1<0){for(let E=0;E>s;E--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,g=i.reduceRight(function(E,w,P,A){return A[P]=(w+=E)<10?w:w-10,l&&(0===A[P]&&P>=c?A.pop():l=!1),w>=10?1:0},0);g&&(i.unshift(g),n.integerLen++)}(c,E,w);let P=c.digits,A=c.integerLen;const D=c.exponent;let B=[];for(l=P.every(K=>!K);A<g;A++)P.unshift(0);for(;A<0;A++)P.unshift(0);A>0?B=P.splice(A,P.length):(B=P,P=[0]);const Y=[];for(P.length>=t.lgSize&&Y.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Y.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Y.unshift(P.join("")),a=Y.join($s(e,i)),B.length&&(a+=$s(e,r)+B.join("")),D&&(a+=$s(e,Xt.Exponential)+"+"+D)}else a=$s(e,Xt.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function uT(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let g=0;g<l.length;g++){const E=l.charAt(g);"0"===E?e.minFrac=e.maxFrac=g+1:"#"===E?e.maxFrac=g+1:e.posSuf+=E}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const g=r.length-e.posPre.length-e.posSuf.length,E=o.indexOf("#");e.negPre=o.substr(0,E).replace(/'/g,""),e.negSuf=o.substr(E+g).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function rT(n,t){return Go(n)[At.NumberFormats][t]}(t,Zo.Decimal),$s(t,Xt.MinusSign)),t,Xt.Group,Xt.Decimal,e)}function hT(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function iN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Cf=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(yg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ri(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)($(Bg),$(Lg),$(si),$(To))},n.\u0275dir=mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Z${constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Z$(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),rN(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{rN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(ys),$(ji),$(Bg))},n.\u0275dir=mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function rN(n,t){n.context.$implicit=t.item}let Kt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new eX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){oN("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){oN("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(ys),$(ji))},n.\u0275dir=mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class eX{constructor(){this.$implicit=null,this.ngIf=null}}function oN(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ri(t)}'.`)}class fT{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let sl=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Bc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fT(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)($(ys),$(ji),$(sl,9))},n.\u0275dir=mt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),jg=(()=>{class n{constructor(e,i,r){r._addDefault(new fT(e,i))}}return n.\u0275fac=function(e){return new(e||n)($(ys),$(ji),$(sl,9))},n.\u0275dir=mt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Vg=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)($(si),$(Lg),$(To))},n.\u0275dir=mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Of=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)($(ys))},n.\u0275dir=mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Jr]}),n})();function Ia(n,t){return new kt(2100,"")}class nX{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class iX{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const rX=new iX,oX=new nX;let Lc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Eg(e))return rX;if(vD(e))return oX;throw Ia()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)($(wn,16))},n.\u0275pipe=Kr({name:"async",type:n,pure:!1}),n})();const uX=new Qt("DATE_PIPE_DEFAULT_TIMEZONE");let al=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return R$(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw Ia()}}}return n.\u0275fac=function(e){return new(e||n)($(Fc,16),$(uX,24))},n.\u0275pipe=Kr({name:"date",type:n,pure:!0}),n})(),pT=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function gT(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return tN(function _T(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw Ia()}}}return n.\u0275fac=function(e){return new(e||n)($(Fc,16))},n.\u0275pipe=Kr({name:"number",type:n,pure:!0}),n})();let lN=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Ia();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Kr({name:"slice",type:n,pure:!1}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();const cN="browser";function Hg(n){return n===cN}let SX=(()=>{class n{}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>new TX(Ne(Di),window)}),n})();class TX{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function CX(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uN(this.window.history)||uN(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function uN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hN{}class mT extends class OX extends class c${}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function l$(n){zv||(zv=n)}(new mT)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function MX(){return Yg=Yg||document.querySelector("base"),Yg?Yg.getAttribute("href"):null}();return null==e?null:function wX(n){ny=ny||document.createElement("a"),ny.setAttribute("href",n);const t=ny.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Yg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return iN(document.cookie,t)}}let ny,Yg=null;const dN=new Qt("TRANSITION_ID"),AX=[{provide:Hv,useFactory:function PX(n,t,e){return()=>{e.get(HS).donePromise.then(()=>{const i=ol(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[dN,Di,Er],multi:!0}];class vT{static init(){!function Fz(n){KS=n}(new vT)}addToWindow(t){mi.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},mi.getAllAngularTestabilities=()=>t.getAllTestabilities(),mi.getAllAngularRootElements=()=>t.getAllRootElements(),mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(i=>{const r=mi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?ol().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let xX=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const iy=new Qt("EventManagerPlugins");let ry=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Ne(iy),Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class fN{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ol().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let pN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Wg=(()=>{class n extends pN{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(gN),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(gN))}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function gN(n){ol().remove(n)}const yT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bT=/%COMP%/g;function oy(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?oy(n,r,e):(r=r.replace(bT,n),e.push(r))}return e}function vN(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let sy=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ET(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case ba.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new FX(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case ba.ShadowDom:return new BX(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=oy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Ne(ry),Ne(Wg),Ne(kg))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class ET{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(yT[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=yT[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=yT[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(_s.DashCase|_s.Important)?t.style.setProperty(e,i,r&_s.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_s.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vN(i)):this.eventManager.addEventListener(t,e,vN(i))}}class FX extends ET{constructor(t,e,i,r){super(t),this.component=i;const o=oy(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function IX(n){return"_ngcontent-%COMP%".replace(bT,n)}(r+"-"+i.id),this.hostAttr=function NX(n){return"_nghost-%COMP%".replace(bT,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class BX extends ET{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=oy(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let LX=(()=>{class n extends fN{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const bN=["alt","control","meta","shift"],GX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let VX=(()=>{class n extends fN{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ol().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(bN.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function HX(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&EN.hasOwnProperty(t)&&(t=EN[t]))}return GX[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),bN.forEach(o=>{o!=r&&jX[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const $X=w2(o$,"browser",[{provide:Bu,useValue:cN},{provide:v2,useValue:function YX(){mT.makeCurrent(),vT.init()},multi:!0},{provide:Di,useFactory:function zX(){return function wj(n){Y1=n}(document),document},deps:[]}]),XX=[{provide:rS,useValue:"root"},{provide:$d,useFactory:function WX(){return new $d},deps:[]},{provide:iy,useClass:LX,multi:!0,deps:[Di,Mn,Bu]},{provide:iy,useClass:VX,multi:!0,deps:[Di]},{provide:sy,useClass:sy,deps:[ry,Wg,kg]},{provide:bf,useExisting:sy},{provide:pN,useExisting:Wg},{provide:Wg,useClass:Wg,deps:[Di]},{provide:XS,useClass:XS,deps:[Mn]},{provide:ry,useClass:ry,deps:[iy,Mn]},{provide:hN,useClass:xX,deps:[]}];let SN=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:kg,useValue:e.appId},{provide:dN,useExisting:kg},AX]}}}return n.\u0275fac=function(e){return new(e||n)(Ne(n,12))},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:XX,imports:[Ot,s$]}),n})();"undefined"!=typeof window&&window;let TT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(e){let i=null;return i=e?new(e||n):Ne(ON),i},providedIn:"root"}),n})(),ON=(()=>{class n extends TT{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ri.NONE:return i;case Ri.HTML:return Qa(i,"HTML")?gs(i):Cx(this._doc,String(i)).toString();case Ri.STYLE:return Qa(i,"Style")?gs(i):i;case Ri.SCRIPT:if(Qa(i,"Script"))return gs(i);throw new Error("unsafe value used in a script context");case Ri.URL:return _x(i),Qa(i,"URL")?gs(i):ug(String(i));case Ri.RESOURCE_URL:if(Qa(i,"ResourceURL"))return gs(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function jV(n){return new FV(n)}(e)}bypassSecurityTrustStyle(e){return function VV(n){return new BV(n)}(e)}bypassSecurityTrustScript(e){return function HV(n){return new LV(n)}(e)}bypassSecurityTrustUrl(e){return function YV(n){return new UV(n)}(e)}bypassSecurityTrustResourceUrl(e){return function WV(n){return new GV(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:function(e){let i=null;return i=e?new e:function rK(n){return new ON(n.get(Di))}(Ne(Er)),i},providedIn:"root"}),n})();var ay=M(383),mr=M(9248),Wt=M(1446),MN=[];function wN(n){return n.reduce((t,e)=>(t.every(i=>e.name!==i.name)&&t.push(e),t),[])}function oK(n){var t=n.defaultIntegrations&&[...n.defaultIntegrations]||[],e=n.integrations;let i=[...wN(t)];Array.isArray(e)?i=[...i.filter(s=>e.every(a=>a.name!==s.name)),...wN(e)]:"function"==typeof e&&(i=e(i),i=Array.isArray(i)?i:[i]);var r=i.map(s=>s.name),o="Debug";return-1!==r.indexOf(o)&&i.push(...i.splice(r.indexOf(o),1)),i}var ao=M(7759);class Co extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var lK=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ly(n,t=!1){const{host:e,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function PN(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function AN(n){var t="string"==typeof n?function uK(n){var t=lK.exec(n);if(!t)throw new Co(`Invalid Sentry Dsn: ${n}`);const[e,i,r="",o,s="",a]=t.slice(1);let l="",c=a;var g=c.split("/");if(g.length>1&&(l=g.slice(0,-1).join("/"),c=g.pop()),c){var E=c.match(/^\d+/);E&&(c=E[0])}return PN({host:o,pass:r,path:l,projectId:c,port:s,protocol:e,publicKey:i})}(n):PN(n);return function hK(n){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:e,protocol:i}=n;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!n[o])throw new Co(`Invalid Sentry Dsn: ${o} missing`)}),!e.match(/^\d+$/))throw new Co(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!function cK(n){return"http"===n||"https"===n}(i))throw new Co(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new Co(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}function xN(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function RN(n,t={}){var i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function fK(n){return`${xN(n)}${n.projectId}/envelope/`}(n)}?${function pK(n,t){return(0,ao._j)(Xe({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}var Hr=M(5535),ll=M(1090),_K=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Mf{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Mf.id}constructor(t={}){this._options=t,Mf.prototype.__init.call(this)}setupOnce(t,e){var i=r=>{var o=e();if(o){var s=o.getIntegration(Mf);if(s){var a=o.getClient(),l=a?a.getOptions():{},c=function mK(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],..._K],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(s._options,l);return function vK(n,t){return t.ignoreInternal&&function TK(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,Hr.jH)(n)}`),!0):function yK(n,t){return!(!t||!t.length)&&function SK(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:e=""}=n.exception.values&&n.exception.values[0]||{};return[`${e}`,`${t}: ${e}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error(`Cannot extract message for event ${(0,Hr.jH)(n)}`),[]}return[]}(n).some(e=>t.some(i=>(0,ll.zC)(e,i)))}(n,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,Hr.jH)(n)}`),!0):function bK(n,t){if(!t||!t.length)return!1;var e=cy(n);return!!e&&t.some(i=>(0,ll.zC)(e,i))}(n,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,Hr.jH)(n)}.\nUrl: ${cy(n)}`),!0):!function EK(n,t){if(!t||!t.length)return!0;var e=cy(n);return!e||t.some(i=>(0,ll.zC)(e,i))}(n,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,Hr.jH)(n)}.\nUrl: ${cy(n)}`),!0)}(r,c)?null:r}}return r};i.id=this.name,t(i)}}function cy(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function CK(n=[]){for(let e=n.length-1;e>=0;e--){var t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error(`Cannot extract url for event ${(0,Hr.jH)(n)}`),null}}let DN;Mf.__initStatic();class zg{constructor(){zg.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=zg.id}setupOnce(){DN=Function.prototype.toString,Function.prototype.toString=function(...t){var e=(0,ao.HK)(this)||this;return DN.apply(e,t)}}}zg.__initStatic();var Oo=M(7576),Wl=M(9725),CT=M(8204),Na=M(3343),IN=M(1539),Cr=M(6412),bs=M(509);function uy(n,t=[]){return[n,t]}function OK(n,t){const[e,i]=n;return[e,[...i,t]]}function NN(n,t){n[1].forEach(i=>{t(i,i[0].type)})}function OT(n,t){return(t||new TextEncoder).encode(n)}function kN(n,t){const[e,i]=n;let r=JSON.stringify(e);function o(a){"string"==typeof r?r="string"==typeof a?r+a:[OT(r,t),a]:r.push("string"==typeof a?OT(a,t):a)}for(var s of i){const[a,l]=s;o(`\n${JSON.stringify(a)}\n`),o("string"==typeof l||l instanceof Uint8Array?l:JSON.stringify(l))}return"string"==typeof r?r:function MK(n){var t=n.reduce((o,s)=>o+s.length,0),e=new Uint8Array(t);let i=0;for(var r of n)e.set(r,i),i+=r.length;return e}(r)}function wK(n,t){var e="string"==typeof n.data?OT(n.data,t):n.data;return[(0,ao.Jr)({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}var PK={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function FN(n){return PK[n]}var Gu=M(3967);function ju(n,t=1/0,e=1/0){try{return MT("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function BN(n,t=3,e=102400){var i=ju(n,t);return function DK(n){return function RK(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?BN(n,t-1,e):i}function MT(n,t,e=1/0,i=1/0,r=function AK(){var n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let s=0;s<t.length;s++)if(t[s]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}]}()){const[o,s]=r;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,Cr.i2)(t))return t;var a=function xK(n,t){try{return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,Cr.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,Wl.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(0===e)return a.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return MT("",l.toJSON(),e-1,i,r)}catch(D){}var g=Array.isArray(t)?[]:{};let E=0;var w=(0,ao.Sh)(t);for(var P in w)if(Object.prototype.hasOwnProperty.call(w,P)){if(E>=i){g[P]="[MaxProperties ~]";break}g[P]=MT(P,w[P],e-1,i,r),E+=1}return s(t),g}var Es=M(9981);function LN(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}var UN="Not capturing exception because it's already been captured.";class wf{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(wf.prototype.__init.call(this),wf.prototype.__init2.call(this),wf.prototype.__init3.call(this),wf.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=AN(t.dsn);var e=RN(this._dsn,t);this._transport=t.transport(ii(Xe({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,i){if((0,Hr.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(UN));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(o=>this._captureEvent(o,e,i)).then(o=>{r=o})),r}captureMessage(t,e,i,r){let o=i&&i.event_id;var s=(0,Cr.pt)(t)?this.eventFromMessage(String(t),e,i):this.eventFromException(t,i);return this._process(s.then(a=>this._captureEvent(a,i,r)).then(a=>{o=a})),o}captureEvent(t,e,i){if(e&&e.originalException&&(0,Hr.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(UN));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,i).then(o=>{r=o})),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,IN.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var e=this._transport;return e?this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r)):(0,bs.WD)(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function sK(n){var t={};return n.forEach(e=>{t[e.name]=e,-1===MN.indexOf(e.name)&&(e.setupOnce(ay.c,mr.Gd),MN.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`Integration installed: ${e.name}`))}),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let r=function kK(n,t,e,i){var r=LN(e),o=n.type||"event";const{transactionSampling:s}=n.sdkProcessingMetadata||{},{method:a,rate:l}=s||{};!function IK(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);var c=function FK(n,t,e,i){var r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baggage,o=r&&(0,Es.Hk)(r);return Xe(Xe(Xe({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&{dsn:ly(i)}),"transaction"===n.type&&o&&{trace:(0,ao.Jr)(Xe({},o))})}(n,r,i,t);return delete n.sdkProcessingMetadata,uy(c,[[{type:o,sample_rates:[{id:a,rate:l}]},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(var i of e.attachments||[])r=OK(r,wK(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(t){if(this._dsn){var e=function NK(n,t,e,i){var r=LN(e);return uy(Xe(Xe({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&{dsn:ly(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e){if(this._options.sendClientReports){var i=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}_updateSessionFromEvent(t,e){let i=!1,r=!1;var o=e.exception&&e.exception.values;if(o)for(var s of(r=!0,o)){var a=s.mechanism;if(a&&!1===a.handled){i=!0;break}}var l="ok"===t.status;(l&&0===t.errors||l&&i)&&((0,IN.CT)(t,ii(Xe({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new bs.cW(e=>{let i=0;var o=setInterval(()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(i+=1,t&&i>=t&&(clearInterval(o),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,i){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var s=ii(Xe({},t),{event_id:t.event_id||e.event_id||(0,Hr.DM)(),timestamp:t.timestamp||(0,Gu.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);let a=i;e.captureContext&&(a=ay.s.clone(a).update(e.captureContext));let l=(0,bs.WD)(s);if(a){var c=[...e.attachments||[],...a.getAttachments()];c.length&&(e.attachments=c),l=a.applyToEvent(s,e)}return l.then(g=>"number"==typeof r&&r>0?this._normalizeEvent(g,r,o):g)}_normalizeEvent(t,e,i){if(!t)return null;var r=Xe(Xe(Xe(Xe(Xe({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>Xe(Xe({},o),o.data&&{data:ju(o.data,e,i)}))}),t.user&&{user:ju(t.user,e,i)}),t.contexts&&{contexts:ju(t.contexts,e,i)}),t.extra&&{extra:ju(t.extra,e,i)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=ju(t.contexts.trace.data,e,i))),t.spans&&(r.spans=t.spans.map(o=>(o.data&&(o.data=ju(o.data,e,i)),o))),r}_applyClientOptions(t){var e=this.getOptions();const{environment:i,release:r,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?i:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=(0,ll.$G)(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,ll.$G)(a.value,s));var l=t.request;l&&l.url&&(l.url=(0,ll.$G)(l.url,s))}_applyIntegrationsMetadata(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var o=r;"log"===o.logLevel?Wt.kg.log(o.message):Wt.kg.warn(o)}})}_processEvent(t,e,i){const{beforeSend:r,sampleRate:o}=this.getOptions();if(!this._isEnabled())return(0,bs.$2)(new Co("SDK not enabled, will not capture event.","log"));var s="transaction"===t.type;return!s&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),(0,bs.$2)(new Co(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,e,i).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",t.type||"error"),new Co("An event processor returned null, will not send event.","log");return e.data&&!0===e.data.__sentry__||s||!r?a:function BK(n){var t="`beforeSend` method has to return `null` or a valid event.";if((0,Cr.J8)(n))return n.then(e=>{if(!(0,Cr.PO)(e)&&null!==e)throw new Co(t);return e},e=>{throw new Co(`beforeSend rejected with ${e}`)});if(!(0,Cr.PO)(n)&&null!==n)throw new Co(t);return n}(r(a,e))}).then(a=>{if(null===a)throw this.recordDroppedEvent("before_send",t.type||"error"),new Co("`beforeSend` returned `null`, will not send event.","log");var l=i&&i.getSession();return!s&&l&&this._updateSessionFromEvent(l,a),this.sendEvent(a,e),a}).then(null,a=>{throw a instanceof Co?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new Co(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${a}`))})}_process(t){this._numProcessing+=1,t.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}var hy="7.12.1";function GN(n,t){var e=PT(n,t),i={type:t&&t.name,value:VK(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function wT(n,t){return{exception:{values:[GN(n,t)]}}}function PT(n,t){var e=t.stacktrace||t.stack||"",i=function jK(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(GK.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}var GK=/Minified React error #\d+;/i;function VK(n){var t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function AT(n,t,e,i,r){let o;if((0,Cr.VW)(t)&&t.error)return wT(n,t.error);if((0,Cr.TX)(t)||(0,Cr.fm)(t)){var a=t;if("stack"in t)o=wT(n,t);else{var l=a.name||((0,Cr.TX)(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;o=xT(n,c,e,i),(0,Hr.Db)(o,c)}return"code"in a&&(o.tags=ii(Xe({},o.tags),{"DOMException.code":`${a.code}`})),o}return(0,Cr.VZ)(t)?wT(n,t):(0,Cr.PO)(t)||(0,Cr.cO)(t)?(o=function UK(n,t,e,i){var r={exception:{values:[{type:(0,Cr.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,ao.zf)(t)}`}]},extra:{__serialized__:BN(t)}};if(e){var o=PT(n,e);o.length&&(r.exception.values[0].stacktrace={frames:o})}return r}(n,t,e,r),(0,Hr.EG)(o,{synthetic:!0}),o):(o=xT(n,t,e,i),(0,Hr.Db)(o,`${t}`,void 0),(0,Hr.EG)(o,{synthetic:!0}),o)}function xT(n,t,e,i){var r={message:t};if(i&&e){var o=PT(n,e);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}return r}var Pf=M(6477),WK=["fatal","error","warning","log","info","debug"];function jN(n){return"warn"===n?"warning":WK.includes(n)?n:"log"}function RT(n){if(!n)return{};var t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}var VN="Breadcrumbs";class $g{static __initStatic(){this.id=VN}__init(){this.name=$g.id}constructor(t){$g.prototype.__init.call(this),this.options=Xe({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}setupOnce(){this.options.console&&(0,Na.o)("console",$K),this.options.dom&&(0,Na.o)("dom",function zK(n){return function t(e){let i,r="object"==typeof n?n.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{i=(0,Pf.Rt)(e.event.target?e.event.target:e.event,r)}catch(o){i="<unknown>"}0!==i.length&&(0,mr.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:i},{event:e.event,name:e.name,global:e.global})}}(this.options.dom)),this.options.xhr&&(0,Na.o)("xhr",XK),this.options.fetch&&(0,Na.o)("fetch",KK),this.options.history&&(0,Na.o)("history",qK)}}function $K(n){var t={category:"console",data:{arguments:n.args,logger:"console"},level:jN(n.level),message:(0,ll.nK)(n.args," ")};if("assert"===n.level){if(!1!==n.args[0])return;t.message=`Assertion failed: ${(0,ll.nK)(n.args.slice(1)," ")||"console.assert"}`,t.data.arguments=n.args.slice(1)}(0,mr.Gd)().addBreadcrumb(t,{input:n.args,level:n.level})}function XK(n){if(n.endTimestamp){if(n.xhr.__sentry_own_request__)return;const{method:t,url:e,status_code:i,body:r}=n.xhr.__sentry_xhr__||{};(0,mr.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:e,status_code:i},type:"http"},{xhr:n.xhr,input:r})}}function KK(n){!n.endTimestamp||n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method||(n.error?(0,mr.Gd)().addBreadcrumb({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args}):(0,mr.Gd)().addBreadcrumb({category:"fetch",data:ii(Xe({},n.fetchData),{status_code:n.response.status}),type:"http"},{input:n.args,response:n.response}))}function qK(n){var t=(0,Oo.R)();let e=n.from,i=n.to;var r=RT(t.location.href);let o=RT(e);var s=RT(i);o.path||(o=r),r.protocol===s.protocol&&r.host===s.host&&(i=s.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),(0,mr.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:i}})}$g.__initStatic();var ka=(0,Oo.R)();let dy;function HN(){if(dy)return dy;if((0,CT.Du)(ka.fetch))return dy=ka.fetch.bind(ka);var n=ka.document;let t=ka.fetch;if(n&&"function"==typeof n.createElement)try{var e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);var i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return dy=t.bind(ka)}var DT=(0,Oo.R)();class QK extends wf{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:hy}],version:hy},super(t),t.sendClientReports&&DT.document&&DT.document.addEventListener("visibilitychange",()=>{"hidden"===DT.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function HK(n,t,e,i){var o=AT(n,t,e&&e.syntheticException||void 0,i);return(0,Hr.EG)(o),o.level="error",e&&e.event_id&&(o.event_id=e.event_id),(0,bs.WD)(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function YK(n,t,e="info",i,r){var s=xT(n,t,i&&i.syntheticException||void 0,r);return s.level=e,i&&i.event_id&&(s.event_id=i.event_id),(0,bs.WD)(s)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}sendEvent(t,e){var i=this.getIntegrationById(VN);i&&i.options&&i.options.sentry&&(0,mr.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,Hr.jH)(t)},{event:t}),super.sendEvent(t,e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("Sending outcomes:",t);var e=RN(this._dsn,this._options),i=function LK(n,t,e){return uy(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||(0,Gu.yW)(),discarded_events:n}]])}(t,this._options.tunnel&&ly(this._dsn));try{!function JK(n,t){"[object Navigator]"===Object.prototype.toString.call(ka&&ka.navigator)&&"function"==typeof ka.navigator.sendBeacon?ka.navigator.sendBeacon.bind(ka.navigator)(n,t):(0,CT.Ak)()&&HN()(n,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,s=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error(s)})}(e,kN(i))}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error(r)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("No outcomes to send")}}function Xg(n,t,e,i){var r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}var rq=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,oq=/\((\S*)(?::(\d+))(?::(\d+))\)/,aq=[30,n=>{var t=rq.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){var i=oq.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,o]=YN(t[1]||"?",t[2]);return Xg(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],lq=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cq=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hq=[50,n=>{var t=lq.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=cq.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=YN(o,r),Xg(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],dq=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,pq=[40,n=>{var t=dq.exec(n);return t?Xg(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],bq=(0,Wl.pE)(aq,hq,pq),YN=(n,t)=>{var e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function WN(n,t){return(0,mr.Gd)().captureException(n,{captureContext:t})}function zN(n,t){var e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;return(0,mr.Gd)().captureMessage(n,e,i)}function Gc(n,t){(0,mr.Gd)().setTag(n,t)}function Sq(n){(0,mr.Gd)().withScope(n)}let IT=0;function $N(){return IT>0}function Tq(){IT+=1,setTimeout(()=>{IT-=1})}function xf(n,t={},e){if("function"!=typeof n)return n;try{var i=n.__sentry_wrapped__;if(i)return i;if((0,ao.HK)(n))return n}catch(a){return n}var r=function(){var a=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var l=a.map(c=>xf(c,t));return n.apply(this,l)}catch(c){throw Tq(),Sq(g=>{g.addEventProcessor(E=>(t.mechanism&&((0,Hr.Db)(E,void 0,void 0),(0,Hr.EG)(E,t.mechanism)),E.extra=ii(Xe({},E.extra),{arguments:a}),E)),WN(c)}),c}};try{for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}catch(a){}(0,ao.$Q)(r,n),(0,ao.xp)(n,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>n.name})}catch(a){}return r}var Cq=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Kg{static __initStatic(){this.id="TryCatch"}__init(){this.name=Kg.id}constructor(t){Kg.prototype.__init.call(this),this._options=Xe({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}setupOnce(){var t=(0,Oo.R)();this._options.setTimeout&&(0,ao.hl)(t,"setTimeout",XN),this._options.setInterval&&(0,ao.hl)(t,"setInterval",XN),this._options.requestAnimationFrame&&(0,ao.hl)(t,"requestAnimationFrame",Oq),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,ao.hl)(XMLHttpRequest.prototype,"send",Mq);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:Cq).forEach(wq)}}function XN(n){return function(...t){return t[0]=xf(t[0],{mechanism:{data:{function:(0,Wl.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}}function Oq(n){return function(t){return n.apply(this,[xf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Wl.$P)(n)},handled:!0,type:"instrument"}})])}}function Mq(n){return function(...t){var e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&(0,ao.hl)(e,r,function(o){var s={mechanism:{data:{function:r,handler:(0,Wl.$P)(o)},handled:!0,type:"instrument"}},a=(0,ao.HK)(o);return a&&(s.mechanism.data.handler=(0,Wl.$P)(a)),xf(o,s)})}),n.apply(this,t)}}function wq(n){var t=(0,Oo.R)(),e=t[n]&&t[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||((0,ao.hl)(e,"addEventListener",function(i){return function(r,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=xf(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Wl.$P)(o),target:n},handled:!0,type:"instrument"}}))}catch(a){}return i.apply(this,[r,xf(o,{mechanism:{data:{function:"addEventListener",handler:(0,Wl.$P)(o),target:n},handled:!0,type:"instrument"}}),s])}}),(0,ao.hl)(e,"removeEventListener",function(i){return function(r,o,s){var a=o;try{var l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,s)}catch(c){}return i.call(this,r,a,s)}}))}Kg.__initStatic();class jc{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=jc.id}__init2(){this._installFunc={onerror:Pq,onunhandledrejection:Aq}}constructor(t){jc.prototype.__init.call(this),jc.prototype.__init2.call(this),this._options=Xe({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var e in t){var i=this._installFunc[e];i&&t[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`Global Handler attached: ${e}`),i(),this._installFunc[e]=void 0)}}}function Pq(){(0,Na.o)("error",n=>{const[t,e,i]=JN();if(!t.getIntegration(jc))return;const{msg:r,url:o,line:s,column:a,error:l}=n;if(!($N()||l&&l.__sentry_own_request__)){var c=void 0===l&&(0,Cr.HD)(r)?function Rq(n,t,e,i){let o=(0,Cr.VW)(n)?n.message:n,s="Error";var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],o=a[2]),KN({exception:{values:[{type:s,value:o}]}},t,e,i)}(r,o,s,a):KN(AT(e,l||r,void 0,i,!1),o,s,a);c.level="error",qN(t,l,c,"onerror")}})}function Aq(){(0,Na.o)("unhandledrejection",n=>{const[t,e,i]=JN();if(!t.getIntegration(jc))return;let r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(s){}if($N()||r&&r.__sentry_own_request__)return!0;var o=(0,Cr.pt)(r)?function xq(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):AT(e,r,void 0,i,!0);o.level="error",qN(t,r,o,"onunhandledrejection")})}function KN(n,t,e,i){var r=n.exception=n.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,g=isNaN(parseInt(e,10))?void 0:e,E=(0,Cr.HD)(t)&&t.length>0?t:(0,Pf.l4)();return 0===l.length&&l.push({colno:c,filename:E,function:"?",in_app:!0,lineno:g}),n}function qN(n,t,e,i){(0,Hr.EG)(e,{handled:!1,type:i}),n.captureEvent(e,{originalException:t})}function JN(){var n=(0,mr.Gd)(),t=n.getClient(),e=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,e.stackParser,e.attachStacktrace]}jc.__initStatic();class Rf{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Rf.id}constructor(t={}){Rf.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){var t=(0,mr.Gd)().getClient();!t||(0,ay.c)((e,i)=>{var r=(0,mr.Gd)().getIntegration(Rf);return r?function kq(n,t,e,i,r){if(!(i.exception&&i.exception.values&&r&&(0,Cr.V9)(r.originalException,Error)))return i;var o=QN(n,e,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}(t.getOptions().stackParser,r._key,r._limit,e,i):e})}}function QN(n,t,e,i,r=[]){if(!(0,Cr.V9)(e[i],Error)||r.length+1>=t)return r;var o=GN(n,e[i]);return QN(n,t,e[i],i,[o,...r])}Rf.__initStatic();class Df{constructor(){Df.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Df.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(Df);if(o){try{if(function Fq(n,t){return!(!t||!function Bq(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!ek(n,t)||!ZN(n,t))}(n,t)&&!function Lq(n,t){var e=tk(t),i=tk(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&ek(n,t)&&ZN(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function ZN(n,t){let e=nk(n),i=nk(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function ek(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function tk(n){return n.exception&&n.exception.values&&n.exception.values[0]}function nk(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Df.__initStatic();var Vu=(0,Oo.R)();class If{constructor(){If.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=If.id}setupOnce(){(0,ay.c)(t=>{if((0,mr.Gd)().getIntegration(If)){if(!Vu.navigator&&!Vu.location&&!Vu.document)return t;var e=t.request&&t.request.url||Vu.location&&Vu.location.href;const{referrer:o}=Vu.document||{},{userAgent:s}=Vu.navigator||{};var i=Xe(Xe(Xe({},t.request&&t.request.headers),o&&{Referer:o}),s&&{"User-Agent":s}),r=ii(Xe({},e&&{url:e}),{headers:i});return ii(Xe({},t),{request:r})}return t})}}function ik(n,t,e=function Uq(n){var t=[];function i(s){return t.splice(t.indexOf(s),1)[0]}return{$:t,add:function r(s){if(!function e(){return void 0===n||t.length<n}())return(0,bs.$2)(new Co("Not adding Promise because buffer limit was reached."));var a=s();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function o(s){return new bs.cW((a,l)=>{let c=t.length;if(!c)return a(!0);var g=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(E=>{(0,bs.WD)(E).then(()=>{--c||(clearTimeout(g),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};return{send:function o(s){var a=[];if(NN(s,(E,w)=>{var P=FN(w);!function Hq(n,t,e=Date.now()){return function Vq(n,t){return n[t]||n.all||0}(n,t)>e}(i,P)?a.push(E):n.recordDroppedEvent("ratelimit_backoff",P)}),0===a.length)return(0,bs.WD)();var l=uy(s[0],a),c=E=>{NN(l,(w,P)=>{n.recordDroppedEvent(E,FN(P))})};return e.add(()=>t({body:kN(l,n.textEncoder)}).then(E=>{void 0!==E.statusCode&&(E.statusCode<200||E.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`Sentry responded with status code ${E.statusCode} to sent event.`),i=function Yq(n,{statusCode:t,headers:e},i=Date.now()){var r=Xe({},n),o=e&&e["x-sentry-rate-limits"],s=e&&e["retry-after"];if(o)for(var a of o.trim().split(",")){const[E,w]=a.split(":",2);var l=parseInt(E,10),c=1e3*(isNaN(l)?60:l);if(w)for(var g of w.split(";"))r[g]=i+c;else r.all=i+c}else s?r.all=i+function jq(n,t=Date.now()){var e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;var i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(s,i):429===t&&(r.all=i+6e4);return r}(i,E)},E=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Failed while sending event:",E),c("network_error")})).then(E=>E,E=>{if(E instanceof Co)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Skipped sending event because buffer is full."),c("queue_overflow"),(0,bs.WD)();throw E})},flush:s=>e.drain(s)}}function zq(n,t=HN()){return ik(n,function e(i){var r=Xe({body:i.body,method:"POST",referrerPolicy:"origin",headers:n.headers},n.fetchOptions);return t(n.url,r).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))})}function Xq(n){return ik(n,function t(e){return new bs.cW((i,r)=>{var o=new XMLHttpRequest;for(var s in o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",n.url),n.headers)Object.prototype.hasOwnProperty.call(n.headers,s)&&o.setRequestHeader(s,n.headers[s]);o.send(e.body)})})}If.__initStatic();var Kq=[new Mf,new zg,new Kg,new $g,new jc,new Rf,new Df,new If];function rk(n){n.startSession({ignoreDuration:!0}),n.captureSession()}function Yt(...n){return Gn(n,cs(n))}function Hu(n,t){return y(t)?wi(n,t,1):wi(n,1)}function Ft(n,t){return je((e,i)=>{let r=0;e.subscribe(ie(i,o=>n.call(t,o,r++)&&i.next(o)))})}class ok{}class sk{}class zl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Zq{encodeKey(t){return ak(t)}encodeValue(t){return ak(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const tJ=/%(\d[a-f0-9])/gi,nJ={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ak(n){return encodeURIComponent(n).replace(tJ,(t,e)=>{var i;return null!==(i=nJ[e])&&void 0!==i?i:t})}function lk(n){return`${n}`}class Vc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zq,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eJ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Vc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(lk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(lk(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class iJ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ck(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function uk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function hk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class qg{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function rJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new zl),this.context||(this.context=new iJ),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Vc,this.urlWithParams=e}serializeBody(){return null===this.body?null:ck(this.body)||uk(this.body)||hk(this.body)||function oJ(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hk(this.body)?null:uk(this.body)?this.body.type||null:ck(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,g=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((w,P)=>w.set(P,t.setHeaders[P]),c)),t.setParams&&(g=Object.keys(t.setParams).reduce((w,P)=>w.set(P,t.setParams[P]),g)),new qg(i,r,s,{params:g,headers:c,context:E,reportProgress:l,responseType:o,withCredentials:a})}}var xr=(()=>((xr=xr||{})[xr.Sent=0]="Sent",xr[xr.UploadProgress=1]="UploadProgress",xr[xr.ResponseHeader=2]="ResponseHeader",xr[xr.DownloadProgress=3]="DownloadProgress",xr[xr.Response=4]="Response",xr[xr.User=5]="User",xr))();class NT{constructor(t,e=200,i="OK"){this.headers=t.headers||new zl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class kT extends NT{constructor(t={}){super(t),this.type=xr.ResponseHeader}clone(t={}){return new kT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fy extends NT{constructor(t={}){super(t),this.type=xr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class py extends NT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function FT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BT=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof qg)o=e;else{let l,c;l=r.headers instanceof zl?r.headers:new zl(r.headers),r.params&&(c=r.params instanceof Vc?r.params:new Vc({fromObject:r.params})),o=new qg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Yt(o).pipe(Hu(l=>this.handler.handle(l)));if(e instanceof qg||"events"===r.observe)return s;const a=s.pipe(Ft(l=>l instanceof fy));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(pe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(pe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Vc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,FT(r,i))}post(e,i,r={}){return this.request("POST",e,FT(r,i))}put(e,i,r={}){return this.request("PUT",e,FT(r,i))}}return n.\u0275fac=function(e){return new(e||n)(Ne(ok))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class dk{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const fk=new Qt("HTTP_INTERCEPTORS");let sJ=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const aJ=/^\)\]\}',?\n/;let pk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,A)=>r.setRequestHeader(P,A.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const P=r.statusText||"OK",A=new zl(r.getAllResponseHeaders()),D=function lJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new kT({headers:A,status:r.status,statusText:P,url:D}),s},l=()=>{let{headers:P,status:A,statusText:D,url:B}=a(),Y=null;204!==A&&(Y=void 0===r.response?r.responseText:r.response),0===A&&(A=Y?200:0);let K=A>=200&&A<300;if("json"===e.responseType&&"string"==typeof Y){const re=Y;Y=Y.replace(aJ,"");try{Y=""!==Y?JSON.parse(Y):null}catch(ae){Y=re,K&&(K=!1,Y={error:ae,text:Y})}}K?(i.next(new fy({body:Y,headers:P,status:A,statusText:D,url:B||void 0})),i.complete()):i.error(new py({error:Y,headers:P,status:A,statusText:D,url:B||void 0}))},c=P=>{const{url:A}=a(),D=new py({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:A||void 0});i.error(D)};let g=!1;const E=P=>{g||(i.next(a()),g=!0);let A={type:xr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),"text"===e.responseType&&!!r.responseText&&(A.partialText=r.responseText),i.next(A)},w=P=>{let A={type:xr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),i.next(A)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",E),null!==o&&r.upload&&r.upload.addEventListener("progress",w)),r.send(o),i.next({type:xr.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",E),null!==o&&r.upload&&r.upload.removeEventListener("progress",w)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(Ne(hN))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const LT=new Qt("XSRF_COOKIE_NAME"),UT=new Qt("XSRF_HEADER_NAME");class gk{}let cJ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=iN(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di),Ne(Bu),Ne(LT))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),GT=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(gk),Ne(UT))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),uJ=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(fk,[]);this.chain=i.reduceRight((r,o)=>new dk(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(sk),Ne(Er))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),hJ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:GT,useClass:sJ}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:LT,useValue:e.cookieName}:[],e.headerName?{provide:UT,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[GT,{provide:fk,useExisting:GT,multi:!0},{provide:gk,useClass:cJ},{provide:LT,useValue:"XSRF-TOKEN"},{provide:UT,useValue:"X-XSRF-TOKEN"}]}),n})(),dJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[BT,{provide:ok,useClass:uJ},pk,{provide:sk,useExisting:pk}],imports:[[hJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const pJ="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,mJ="undefined"!=typeof Zone&&!!Zone.current;let yJ=(()=>{class n{constructor(e){this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function vJ(n){return mJ?Zone.root.run(n):n()}(()=>WN(i,o=>(o.addEventProcessor(s=>((0,Hr.EG)(s,{type:"angular",handled:!1}),s)),o)));this._options.logErrors&&console.error(i),this._options.showDialog&&function Jq(n={},t=(0,mr.Gd)()){var e=(0,Oo.R)();if(!e.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Global document not defined in showReportDialog call"));const{client:i,scope:r}=t.getStackTop();var o=n.dsn||i&&i.getDsn();if(o){r&&(n.user=Xe(Xe({},r.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());var s=e.document.createElement("script");s.async=!0,s.src=function gK(n,t){var e=AN(n),i=`${xN(e)}embed/error-page/`;let r=`dsn=${ly(e)}`;for(var o in t)if("dsn"!==o)if("user"===o){var s=t.user;if(!s)continue;s.name&&(r+=`&name=${encodeURIComponent(s.name)}`),s.email&&(r+=`&email=${encodeURIComponent(s.email)}`)}else r+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${i}?${r}`}(o,n),n.onLoad&&(s.onload=n.onLoad);var a=e.document.head||e.document.body;a?a.appendChild(s):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.error("DSN not configured for showReportDialog call")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){let i=e;return i&&i.ngOriginalError&&(i=i.ngOriginalError),"string"==typeof i||i instanceof Error?i:i instanceof py?i.error instanceof Error?i.error:i.error instanceof ErrorEvent&&i.error.message?i.error.message:"string"==typeof i.error?`Server returned code ${i.status} with body "${i.error}"`:i.message:null}}return n.\u0275fac=function(e){return new(e||n)(Ne("errorHandlerOptions"))},n.\u0275prov=rt({factory:function(){return new n(Ne("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function bJ(n){return new yJ(n)}(0,Oo.R)();var ai=(()=>{return(n=ai||(ai={})).reconnect="reconnect",n.connectionSlow="connection_slow",n.connectionLost="connection_lost",n.loginError="login_error",n.kicked="kicked",n.shutdown="shutdown",n.inactivity="inactivity",n.ban="ban",ai;var n})();const zi_production=!0,zi_loggerEnabled=!1,zi_version="4.2.29",zi_clientConfig={path:"https://app-config2.spribegaming.com/aviator/",ext:".json"},zi_avatarPath="assets/static/avatars/v2/",zi_brandPath="assets/static/images/brand/";var Or=(()=>{return(n=Or||(Or={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",Or;var n})();function vk(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function yk(n){const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}function HT(){try{return window.self!==window.top}catch(n){return!0}}var Qi=M(8135);class bk{static toSFSObject(t){let e=new Qi.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function wJ(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],Qi.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],Qi.SFSDataType.SFS_ARRAY)){let o=[],s=t.get(i[r]);for(let a=0;a<s.size();a++)o.push(this.toObject(s.getSFSObject(a)));e[i[r]]=o}else e[i[r]]=t.get(i[r]);return e}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}class FJ extends f{constructor(t,e){super()}schedule(t,e=0){return this}}const gy={setInterval(n,t,...e){const{delegate:i}=gy;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=gy;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class YT extends FJ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return gy.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;gy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const WT={now:()=>(WT.delegate||Date).now(),delegate:void 0};class Jg{constructor(t,e=Jg.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Jg.now=WT.now;class zT extends Jg{constructor(t,e=Jg.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Qg=new zT(YT),BJ=Qg;function Hc(n=0,t,e=BJ){let i=-1;return null!=t&&(ui(t)?e=t:i=t),new oe(r=>{let o=function LJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}class UJ{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectDelayTimer$=null,this.reconnectCount=0}try(t,e=null){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=Hc(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=null,this.reconnectCount=0}}var Nf=(()=>{return(n=Nf||(Nf={})).alert="alert",n.toast="toast",n.win="win",Nf;var n})(),Ss=(()=>{return(n=Ss||(Ss={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",Ss;var n})(),_y=(()=>((_y||(_y={})).NotEnoughBalance="Not enough balance",_y))(),kf=(()=>{return(n=kf||(kf={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",kf;var n})(),Yu=(()=>{return(n=Yu||(Yu={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",Yu;var n})();const{isArray:jJ}=Array;function $T(n){return pe(t=>function VJ(n,t){return jJ(t)?n(...t):n(t)}(n,t))}const HJ=["addListener","removeListener"],YJ=["addEventListener","removeEventListener"],WJ=["on","off"];function Vi(n,t,e,i){if(y(e)&&(i=e,e=void 0),i)return Vi(n,t,e).pipe($T(i));const[r,o]=function XJ(n){return y(n.addEventListener)&&y(n.removeEventListener)}(n)?YJ.map(s=>a=>n[s](t,a,e)):function zJ(n){return y(n.addListener)&&y(n.removeListener)}(n)?HJ.map(Ek(n,t)):function $J(n){return y(n.on)&&y(n.off)}(n)?WJ.map(Ek(n,t)):[];if(!r&&Lt(n))return wi(s=>Vi(s,t,e))(gt(n));if(!r)throw new TypeError("Invalid event target");return new oe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Ek(n,t){return e=>i=>n[e](t,i)}function Zi(n){return je((t,e)=>{gt(n).subscribe(ie(e,()=>e.complete(),O)),!e.closed&&t.subscribe(e)})}const KJ=Vm,JJ=Symbol("__destroy"),Sk=Symbol("__decoratorApplied");function Tk(n){return"string"==typeof n?Symbol(`__destroy__${n}`):JJ}function Ck(n,t){n[t]||(n[t]=new Le)}function Ok(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function Mk(n){n instanceof f&&n.unsubscribe()}function wk(n,t){return function(){var e;if(n&&n.call(this),Ok(this,Tk()),t.arrayName)return function ZJ(n){Array.isArray(n)&&n.forEach(Mk)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||Mk(this[i])}}function vi(n={}){return t=>{!function qJ(n){return!!n[KJ]}(t)?function eQ(n,t){n.prototype.ngOnDestroy=wk(n.prototype.ngOnDestroy,t)}(t,n):function tQ(n,t){const e=n.\u0275pipe;e.onDestroy=wk(e.onDestroy,t)}(t,n),function QJ(n){n.prototype[Sk]=!0}(t)}}function St(n,t){return e=>{const i=Tk(t);return"string"==typeof t?function nQ(n,t,e){const i=n[t];Ck(n,e),n[t]=function(){i.apply(this,arguments),Ok(this,e),n[t]=i}}(n,t,i):Ck(n,i),e.pipe(Zi(n[i]))}}var Ff=(()=>{return(n=Ff||(Ff={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",Ff;var n})();class iQ{constructor(t,e,i=4e3){this.smartFox=t,this.callbackFn=e,this.interval=i,this.timeoutRef=null,this.intervalRef=null,this.waitResponseTime=null,this.waitResponseTime=this.interval-1e3}start(){this.reset(),Vi(this.smartFox,Qi.SFSEvent.EXTENSION_RESPONSE).pipe(Ft(t=>t.cmd===Ff.Response),St(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.interval)}threadRunner(){this.smartFox.send(new Qi.ExtensionRequest(Ff.Request)),this.waitResponse()}waitResponse(){null===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(ai.connectionSlow)},this.waitResponseTime))}pingResponseHandler(){this.callbackFn(null),clearTimeout(this.timeoutRef),this.timeoutRef=null}reset(){clearTimeout(this.timeoutRef),clearInterval(this.intervalRef),this.timeoutRef=null,this.intervalRef=null}}var cn=(()=>{return(n=cn||(cn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",cn;var n})(),$l=(()=>{return(n=$l||($l={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",$l;var n})(),jn=(()=>{return(n=jn||(jn={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",jn;var n})(),my=(()=>{return(n=my||(my={}))[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",my;var n})(),vy=(()=>{return(n=vy||(vy={})).navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender",vy;var n})();const Bf={UKNOWN:"Unknown"},XT={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Bf.UKNOWN},yy={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Lf={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Yc={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Bf.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Pk=[Yc.PS4,Yc.CHROME_BOOK,Yc.MAC,Yc.DELL,Yc.ASUS,Yc.UNKNOWN],Ak={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Bf.UKNOWN},rQ={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Bf.UKNOWN.toLowerCase()},xk={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},sQ=Object.assign(Object.assign(Object.assign(Object.assign({},yy),Lf),xk),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),KT={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},qT={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},aQ=Object.keys(KT).reduce((n,t)=>(n[t]=KT[t],n),{}),Rk=Object.keys(qT).reduce((n,t)=>(n[XT[t]]=qT[t],n),{});var cl=Object.freeze({__proto__:null,GENERAL:Bf,BROWSERS:XT,MOBILES_RE:yy,TABLETS_RE:Lf,DEVICES:Yc,DESKTOP_DEVICES:Pk,OS:Ak,OS_VERSIONS:rQ,OS_RE:xk,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:sQ,OS_VERSIONS_RE_MAP:KT,BROWSER_VERSIONS_RE_MAP:qT,OS_VERSIONS_RE:aQ,BROWSER_VERSIONS_RE:Rk});class lQ{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var Wu=(()=>{return(n=Wu||(Wu={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Wu;var n})(),Zg=(()=>{return(n=Zg||(Zg={})).Portrait="portrait",n.Landscape="landscape",Zg;var n})();const JT="iPad";let cQ=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new lQ,this.deviceType="",this.orientation="",Hg(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(cl[r.const]).reduce((o,s)=>"device"===cl[r.const][s]&&Hg(this.platformId)&&(this.reTree.test(this.userAgent,Lf[JT])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[cl[r.const][s]]=JT,Object):(o[cl[r.const][s]]=this.reTree.test(e,cl[`${r.const}_RE`][s]),o),{})}),i.forEach(r=>{this[r.prop]=Object.keys(cl[r.const]).map(o=>cl[r.const][o]).reduce((o,s)=>"device"===r.prop&&o===cl[r.const].ANDROID?this[r.prop][s]?s:o:o===cl[r.const].UNKNOWN&&this[r.prop][s]?s:o,cl[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==XT.UNKNOWN){const o=this.reTree.exec(e,Rk[this.browser]);o&&(this.browser_version=o[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Zg.Landscape:Zg.Portrait:Bf.UKNOWN,this.deviceType=this.isTablet()?Wu.Tablet:this.isMobile(this.userAgent)?Wu.Mobile:this.isDesktop(this.userAgent)?Wu.Desktop:Wu.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(yy).find(r=>this.reTree.test(e,yy[r]))}isTablet(e=this.userAgent){return!(!Hg(this.platformId)||!(this.reTree.test(this.userAgent,Lf[JT])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Lf).find(r=>!!this.reTree.test(e,Lf[r]))}isDesktop(e=this.userAgent){return(this.device!==Yc.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&Pk.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(Ne(Bu))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wc(...n){return function hQ(){return Br(1)}()(Gn(n,cs(n)))}function Dk(n,t){return t?e=>Wc(t.pipe(Xn(1),function dQ(){return je((n,t)=>{n.subscribe(ie(t,O))})}()),e.pipe(Dk(n))):wi((e,i)=>n(e,i).pipe(Xn(1),function fQ(n){return pe(()=>n)}(e)))}function QT(n,t=Qg){const e=Hc(n,t);return Dk(()=>e)}function e_(n,t){const e=y(n)?n:()=>n,i=r=>r.error(e());return new oe(t?r=>t.schedule(i,0,r):i)}var by=(()=>{return(n=by||(by={})).Default="default",n.Detailed="detailed",by;var n})(),t_=(()=>{return(n=t_||(t_={})).Navigate="navigate",n.IfcEvent="ifcEvent",t_;var n})(),Uf=(()=>{return(n=Uf||(Uf={})).Navigate="navigate",n.IfcEvent="ifcEvent",Uf;var n})(),Ey=(()=>{return(n=Ey||(Ey={})).ifcEvent="ifcEvent",n.modal="modal",Ey;var n})(),Gf=(()=>{return(n=Gf||(Gf={})).CancelBet="cancelBet",n.None="none",Gf;var n})(),$i=(()=>{return(n=$i||($i={}))[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay",$i;var n})(),zc=(()=>((zc||(zc={})).Base="Roboto, sans-serif",zc))(),Qr=(()=>{return(n=Qr||(Qr={})).sm="sm",n.md="md",n.lg="lg",Qr;var n})();class Rn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?Qr.lg:this.appWidth>=420&&this.appHeight>=200?Qr.md:Qr.sm}}var yQ=setTimeout;function Ik(n){return Boolean(n&&void 0!==n.length)}function bQ(){}function vr(n){if(!(this instanceof vr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],kk(n,this)}function Nk(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,vr._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void n_(t.promise,r)}ZT(t.promise,i)}else(1===n._state?ZT:n_)(t.promise,n._value)})):n._deferreds.push(t)}function ZT(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof vr)return n._state=3,n._value=t,void eC(n);if("function"==typeof e)return void kk(function EQ(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,eC(n)}catch(i){n_(n,i)}}function n_(n,t){n._state=2,n._value=t,eC(n)}function eC(n){2===n._state&&0===n._deferreds.length&&vr._immediateFn(function(){n._handled||vr._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)Nk(n,n._deferreds[t]);n._deferreds=null}function SQ(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function kk(n,t){var e=!1;try{n(function(i){e||(e=!0,ZT(t,i))},function(i){e||(e=!0,n_(t,i))})}catch(i){if(e)return;e=!0,n_(t,i)}}vr.prototype.catch=function(n){return this.then(null,n)},vr.prototype.then=function(n,t){var e=new this.constructor(bQ);return Nk(this,new SQ(n,t,e)),e},vr.prototype.finally=function gQ(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},vr.all=function(n){return new vr(function(t,e){if(!Ik(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function o(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,function(g){o(a,g)},e)}i[a]=l,0==--r&&t(i)}catch(g){e(g)}}for(var s=0;s<i.length;s++)o(s,i[s])})},vr.allSettled=function mQ(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var o=r.length;function s(l,c){if(c&&("object"==typeof c||"function"==typeof c)){var g=c.then;if("function"==typeof g)return void g.call(c,function(E){s(l,E)},function(E){r[l]={status:"rejected",reason:E},0==--o&&e(r)})}r[l]={status:"fulfilled",value:c},0==--o&&e(r)}for(var a=0;a<r.length;a++)s(a,r[a])})},vr.resolve=function(n){return n&&"object"==typeof n&&n.constructor===vr?n:new vr(function(t){t(n)})},vr.reject=function(n){return new vr(function(t,e){e(n)})},vr.race=function(n){return new vr(function(t,e){if(!Ik(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)vr.resolve(n[i]).then(t,e)})},vr._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){yQ(n,0)},vr._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const TQ=vr;var CQ=M(5943),OQ=M.n(CQ);if(self.Promise||(self.Promise=TQ),Object.assign||(Object.assign=OQ()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var wQ=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-wQ}}for(var tC=Date.now(),Fk=["ms","moz","webkit","o"],nC=0;nC<Fk.length&&!self.requestAnimationFrame;++nC){var iC=Fk[nC];self.requestAnimationFrame=self[iC+"RequestAnimationFrame"],self.cancelAnimationFrame=self[iC+"CancelAnimationFrame"]||self[iC+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+tC-t;return e<0&&(e=0),tC=t,self.setTimeout(function(){tC=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var rC=/iPhone/i,Bk=/iPod/i,Lk=/iPad/i,Uk=/\biOS-universal(?:.+)Mac\b/i,oC=/\bAndroid(?:.+)Mobile\b/i,Gk=/Android/i,jf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sy=/Silk/i,Xl=/Windows Phone/i,jk=/\bWindows(?:.+)ARM\b/i,Vk=/BlackBerry/i,Hk=/BB10/i,Yk=/Opera Mini/i,Wk=/\b(CriOS|Chrome)(?:.+)Mobile/i,zk=/Mobile(?:.+)Firefox\b/i,$k=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},Ts=function AQ(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function PQ(n){return function(t){return t.test(n)}}(e),o={apple:{phone:r(rC)&&!r(Xl),ipod:r(Bk),tablet:!r(rC)&&(r(Lk)||$k(t))&&!r(Xl),universal:r(Uk),device:(r(rC)||r(Bk)||r(Lk)||r(Uk)||$k(t))&&!r(Xl)},amazon:{phone:r(jf),tablet:!r(jf)&&r(Sy),device:r(jf)||r(Sy)},android:{phone:!r(Xl)&&r(jf)||!r(Xl)&&r(oC),tablet:!r(Xl)&&!r(jf)&&!r(oC)&&(r(Sy)||r(Gk)),device:!r(Xl)&&(r(jf)||r(Sy)||r(oC)||r(Gk))||r(/\bokhttp\b/i)},windows:{phone:r(Xl),tablet:r(jk),device:r(Xl)||r(jk)},other:{blackberry:r(Vk),blackberry10:r(Hk),opera:r(Yk),firefox:r(zk),chrome:r(Wk),device:r(Vk)||r(Hk)||r(Yk)||r(zk)||r(Wk)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator),Ty=(()=>{return(n=Ty||(Ty={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Ty;var n})(),Cy=(()=>{return(n=Cy||(Cy={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Cy;var n})(),Oy=(()=>{return(n=Oy||(Oy={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",Oy;var n})(),My=(()=>{return(n=My||(My={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",My;var n})(),Vf=(()=>{return(n=Vf||(Vf={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Vf;var n})(),wy=(()=>{return(n=wy||(wy={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",wy;var n})(),ct={MIPMAP_TEXTURES:Oy.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:wy.NONE,SPRITE_MAX_TEXTURES:function xQ(n){var e,t=!0;(Ts.tablet||Ts.phone)&&(Ts.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),Ts.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:My.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Cy.CLAMP,SCALE_MODE:Ty.LINEAR,PRECISION_VERTEX:Vf.HIGH,PRECISION_FRAGMENT:Ts.apple.device?Vf.HIGH:Vf.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function RQ(){return!Ts.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},DQ=M(9170),Hf=M.n(DQ),IQ=M(5469),sC=M.n(IQ),aC=M(8762),Zr=(()=>{return(n=Zr||(Zr={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",Zr;var n})(),Fa=(()=>{return(n=Fa||(Fa={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",Fa;var n})(),$c=(()=>{return(n=$c||($c={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",$c;var n})(),Ue=(()=>{return(n=Ue||(Ue={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",Ue;var n})(),lo=(()=>{return(n=lo||(lo={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",lo;var n})(),Ye=(()=>{return(n=Ye||(Ye={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Ye;var n})(),es=(()=>{return(n=es||(es={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",es;var n})(),yt=(()=>{return(n=yt||(yt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",yt;var n})(),Xc=(()=>{return(n=Xc||(Xc={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",Xc;var n})(),Rr=(()=>{return(n=Rr||(Rr={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Rr;var n})(),Ks=(()=>{return(n=Ks||(Ks={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Ks;var n})(),Vo=(()=>{return(n=Vo||(Vo={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",Vo;var n})(),eo=(()=>{return(n=eo||(eo={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",eo;var n})(),Mo=(()=>{return(n=Mo||(Mo={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",Mo;var n})(),Yf=(()=>{return(n=Yf||(Yf={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",Yf;var n})(),Dr=(()=>{return(n=Dr||(Dr={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Dr;var n})(),li=(()=>{return(n=li||(li={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",li;var n})(),On=(()=>{return(n=On||(On={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",On;var n})(),Ir=(()=>{return(n=Ir||(Ir={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Ir;var n})(),zu={parse:aC.Qc,format:aC.WU,resolve:aC.DB};ct.RETINA_PREFIX=/@([0-9\.]+)x/,ct.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var uC,lC=!1;function Kk(){lC=!0}function cC(n){var t;lC||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),lC=!0)}function qk(){return void 0===uC&&(uC=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:ct.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),uC}var bte={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Kl(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function Py(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function Ho(n){return"string"==typeof n&&"#"===(n=bte[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function hC(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var dC=function Ete(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ue.NORMAL_NPM]=Ue.NORMAL,n[Ue.ADD_NPM]=Ue.ADD,n[Ue.SCREEN_NPM]=Ue.SCREEN,t[Ue.NORMAL]=Ue.NORMAL_NPM,t[Ue.ADD]=Ue.ADD_NPM,t[Ue.SCREEN]=Ue.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function fC(n,t){return dC[t?1:0][n]}function Jk(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function Ay(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function pC(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function Qk(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function xy(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var Ste={Float32Array,Uint32Array,Int32Array,Uint8Array};function Tte(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],g=n[o],E=xy(g);r[E]||(r[E]=new Ste[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/c|0)*i+l+w%c]=g[w];l+=c}return new Float32Array(s)}function i_(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function gC(n){return!(n&n-1||!n)}function _C(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function $u(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}function Xu(n){return 0===n?0:n<0?-1:1}var Cte=0;function Kc(){return++Cte}var Zk={};function ul(n,t,e){if(void 0===e&&(e=3),!Zk[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),Zk[t]=!0}}var mC={},ts=Object.create(null),qs=Object.create(null);function Ote(){var n;for(n in ts)ts[n].destroy();for(n in qs)qs[n].destroy()}function Mte(){var n;for(n in ts)delete ts[n];for(n in qs)delete qs[n]}var Wf=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||ct.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function eF(n){var c,g,E,t=n.width,e=n.height,i=n.getContext("2d"),o=i.getImageData(0,0,t,e).data,s=o.length,a={top:null,left:null,right:null,bottom:null},l=null;for(c=0;c<s;c+=4)0!==o[c+3]&&(g=c/4%t,E=~~(c/4/t),null===a.top&&(a.top=E),(null===a.left||g<a.left)&&(a.left=g),(null===a.right||a.right<g)&&(a.right=g+1),(null===a.bottom||a.bottom<E)&&(a.bottom=E));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var Ry,tF=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function wte(n){var t=tF.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function nF(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,Ry||(Ry=document.createElement("a")),Ry.href=n;var e=zu.parse(Ry.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function r_(n,t){var e=ct.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var o_=2*Math.PI,iF=180/Math.PI,rF=Math.PI/180,ni=(()=>{return(n=ni||(ni={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",ni;var n})(),Vn=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=ni.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),oF=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=ni.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,o=this.y-e;return(r*=r)+(o*=o)<=this.radius*this.radius},n.prototype.getBounds=function(){return new Vn(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),sF=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=ni.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new Vn(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),s_=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var o=[],s=0,a=r.length;s<a;s++)o.push(r[s].x,r[s].y);r=o}this.points=r,this.type=ni.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,o=0,s=r-1;o<r;s=o++){var a=this.points[2*o],l=this.points[2*o+1],g=this.points[2*s+1];l>e!=g>e&&t<(e-l)/(g-l)*(this.points[2*s]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),aF=function(){function n(t,e,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=o,this.type=ni.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),o=e-(this.y+i),s=i*i;if(r*r+o*o<=s||(r=t-(this.x+this.width-i))*r+o*o<=s||r*r+(o=e-(this.y+this.height-i))*o<=s||(r=t-(this.x+i))*r+o*o<=s)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),Ni=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),Ku=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),pi=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Ni;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Ni;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(o_-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),qu=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ju=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Qu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zu=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],vC=[],lF=[],Dy=Math.sign;!function Pte(){for(var n=0;n<16;n++){var t=[];vC.push(t);for(var e=0;e<16;e++)for(var i=Dy(qu[n]*qu[e]+Qu[n]*Ju[e]),r=Dy(Ju[n]*qu[e]+Zu[n]*Ju[e]),o=Dy(qu[n]*Qu[e]+Qu[n]*Zu[e]),s=Dy(Ju[n]*Qu[e]+Zu[n]*Zu[e]),a=0;a<16;a++)if(qu[a]===i&&Ju[a]===r&&Qu[a]===o&&Zu[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new pi;l.set(qu[n],Ju[n],Qu[n],Zu[n],0,0),lF.push(l)}}();var Hi={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return qu[n]},uY:function(n){return Ju[n]},vX:function(n){return Qu[n]},vY:function(n){return Zu[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return vC[n][t]},sub:function(n,t){return vC[n][Hi.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?Hi.S:Hi.N:2*Math.abs(t)<=Math.abs(n)?n>0?Hi.E:Hi.W:t>0?n>0?Hi.SE:Hi.SW:n>0?Hi.NE:Hi.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=lF[Hi.inv(t)];r.tx=e,r.ty=i,n.append(r)}},yC=function(){function n(){this.worldTransform=new pi,this.localTransform=new pi,this.position=new Ku(this.onChange,this,0,0),this.scale=new Ku(this.onChange,this,1,1),this.pivot=new Ku(this.onChange,this,0,0),this.skew=new Ku(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();ct.SORTABLE_CHILDREN=!1;var zf=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Vn.EMPTY:((t=t||new Vn(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var c=t.a*e.x+t.c*e.y+t.tx,g=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY,s=t[0],a=t[1];e=s<e?s:e,i=a<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[2])<e?s:e,i=(a=t[3])<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[4])<e?s:e,i=(a=t[5])<i?a:i,r=s>r?s:r,o=a>o?a:o,i=(a=t[7])<i?a:i,r=(s=t[6])>r?s:r,o=a>o?a:o,this.minX=e=s<e?s:e,this.minY=i,this.maxX=r,this.maxY=o},n.prototype.addFrame=function(t,e,i,r,o){this.addFrameMatrix(t.worldTransform,e,i,r,o)},n.prototype.addFrameMatrix=function(t,e,i,r,o){var s=t.a,a=t.b,l=t.c,c=t.d,g=t.tx,E=t.ty,w=this.minX,P=this.minY,A=this.maxX,D=this.maxY,B=s*e+l*i+g,Y=a*e+c*i+E;w=B<w?B:w,P=Y<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,w=(B=s*r+l*i+g)<w?B:w,P=(Y=a*r+c*i+E)<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,w=(B=s*e+l*o+g)<w?B:w,P=(Y=a*e+c*o+E)<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,P=(Y=a*r+c*o+E)<P?Y:P,A=(B=s*r+l*o+g)>A?B:A,D=Y>D?Y:D,this.minX=w=B<w?B:w,this.minY=P,this.maxX=A,this.maxY=D},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,o=this.minY,s=this.maxX,a=this.maxY,l=e;l<i;l+=2){var c=t[l],g=t[l+1];r=c<r?c:r,o=g<o?g:o,s=c>s?c:s,a=g>a?g:a}this.minX=r,this.minY=o,this.maxX=s,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,o,s){void 0===o&&(o=0),void 0===s&&(s=o);for(var a=t.a,l=t.b,c=t.c,g=t.d,E=t.tx,w=t.ty,P=this.minX,A=this.minY,D=this.maxX,B=this.maxY,Y=i;Y<r;Y+=2){var K=e[Y],re=e[Y+1],ae=a*K+c*re+E,te=g*re+l*K+w;P=Math.min(P,ae-o),D=Math.max(D,ae+o),A=Math.min(A,te-s),B=Math.max(B,te+s)}this.minX=P,this.minY=A,this.maxX=D,this.maxY=B},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>o?t.maxY:o},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,g=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>g?s:g}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,g=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>g?s:g}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,o,s){e-=s,i+=o,r+=s,this.minX=this.minX<(t-=o)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),bC=function(n,t){return(bC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function EC(n,t){function e(){this.constructor=n}bC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var er=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new yC,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new zf,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return EC(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var o=i[r];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Vn),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Vn),e=this._localBoundsRect),this._localBounds||(this._localBounds=new zf);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=o,this._bounds.updateID+=this._boundsID-s,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,o){return i&&(e=i.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,o,s,a,l,c,g){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===g&&(g=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=o||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=g,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new SC),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*iF},set:function(e){this.transform.rotation=e*rF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(Hf()),SC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return EC(t,n),t}(er);er.prototype.displayObjectUpdateTransform=er.prototype.updateTransform;var Iy=(()=>{return(n=Iy||(Iy={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",Iy;var n})();function Ate(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var Xi=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=ct.SORTABLE_CHILDREN,e.sortDirty=!1,e}return EC(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.addChild(i[o]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),o=this.getChildIndex(i);this.children[r]=i,this.children[o]=e,this.onChildrenChange(r<o?r:o)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);$u(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.removeChild(i[o]);else{var s=i[0],a=this.children.indexOf(s);if(-1===a)return null;s.parent=null,s.transform._parentID=-1,$u(this.children,a,1),this._boundsID++,this.onChildrenChange(a),s.emit("removed",this),this.emit("childRemoved",s,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,$u(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,s=i-e;if(s>0&&s<=i){a=this.children.splice(e,s);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var o=this.children[i];o._lastSortedIndex=i,!e&&0!==o.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Ate),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Iy.NONE));s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),o=0;for(var a=this.children.length;o<a;o++)this.children[o].render(e);s&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<r.length;++o)r[o].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(er);Xi.prototype.containerUpdateTransform=Xi.prototype.updateTransform;var cF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};er.mixin(cF);var TC=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ts.tablet||Ts.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(Ts.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,c=a.height,g=a.resolution,E=e.width/l*g,w=e.height/c*g,P=this.div;P.style.left=e.left+"px",P.style.top=r+"px",P.style.width=l+"px",P.style.height=c+"px";for(var A=0;A<this.children.length;A++){var D=this.children[A];if(D.renderId!==this.renderId)D._accessibleActive=!1,$u(this.children,A,1),this.div.removeChild(D._accessibleDiv),this.pool.push(D._accessibleDiv),D._accessibleDiv=null,A--;else{P=D._accessibleDiv;var B=D.hitArea,Y=D.worldTransform;D.hitArea?(P.style.left=(Y.tx+B.x*Y.a)*E+"px",P.style.top=(Y.ty+B.y*Y.d)*w+"px",P.style.width=B.width*Y.a*E+"px",P.style.height=B.height*Y.d*w+"px"):(B=D.getBounds(),this.capHitArea(B),P.style.left=B.x*E+"px",P.style.top=B.y*w+"px",P.style.width=B.width*E+"px",P.style.height=B.height*w+"px",P.title!==D.accessibleTitle&&null!==D.accessibleTitle&&(P.title=D.accessibleTitle),P.getAttribute("aria-label")!==D.accessibleHint&&null!==D.accessibleHint&&P.setAttribute("aria-label",D.accessibleHint)),(D.accessibleTitle!==P.title||D.tabIndex!==P.tabIndex)&&(P.title=D.accessibleTitle,P.tabIndex=D.tabIndex,this.debug&&this.updateDebugHTML(P))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();ct.TARGET_FPMS=.06;var Ba=(()=>{return(n=Ba||(Ba={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",Ba;var n})(),CC=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),to=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new CC(null,null,1/0),this.deltaMS=1/ct.TARGET_FPMS,this.elapsedMS=1/ct.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Ba.NORMAL),this._addListener(new CC(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Ba.NORMAL),this._addListener(new CC(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ct.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,ct.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),dF=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Ba.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?to.shared:new to,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),OC=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ni,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),MC=function(n,t){return(MC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},fF=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),ky=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),Bte=function(){function n(){this._tempPoint=new Ni}return n.prototype.recursiveFindHit=function(t,e,i,r,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,l=o=e.interactive||o,c=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,c=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),c&&e.interactiveChildren&&e.children)for(var g=e.children,E=g.length-1;E>=0;E--){var w=g[E],P=this.recursiveFindHit(t,w,i,r,l);if(P){if(!w.parent)continue;l=!1,P&&(t.target&&(r=!1),a=!0)}}return o&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),pF={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};er.mixin(pF);var By={target:null,data:{global:null}},wC=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new OC,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new fF,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Bte,r._tempDisplayObject=new SC,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function Fte(n,t){function e(){this.constructor=n}MC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return By.target=null,By.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(By,i,null,!0),By.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(to.system.add(this.tickerUpdate,this,Ba.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(to.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var o;o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=this.interactionDOMElement.width/o.width*(i-o.left)*s,e.y=this.interactionDOMElement.height/o.height*(r-o.top)*s},t.prototype.processInteractive=function(e,i,r,o){var s=this.search.findHit(e,i,r,o),a=this.delayedEvents;if(!a.length)return s;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var c=0;c<l;c++){var g=a[c],E=g.displayObject,w=g.eventString,P=g.eventData;P.stopsPropagatingAt===E&&(P.stopPropagationHint=!0),this.dispatchEvent(E,w,P)}return s},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var o=i.length,s=0;s<o;s++){var a=i[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),"touch"===a.pointerType?this.emit("touchstart",c):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var o=e.data,s=e.data.identifier;if(r)if(i.trackedPointers[s]||(i.trackedPointers[s]=new ky(s)),this.dispatchEvent(i,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var o=this.normalizeToPointerData(e),s=o.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var c=o[l],g=this.getInteractionDataForPointerId(c),E=this.configureInteractionEventForDOMEvent(this.eventData,c,g);E.data.originalEvent=e,this.processInteractive(E,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,E),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit(2===c.button?"rightup"+a:"mouseup"+a,E):"touch"===c.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,E),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,o=e.data.identifier;void 0!==i.trackedPointers[o]&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var o=e.data,s=e.data.identifier,a=i.trackedPointers[s],l="touch"===o.pointerType,c="mouse"===o.pointerType||"pen"===o.pointerType,g=!1;if(c){var E=2===o.button,w=ky.FLAGS,A=void 0!==a&&a.flags&(E?w.RIGHT_DOWN:w.LEFT_DOWN);r?(this.dispatchEvent(i,E?"rightup":"mouseup",e),A&&(this.dispatchEvent(i,E?"rightclick":"click",e),g=!0)):A&&this.dispatchEvent(i,E?"rightupoutside":"mouseupoutside",e),a&&(E?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!c||g)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,o=0;o<r;o++){var s=i[o],a=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===s.pointerType&&this.emit("touchmove",l),("mouse"===s.pointerType||"pen"===s.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var o=e.data,s="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),s&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var o=e.data,s=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,l=i.trackedPointers[s];r&&!l&&(l=i.trackedPointers[s]=new ky(s)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new OC).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,o=e.changedTouches.length;r<o;r++){var s=e.changedTouches[r];void 0===s.button&&(s.button=e.touches.length?1:0),void 0===s.buttons&&(s.buttons=e.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Hf()),co=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,g=c.name,E=c.items;this._aliasCount++;for(var w=0,P=E.length;w<P;w++)E[w][g](t,e,i,r,o,s,a,l);return E===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(co.prototype,{dispatch:{value:co.prototype.emit},run:{value:co.prototype.emit}}),ct.PREFER_ENV=Ts.any?Zr.WEBGL:Zr.WEBGL2,ct.STRICT_TEXTURE_CACHE=!1;var a_=[];function Ly(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=a_.length-1;r>=0;--r){var o=a_[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var PC=function(n,t){return(PC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function ki(n,t){function e(){this.constructor=n}PC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var AC=function(){return AC=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},AC.apply(this,arguments)},eh=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new co("setRealSize"),this.onUpdate=new co("update"),this.onError=new co("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),$f=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(eh),Ute={scaleMode:Rr.NEAREST,format:Ye.RGBA,alphaMode:eo.NPM},Qn=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,g=i.height,E=i.wrapMode,w=i.format,P=i.type,A=i.target,D=i.resolution;return e&&!(e instanceof eh)&&((e=Ly(e,i.resourceOptions)).internal=!0),r.resolution=D||ct.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((g||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:ct.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:ct.ANISOTROPIC_LEVEL,r._wrapMode=E||ct.WRAP_MODE,r._scaleMode=void 0!==l?l:ct.SCALE_MODE,r.format=w||Ye.RGBA,r.type=P||yt.UNSIGNED_BYTE,r.target=A||es.TEXTURE_2D,r.alphaMode=void 0!==o?o:eo.UNPACK,r.uid=Kc(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&g>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return ki(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=gC(this.realWidth)&&gC(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete qs[this.cacheId],delete ts[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=ct.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Kc()),s=e._pixiId);var l=qs[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new $f(e,{width:i,height:r}),a=e instanceof Float32Array?yt.FLOAT:yt.UNSIGNED_BYTE;return new t(s,Object.assign(Ute,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),qs[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),qs[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=qs[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete qs[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete qs[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Hf()),Uy=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Qn;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return ki(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof eh?e[r]:Ly(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}).map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(eh),xC=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return ki(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=es.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var g=0;g<s;g++){var E=l[g];a[g]<E.dirtyId&&(a[g]=E.dirtyId,E.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,g,E.resource.width,E.resource.height,1,i.format,r.type,E.resource.source))}return!0},t}(Uy),hl=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return ki(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=nF(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(eh),l_=function(n){function t(e){return n.call(this,e)||this}return ki(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(hl),RC=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var g=0;g<t.SIDES;g++)r.items[g].target=es.TEXTURE_CUBE_MAP_POSITIVE_X+g;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return ki(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=es.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=es.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(Uy),Gy=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;hl.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:ct.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===eo.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(hl),DC=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;hl.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+Kc(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(hl),IC=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),hl.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],g=c.src,E=c.mime,w=(g=g||e[a]).split("?").shift().toLowerCase(),P=w.substr(w.lastIndexOf(".")+1);E=E||t.MIME_TYPES[P]||"video/"+P,l.src=g,l.type=E,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-to.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(to.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(to.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(to.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(to.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(to.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(hl),NC=function(n){function t(e){return n.call(this,e)||this}return ki(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(hl);a_.push(Gy,NC,l_,IC,DC,$f,RC,xC);var gF={__proto__:null,Resource:eh,BaseImageResource:hl,INSTALLED:a_,autoDetectResource:Ly,AbstractMultiResource:Uy,ArrayResource:xC,BufferResource:$f,CanvasResource:l_,CubeResource:RC,ImageResource:Gy,SVGResource:DC,VideoResource:IC,ImageBitmapResource:NC},Gte=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}($f),jy=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new co("disposeFramebuffer"),this.multisample=On.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Qn(null,{scaleMode:Rr.NEAREST,resolution:1,mipmap:Vo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qn(new Gte(null,{width:this.width,height:this.height}),{scaleMode:Rr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vo.OFF,format:Ye.DEPTH_COMPONENT,type:yt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),c_=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:On.NONE,(i=n.call(this,null,e)||this).mipmap=Vo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new jy(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return ki(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Qn),kC=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=Hi.add(i,Hi.NW),this.x0=l+s*Hi.uX(i),this.y0=c+a*Hi.uY(i),i=Hi.add(i,2),this.x1=l+s*Hi.uX(i),this.y1=c+a*Hi.uY(i),i=Hi.add(i,2),this.x2=l+s*Hi.uX(i),this.y2=c+a*Hi.uY(i),i=Hi.add(i,2),this.x3=l+s*Hi.uX(i),this.y3=c+a*Hi.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),_F=new kC,Gt=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Vn(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=_F,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Ni(a.x,a.y):new Ni(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return ki(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&ts[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===_F&&(this._uvs=new kC),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=ct.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Qn?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+Kc(),Qn.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Kc()),s=e._pixiId);var l=ts[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Qn?!l&&e instanceof Qn&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=r_(e)),(l=new t(new Qn(e,i))).baseTexture.cacheId=s,Qn.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Qn.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Qn(e,Object.assign({scaleMode:ct.SCALE_MODE,resolution:r_(i)},o)),a=s.resource;a instanceof Gy&&(a.url=i);var l=new t(s);return r||(r=i),Qn.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Qn.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),ts[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),ts[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=ts[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete ts[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)ts[e.textureCacheIds[o]]===e&&delete ts[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Hf());function Vy(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Gt.EMPTY=new Gt(new Qn),Vy(Gt.EMPTY),Vy(Gt.EMPTY.baseTexture),Gt.WHITE=function jte(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Gt(new Qn(new l_(n)))}(),Vy(Gt.WHITE),Vy(Gt.WHITE.baseTexture);var Js=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return ki(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(ul("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new c_(e))},t}(Gt),mF=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=On.NONE);var r=new c_(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new Js(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=On.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=i_(t)))<<16|65535&(e=i_(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||On.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),FC=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=yt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),Vte=0,Nr=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Vte++,this.disposeRunner=new co("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Ir.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Ir.ELEMENT_ARRAY_BUFFER:Ir.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),Hte={Float32Array,Uint32Array,Int32Array,Uint8Array},vF={5126:4,5123:2,5121:1},Wte=0,zte={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Xf=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Wte++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new co("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Nr||(e instanceof Array&&(e=new Float32Array(e)),e=new Nr(e));var c=t.split("|");if(c.length>1){for(var g=0;g<c.length;g++)this.addAttribute(c[g],e,i,r,o);return this}var E=this.buffers.indexOf(e);return-1===E&&(this.buffers.push(e),E=this.buffers.length-1),this.attributes[t]=new FC(E,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Nr||(t instanceof Array&&(t=new Uint16Array(t)),t=new Nr(t)),t.type=Ir.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Nr;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*vF[o.type]/4),o.buffer=0}for(i.data=function Yte(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],g=n[o],E=xy(g);r[E]||(r[E]=new Hte[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/c|0)*i+l+w%c]=g[w];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Nr(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new FC(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(zte[xy(s.buffers[a].data)])(r[a]),e.buffers[a]=new Nr(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER;var c=0,g=0,E=0,w=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){w=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===w&&(g+=P.size*vF[P.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+E]+=c;c+=t[a].buffers[w].data.length/g,E+=A.length}}return e},n}(),yF=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return ki(t,n),t}(Xf),BC=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Nr(e.vertices),e.uvBuffer=new Nr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return ki(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Xf),$te=0,qc=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=$te++,this.static=!!e,this.ubo=!!i,t instanceof Nr?(this.buffer=t,this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Nr(new Float32Array(1)),this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),bF=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=On.NONE,this.sourceFrame=new Vn,this.destinationFrame=new Vn,this.bindingSourceFrame=new Vn,this.bindingDestinationFrame=new Vn,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),Hy=[new Ni,new Ni,new Ni,new Ni],LC=new pi,UC=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new mF,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new yF,this.quadUv=new BC,this.tempRect=new Vn,this.activeState={},this.globalUniforms=new qc({outputFrame:new Vn,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new bF,l=this.renderer.renderTexture,c=e[0].resolution,g=e[0].multisample,E=e[0].padding,w=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,A=1;A<e.length;A++){var D=e[A];c=Math.min(c,D.resolution),g=Math.min(g,D.multisample),E=this.useMaxPadding?Math.max(E,D.padding):E+D.padding,w=w&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=g,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(E),w){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(LC.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,g),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Mo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var g=e.renderTexture,E=this.getOptimalFilterTexture(g.width,g.height,e.resolution);E.filterFrame=g.filterFrame;var w=0;for(w=0;w<i.length-1;++w){1===w&&e.multisample>1&&((E=this.getOptimalFilterTexture(g.width,g.height,e.resolution)).filterFrame=g.filterFrame),i[w].apply(this,g,E,Mo.CLEAR,e);var P=g;g=E,E=P}i[w].apply(this,g,c.renderTexture,Mo.BLEND,e),w>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(E)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Mo.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Mo.CLEAR||e===Mo.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(lo.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(lo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(pi.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=On.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||On.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=Hy[0],r=Hy[1],o=Hy[2],s=Hy[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),g=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=g-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?LC.copyFrom(o):LC.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),u_=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),GC=function(){function n(t){this.renderer=t,this.emptyRenderer=new u_(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var g=o[c],E=g._batchLocation;if(E>=0&&E<r&&e[E]===g)s[c]=E;else for(;l<r;){var w=e[l];if(!w||w._batchEnabled!==i||w._batchLocation!==l){s[c]=l,g._batchLocation=l,e[l]=g;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),EF=0,jC=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=EF++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=EF++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(ct.PREFER_ENV>=Zr.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),SF=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=On.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Xte=new Vn,VC=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new jy(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Vn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;ct.PREFER_ENV===Zr.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var g=(l=e.width>>i)/e.width;this.setViewport(e.x*g,e.y*g,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=$c.COLOR|$c.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new SF(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],g=c.parentTextureArray||c;this.renderer.texture.bind(g,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,g._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var w=t.depthTexture;this.renderer.texture.bind(w,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=On.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=On.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var g=o.colorTextures[0];if(!g)return;c.blitFramebuffer||(c.blitFramebuffer=new jy(o.width,o.height),c.blitFramebuffer.addColorTexture(0,g)),(t=c.blitFramebuffer).colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=Xte).width=o.width,e.height=o.height),i||(i=e);var E=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,E?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Vn},n.prototype.destroy=function(){this.renderer=null},n}(),HC={5126:4,5123:2,5121:1},YC=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;ct.PREFER_ENV===Zr.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],g=c[l];if(g)return c[a.id]=g,g;var E=t.buffers,w=t.attributes,P={},A={};for(var D in E)P[D]=0,A[D]=0;for(var D in w)!w[D].size&&a.attributeData[D]?w[D].size=a.attributeData[D].size:w[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[w[D].buffer]+=w[D].size*HC[w[D].type];for(var D in w){var B=w[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*HC[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=A[B.buffer],A[B.buffer]+=Y*HC[B.type])}g=r.createVertexArray(),r.bindVertexArray(g);for(var K=0;K<E.length;K++){var re=E[K];s.bind(re),i&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=g,c[a.id]=g,c[l]=g,g},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var g in r)if("g"===g[0]){var E=r[g];this._activeVao===E&&this.unbind(),o.deleteVertexArray(E)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var g=a[c],E=s[g.buffer],w=E._glBuffers[r];if(e.attributeData[c]){l!==w&&(o.bind(E),l=w);var P=e.attributeData[c].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,g.size,g.type||i.FLOAT,g.normalized,g.stride,g.start),g.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),TF=function(){function n(t){void 0===t&&(t=null),this.type=li.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ct.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=li.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function CF(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function OF(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,g){return g+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function WC(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function MF(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return WC(2*t);case"bvec3":return WC(3*t);case"bvec4":return WC(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Yy,wF={},h_=wF;function PF(){if(h_===wF||h_&&h_.isContextLost()){var n=document.createElement("canvas"),t=void 0;ct.PREFER_ENV>=Zr.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),h_=t}return h_}function AF(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Dr.HIGH&&e!==Dr.HIGH&&(i=Dr.MEDIUM),"precision "+i+" float;\n"+n}return e!==Dr.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Jte={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xF(n){return Jte[n]}var Wy=null,RF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function DF(n,t){if(!Wy){var e=Object.keys(RF);Wy={};for(var i=0;i<e.length;++i){var r=e[i];Wy[n[r]]=RF[r]}}return Wy[t]}var d_,th=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Qte={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Zte={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},tne=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function nne(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function IF(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=tne.replace(/%forloop%/gi,nne(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var sne=0,zy={},Kf=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=sne++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),zy[i]?(zy[i]++,i+="-"+zy[i]):zy[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=AF(this.vertexSrc,ct.PRECISION_VERTEX,Dr.HIGH),this.fragmentSrc=AF(this.fragmentSrc,ct.PRECISION_FRAGMENT,function qte(){if(!Yy){Yy=Dr.MEDIUM;var n=PF();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);Yy=t.precision?Dr.HIGH:Dr.MEDIUM}}return Yy}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=mC[r];return o||(mC[r]=o=new n(t,e,i)),o},n}(),ql=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof qc?e:new qc(e):new qc({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(Kf.from(t,e),i)},n}(),Jc=function(){function n(){this.data=0,this.blendMode=Ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ue.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Jl=function(n){function t(e,i,r){var o=this,s=Kf.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=ct.FILTER_RESOLUTION,o.multisample=ct.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Jc,o}return ki(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(ql),NF=new pi,$y=function(){function n(t,e){this._texture=t,this.mapCoord=new pi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(NF.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(NF));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),kF=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new pi,o}return ki(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new $y(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(Jl),QC=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new TF;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==li.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case li.SCISSOR:this.renderer.scissor.push(i);break;case li.STENCIL:this.renderer.stencil.push(i);break;case li.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===li.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case li.SCISSOR:this.renderer.scissor.pop();break;case li.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case li.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===li.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?li.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?li.SCISSOR:li.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new kF]);var c,g,a=this.renderer,l=a.renderTexture;if(l.current){var E=l.current;c=t.resolution||E.resolution,g=null!==(e=t.multisample)&&void 0!==e?e:E.multisample}else c=t.resolution||a.resolution,g=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=g,s[0].maskSprite=r;var w=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=w,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),FF=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),BF=new pi,ZC=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?BF.copyFrom(s):BF.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(FF),eO=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(FF),tO=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new pi,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),nh=new Vn,f_=new Vn,nO=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Vn,this.destinationFrame=new Vn,this.viewportFrame=new Vn}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(nh.width=t.frame.width,nh.height=t.frame.height,e=nh),i||(f_.x=t.frame.x,f_.y=t.frame.y,f_.width=e.width,f_.height=e.height,i=f_),s=o.framebuffer):(a=r.resolution,e||(nh.width=r.screen.width,nh.height=r.screen.height,e=nh),i||((i=nh).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,g=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,g)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function hne(n,t,e,i,r){e.buffer.update(r)}var dne={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},LF={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function UF(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=LF[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function GF(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}function jF(n,t){if(!n.autoManage)return{size:0,syncFunc:hne};for(var i=UF(GF(n.uniforms,t)),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],g=l.data.name,E=!1,w=0;w<th.length;w++){var P=th[w];if(P.codeUbo&&P.test(l.data,c)){s.push("offset = "+l.offset/4+";",th[w].codeUbo(l.data.name,c)),E=!0;break}}if(!E)if(l.data.size>1){var A=xF(l.data.type),D=Math.max(LF[l.data.type]/16,1),B=A/D;s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n                "+dne[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var fne=function n(){},VF=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function HF(n,t){var e=CF(n,n.VERTEX_SHADER,t.vertexSrc),i=CF(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function Kte(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||OF(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||OF(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function pne(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=DF(t,o.type),a={type:s,name:o.name,size:xF(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function gne(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=DF(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:MF(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(g,E){return g>E?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:MF(l.type,l.size)}}return new VF(r,a)}var _ne=0,Xy={textureCount:0,uboCount:0},iO=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=_ne++}return n.prototype.systemCheck=function(){if(!function ine(){if("boolean"==typeof d_)return d_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");d_=!0===n({a:"b"},"a","b")}catch(t){d_=!1}return d_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Xy.textureCount=0,Xy.uboCount=0,this.syncUniformGroup(t.uniformGroup,Xy)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function ene(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<th.length;l++)if(th[l].test(o,s)){i.push(th[l].code(r,s)),a=!0;break}if(!a){var g=(1===o.size?Qte:Zte)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+g+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,Xy,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=jF(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=HF(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),rO=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ue.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Jc,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function mne(n,t){return void 0===t&&(t=[]),t[Ue.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD]=[n.ONE,n.ONE],t[Ue.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.NONE]=[0,0],t[Ue.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ue.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ue.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ue.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ue.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ue.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ue.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),oO=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ct.GC_MAX_IDLE,this.checkCountMax=ct.GC_MAX_CHECK_COUNT,this.mode=ct.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Yf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),Ky=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yt.UNSIGNED_BYTE,this.internalFormat=Ye.RGBA,this.samplerType=0},sO=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qn,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Cne(n){var t,e,i,r,o,s,a,l,c,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[yt.UNSIGNED_BYTE]=((e={})[Ye.RGBA]=n.RGBA8,e[Ye.RGB]=n.RGB8,e[Ye.RG]=n.RG8,e[Ye.RED]=n.R8,e[Ye.RGBA_INTEGER]=n.RGBA8UI,e[Ye.RGB_INTEGER]=n.RGB8UI,e[Ye.RG_INTEGER]=n.RG8UI,e[Ye.RED_INTEGER]=n.R8UI,e[Ye.ALPHA]=n.ALPHA,e[Ye.LUMINANCE]=n.LUMINANCE,e[Ye.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[yt.BYTE]=((i={})[Ye.RGBA]=n.RGBA8_SNORM,i[Ye.RGB]=n.RGB8_SNORM,i[Ye.RG]=n.RG8_SNORM,i[Ye.RED]=n.R8_SNORM,i[Ye.RGBA_INTEGER]=n.RGBA8I,i[Ye.RGB_INTEGER]=n.RGB8I,i[Ye.RG_INTEGER]=n.RG8I,i[Ye.RED_INTEGER]=n.R8I,i),t[yt.UNSIGNED_SHORT]=((r={})[Ye.RGBA_INTEGER]=n.RGBA16UI,r[Ye.RGB_INTEGER]=n.RGB16UI,r[Ye.RG_INTEGER]=n.RG16UI,r[Ye.RED_INTEGER]=n.R16UI,r[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[yt.SHORT]=((o={})[Ye.RGBA_INTEGER]=n.RGBA16I,o[Ye.RGB_INTEGER]=n.RGB16I,o[Ye.RG_INTEGER]=n.RG16I,o[Ye.RED_INTEGER]=n.R16I,o),t[yt.UNSIGNED_INT]=((s={})[Ye.RGBA_INTEGER]=n.RGBA32UI,s[Ye.RGB_INTEGER]=n.RGB32UI,s[Ye.RG_INTEGER]=n.RG32UI,s[Ye.RED_INTEGER]=n.R32UI,s[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[yt.INT]=((a={})[Ye.RGBA_INTEGER]=n.RGBA32I,a[Ye.RGB_INTEGER]=n.RGB32I,a[Ye.RG_INTEGER]=n.RG32I,a[Ye.RED_INTEGER]=n.R32I,a),t[yt.FLOAT]=((l={})[Ye.RGBA]=n.RGBA32F,l[Ye.RGB]=n.RGB32F,l[Ye.RG]=n.RG32F,l[Ye.RED]=n.R32F,l[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[yt.HALF_FLOAT]=((c={})[Ye.RGBA]=n.RGBA16F,c[Ye.RGB]=n.RGB16F,c[Ye.RG]=n.RG16F,c[Ye.RED]=n.R16F,c),t[yt.UNSIGNED_SHORT_5_6_5]=((g={})[Ye.RGB]=n.RGB565,g),t[yt.UNSIGNED_SHORT_4_4_4_4]=((E={})[Ye.RGBA]=n.RGBA4,E),t[yt.UNSIGNED_SHORT_5_5_5_1]=((w={})[Ye.RGBA]=n.RGB5_A1,w),t[yt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[Ye.RGBA]=n.RGB10_A2,P[Ye.RGBA_INTEGER]=n.RGB10_A2UI,P),t[yt.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[Ye.RGB]=n.R11F_G11F_B10F,A),t[yt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[Ye.RGB]=n.RGB9_E5,D),t[yt.UNSIGNED_INT_24_8]=((B={})[Ye.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[yt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[Ye.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Oe=t):((K={})[yt.UNSIGNED_BYTE]=((re={})[Ye.RGBA]=n.RGBA,re[Ye.RGB]=n.RGB,re[Ye.ALPHA]=n.ALPHA,re[Ye.LUMINANCE]=n.LUMINANCE,re[Ye.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),K[yt.UNSIGNED_SHORT_5_6_5]=((ae={})[Ye.RGB]=n.RGB,ae),K[yt.UNSIGNED_SHORT_4_4_4_4]=((te={})[Ye.RGBA]=n.RGBA,te),K[yt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[Ye.RGBA]=n.RGBA,ne),Oe=K),Oe}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Ky(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ky(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==Xc.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new Ky(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===yt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==Xc.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&$u(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==Vo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Ks.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==Vo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Rr.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),YF={__proto__:null,FilterSystem:UC,BatchSystem:GC,ContextSystem:jC,FramebufferSystem:VC,GeometrySystem:YC,MaskSystem:QC,ScissorSystem:ZC,StencilSystem:eO,ProjectionSystem:tO,RenderTextureSystem:nO,ShaderSystem:iO,StateSystem:rO,TextureGCSystem:oO,TextureSystem:sO},aO=new pi,lO=function(n){function t(e,i){void 0===e&&(e=Fa.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},ct.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Vn(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||ct.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(ul("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return ki(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(ul("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function Lte(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=Js.create(AC({width:o.width,height:o.height},a));return aO.tx=-o.x,aO.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:aO,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Fa.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Py(e),Kl(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Hf()),One=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Mne=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new One(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),La=function(n){function t(e){var i=n.call(this,Fa.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new co("destroy"),contextChange:new co("contextChange"),reset:new co("reset"),update:new co("update"),postrender:new co("postrender"),prerender:new co("prerender"),resize:new co("resize")},i.runners.contextChange.add(i),i.globalUniforms=new qc({projectionMatrix:new pi},!0),i.addSystem(QC,"mask").addSystem(jC,"context").addSystem(rO,"state").addSystem(iO,"shader").addSystem(sO,"texture").addSystem(Mne,"buffer").addSystem(YC,"geometry").addSystem(VC,"framebuffer").addSystem(ZC,"scissor").addSystem(eO,"stencil").addSystem(tO,"projection").addSystem(oO,"textureGC").addSystem(UC,"filter").addSystem(nO,"renderTexture").addSystem(GC,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,cC(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return ki(t,n),t.create=function(e){if(qk())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=On.HIGH?On.HIGH:i>=On.MEDIUM?On.MEDIUM:i>=On.LOW?On.LOW:On.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof Js?(ul("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return ul("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(lO);function WF(n){return La.create(n)}var zF="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",cO="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ane=function(){function n(t){ul("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),qy=function n(){this.texArray=null,this.blend=0,this.type=lo.TRIANGLES,this.start=0,this.size=0,this.data=null},Jy=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),Qy=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),$F=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Jc.for2d(),i.size=4*ct.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return ki(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;ct.PREFER_ENV===Zr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ct.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=IF(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new qy);for(;i.length<o;)i.push(new Jy);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Qn._globalBatch,g=0,E=o[0],w=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var A=i[P];i[P]=null,A._batchEnabled!==c&&(E.count>=r&&(s.boundArray(E,a,c,r),this.buildDrawCalls(E,w,P),w=P,E=o[++g],++c),A._batchEnabled=c,A.touched=l,E.elements[E.count++]=A)}for(E.count>0&&(s.boundArray(E,a,c,r),this.buildDrawCalls(E,w,this._bufferSize),++g,++c),P=0;P<a.length;P++)a[P]=null;Qn._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,g=t._drawCallPool,E=this._dcIndex,w=this._aIndex,P=this._iIndex,A=g[E];A.start=this._iIndex,A.texArray=e;for(var D=i;D<r;++D){var B=s[D],K=dC[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&A.blend!==K&&(A.size=P-A.start,i=D,(A=g[++E]).texArray=e,A.start=P),this.packInterleavedGeometry(B,a,l,w,P),w+=B.vertexData.length/2*c,P+=B.indices.length,A.blend=K}i<r&&(A.size=P-A.start,++E),this._dcIndex=E,this._aIndex=w,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;ct.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],g=c.texArray,E=c.type,w=c.size,P=c.start,A=c.blend;a!==g&&(a=g,this.bindAndClearTexArray(g)),this.state.blendMode=A,o.set(this.state),r.drawElements(E,w,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),ct.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=i_(Math.ceil(e/8)),r=_C(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new Qy(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=i_(Math.ceil(e/12)),r=_C(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,g=e.uvs,E=e.indices,w=e.vertexData,P=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?Ay(e._tintRGB,A):e._tintRGB+(255*A<<24),B=0;B<w.length;B+=2)l[o++]=w[B],l[o++]=w[B+1],l[o++]=g[B],l[o++]=g[B+1],a[o++]=D,l[o++]=P;for(B=0;B<E.length;B++)r[s++]=c+E[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(u_),XF=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=qc.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Kf(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:this.defaultGroupCache[t]};return new ql(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),uO=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Nr(null,e,!1),i._indexBuffer=new Nr(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,yt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,yt.FLOAT).addAttribute("aColor",i._buffer,4,!0,yt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,yt.FLOAT).addIndex(i._indexBuffer),i}return ki(t,n),t}(Xf),KF="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",qF="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",JF=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:KF,fragment:qF,geometryClass:uO,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var g=a.call(this,c)||this;return g.shaderGenerator=new XF(i,r),g.geometryClass=s,g.vertexSize=o,g}return ki(l,a),l}($F)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return KF},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return qF},enumerable:!1,configurable:!0}),n}(),QF=JF.create(),ZF={},xne=function(n){Object.defineProperty(ZF,n,{get:function(){return ul("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),gF[n]}})};for(var hO in gF)xne(hO);var eB={},Rne=function(n){Object.defineProperty(eB,n,{get:function(){return ul("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),YF[n]}})};for(var hO in YF)Rne(hO);var p_=function(){function n(t){var e=this;this.stage=new Xi,t=Object.assign({forceCanvas:!1},t),this.renderer=WF(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(o){o.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),Dne=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var o=e._resizeTo;i=o.clientWidth,r=o.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();p_.registerPlugin(Dne);var tB=new Vn,iB=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,e=this.renderer,o=!1,a=!1;t&&(t instanceof Js?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(i=s.baseTexture.resolution,r=s.frame,o=!1,e.renderTexture.bind(s)):(i=this.renderer.resolution,o=!0,(r=tB).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),c=Math.floor(r.height*i+1e-4),g=new Wf(l,c,1),E=new Uint8Array(4*l*c),w=e.gl;w.readPixels(r.x*i,r.y*i,l,c,w.RGBA,w.UNSIGNED_BYTE,E);var P=g.context.getImageData(0,0,l,c);if(n.arrayPostDivide(E,P.data),g.context.putImageData(P,0,0),o){var A=new Wf(g.width,g.height,1);A.context.scale(1,-1),A.context.drawImage(g.canvas,0,-c),g.destroy(),g=A}return a&&s.destroy(!0),g.canvas},n.prototype.pixels=function(t){var i,r,o,e=this.renderer,s=!1;t&&(t instanceof Js?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(i=o.baseTexture.resolution,r=o.frame,e.renderTexture.bind(o)):(i=e.resolution,(r=tB).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,c=new Uint8Array(4*a*l),g=e.gl;return g.readPixels(r.x*i,r.y*i,a,l,g.RGBA,g.UNSIGNED_BYTE,c),s&&o.destroy(!0),n.arrayPostDivide(c,c),c},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),Zy=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function rB(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var Ql=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof Zy))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return rB(this,new Zy(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return rB(this,new Zy(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof Zy))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function oB(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(s,a,l){a&&(r[e.q.name][a]=l)}),r}var Ine=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),e0=null;function aB(){}function lB(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function dO(n){return n.toString().replace("object ","")}var n,o,tr=function(){function n(t,e,i){if(this._dequeue=aB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=aB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ql,this.onProgress=new Ql,this.onComplete=new Ql,this.onAfterMiddleware=new Ql}return n.setExtensionLoadType=function(t,e){lB(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){lB(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:Ine&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(dO(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(dO(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(dO(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,e0||(e0=document.createElement("a")),e0.href=t;var i=oB(e0.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(r>-1?r:t.length,o>-1?o:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function ih(){}function Lne(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,i)}}(o=(n=tr||(tr={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[o.NONE=0]="NONE",o[o.DATA_URL=1]="DATA_URL",o[o.COMPLETE=2]="COMPLETE",o[o.LOADING=4]="LOADING",function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.JSON=1]="JSON",o[o.XML=2]="XML",o[o.IMAGE=3]="IMAGE",o[o.AUDIO=4]="AUDIO",o[o.VIDEO=5]="VIDEO",o[o.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(o){o[o.XHR=1]="XHR",o[o.IMAGE=2]="IMAGE",o[o.AUDIO=3]="AUDIO",o[o.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(o){o.DEFAULT="text",o.BUFFER="arraybuffer",o.BLOB="blob",o.DOCUMENT="document",o.JSON="json",o.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Une=function n(t,e){this.data=t,this.callback=e},fO=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=ih,this.unsaturated=ih,this.empty=ih,this.drain=ih,this.error=ih,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,o,s){if(s&&"function"!=typeof s)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new Une(r,"function"==typeof s?s:ih);o?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,Lne(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],o=0;o<arguments.length;o++)r[o]=i[o];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=ih,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var o=0,s=t.length;!function a(l){l||o===s?i&&i(l):r?setTimeout(function(){e(t[o++],a)},1):e(t[o++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),Gne=/(#[\w-]+)?$/,wo=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=fO.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Ql,this.onError=new Ql,this.onLoad=new Ql,this.onStart=new Ql,this.onComplete=new Ql;for(var r=0;r<n._plugins.length;++r){var o=n._plugins[r],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new tr(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var c=o.progressChunk*(s.length+1)/(s.length+2);for(o.children.push(this.resources[t]),o.progressChunk=c,a=0;a<s.length;++a)s[a].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=oB(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Gne.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,fO.eachSeries(this._beforeMiddleware,function(r,o){r.call(i,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),fO.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();wo.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var cB=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?wo.shared:new wo},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),uB=function(){function n(){}return n.add=function(){tr.setExtensionLoadType("svg",tr.LOAD_TYPE.XHR),tr.setExtensionXhrType("svg",tr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==tr.TYPE.IMAGE&&"svg"!==t.extension?e():Gt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),hB=self.URL||self.webkitURL;wo.registerPlugin({use:function Hne(n,t){if(n.data){if(n.xhr&&n.xhrType===tr.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=hB.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=tr.TYPE.IMAGE,void(n.data.onload=function(){hB.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function Vne(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],o=0;o<i.length;++o)i[o]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return t}(n.xhr.responseText),n.type=tr.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),wo.registerPlugin(uB);var yi,_n=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(_n||(_n={})),_n))(),g_=((yi={})[_n.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,yi[_n.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,yi[_n.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,yi[_n.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,yi[_n.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,yi[_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,yi[_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,yi[_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,yi[_n.COMPRESSED_R11_EAC]=.5,yi[_n.COMPRESSED_SIGNED_R11_EAC]=.5,yi[_n.COMPRESSED_RG11_EAC]=1,yi[_n.COMPRESSED_SIGNED_RG11_EAC]=1,yi[_n.COMPRESSED_RGB8_ETC2]=.5,yi[_n.COMPRESSED_RGBA8_ETC2_EAC]=1,yi[_n.COMPRESSED_SRGB8_ETC2]=.5,yi[_n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,yi[_n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yi[_n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,yi[_n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,yi[_n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,yi[_n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,yi[_n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,yi[_n.COMPRESSED_RGB_ETC1_WEBGL]=.5,yi[_n.COMPRESSED_RGB_ATC_WEBGL]=.5,yi[_n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,yi[_n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,yi),gO=function(n,t){return(gO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function dB(n,t){function e(){this.constructor=n}gO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var __,Ua,fB=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var o,s,r=this;return"string"==typeof e?(o=e,s=new Uint8Array):(o=null,s=e),(r=n.call(this,s,i)||this).origin=o,r.buffer=s?new Qy(s):null,r.origin&&!1!==i.autoLoad&&r.load(),s&&s.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return dB(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function Yne(n,t,e,i){return new(e||(e=Promise))(function(r,o){function s(c){try{l(i.next(c))}catch(g){o(g)}}function a(c){try{l(i.throw(c))}catch(g){o(g)}}function l(c){c.done?r(c.value):new e(function(g){g(c.value)}).then(s,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function Wne(n,t){var i,r,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(g){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(g){c=[6,g],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,g])}}}(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return[4,o.sent().blob()];case 2:return[4,o.sent().arrayBuffer()];case 3:return r=o.sent(),this.data=new Uint32Array(r),this.buffer=new Qy(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}($f),t0=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return dB(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var c=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,c.levelID,this.format,c.levelWidth,c.levelHeight,0,c.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,o,s,a,l){for(var c=new Array(r),g=e.byteOffset,E=a,w=l,P=E+o-1&~(o-1),A=w+s-1&~(s-1),D=P*A*g_[i],B=0;B<r;B++)c[B]={levelID:B,levelWidth:r>1?E:P,levelHeight:r>1?w:A,levelBuffer:new Uint8Array(e.buffer,g,D)},g+=D,D=(P=(E=E>>1||1)+o-1&~(o-1))*(A=(w=w>>1||1)+s-1&~(s-1))*g_[i];return c},t}(fB),pB=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===tr.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,s=void 0,a=void 0,l=0,c=o.length;l<c;l++){var g=o[l],E=g.src,w=g.format;if(w||(a=E),n.textureFormats[w]){s=E;break}}if(!(s=s||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var P={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},A=zu.resolve(t.url.replace(this.baseUrl,""),s);this.add(i.cacheID,A,P,function(B){if(B.error)e(B.error);else{var Y=B.texture,re=B.textures;Object.assign(t,{texture:void 0===Y?null:Y,textures:void 0===re?{}:re}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var o=i[r];!o||Object.assign(n.textureFormats,Object.getPrototypeOf(o))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function gB(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(o){return new Gt(new Qn(o,Object.assign({mipmap:Vo.OFF,alphaMode:eo.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(o,s){var a=o.baseTexture,l=n+"-"+(s+1);Qn.addToCache(a,l),Gt.addToCache(o,l),0===s&&(Qn.addToCache(a,n),Gt.addToCache(o,n),i.texture=o),i.textures[l]=o}),i}tr.setExtensionXhrType("dds",tr.XHR_RESPONSE_TYPE.BUFFER);var qf,rh,m_,Qs=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Qs||(Qs={})),Qs))(),s0=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(s0||(s0={})),s0))(),sie=((__={})[827611204]=_n.COMPRESSED_RGBA_S3TC_DXT1_EXT,__[861165636]=_n.COMPRESSED_RGBA_S3TC_DXT3_EXT,__[894720068]=_n.COMPRESSED_RGBA_S3TC_DXT5_EXT,__),aie=((Ua={})[Qs.DXGI_FORMAT_BC1_TYPELESS]=_n.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ua[Qs.DXGI_FORMAT_BC1_UNORM]=_n.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ua[Qs.DXGI_FORMAT_BC2_TYPELESS]=_n.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ua[Qs.DXGI_FORMAT_BC2_UNORM]=_n.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ua[Qs.DXGI_FORMAT_BC3_TYPELESS]=_n.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ua[Qs.DXGI_FORMAT_BC3_UNORM]=_n.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ua[Qs.DXGI_FORMAT_BC1_UNORM_SRGB]=_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ua[Qs.DXGI_FORMAT_BC2_UNORM_SRGB]=_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ua[Qs.DXGI_FORMAT_BC3_UNORM_SRGB]=_n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ua),mB=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,gB(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),o=r[3],s=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),c=l[1];if(4&c){var g=l[2];if(808540228!==g){var E=sie[g],P=new Uint8Array(t,128);return[new t0(P,{format:E,width:s,height:o,levels:a})]}var B=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),Y=B[0],K=B[1],re=B[2],ae=B[3],te=aie[Y];if(void 0===te)throw new Error("DDSLoader cannot parse texture data with DXGI format "+Y);if(4===re)throw new Error("DDSLoader does not support cubemap textures");if(K===s0.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var ne=new Array;if(1===ae)ne.push(new Uint8Array(t,148));else{for(var Ie=g_[te],ye=0,Ve=s,nt=o,it=0;it<a;it++)ye+=Math.max(1,Ve+3&-4)*Math.max(1,nt+3&-4)*Ie,Ve>>>=1,nt>>>=1;var De=148;for(it=0;it<ae;it++)ne.push(new Uint8Array(t,De,ye)),De+=ye}return ne.map(function(Ke){return new t0(Ke,{format:te,width:s,height:o,levels:a})})}throw 64&c?new Error("DDSLoader does not support uncompressed texture data."):512&c?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&c?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&c?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();tr.setExtensionXhrType("ktx",tr.XHR_RESPONSE_TYPE.BUFFER);var vB=[171,75,84,88,32,49,49,187,13,10,26,10],mO=((qf={})[yt.UNSIGNED_BYTE]=1,qf[yt.UNSIGNED_SHORT]=2,qf[yt.FLOAT]=4,qf[yt.HALF_FLOAT]=8,qf),yB=((rh={})[Ye.RGBA]=4,rh[Ye.RGB]=3,rh[Ye.LUMINANCE]=1,rh[Ye.LUMINANCE_ALPHA]=2,rh[Ye.ALPHA]=1,rh),bB=((m_={})[yt.UNSIGNED_SHORT_4_4_4_4]=2,m_[yt.UNSIGNED_SHORT_5_5_5_1]=2,m_[yt.UNSIGNED_SHORT_5_6_5]=2,m_),EB=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,gB(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),o=i.getUint32(16,r),s=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,g=i.getUint32(44,r)||1,E=i.getUint32(48,r)||1,w=i.getUint32(52,r),P=i.getUint32(56,r),A=i.getUint32(60,r);if(0===c||1!==g)throw new Error("Only 2D textures are supported");if(1!==w)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==E)throw new Error("WebGL does not support array textures");var te,Y=l+3&-4,K=c+3&-4,re=new Array(E),ae=l*c;if(0===o&&(ae=Y*K),void 0===(te=0!==o?mO[o]?mO[o]*yB[s]:bB[o]:g_[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Oe=ae*te,Ie=l,ye=c,Ve=Y,nt=K,it=64+A,Ze=0;Ze<P;Ze++){for(var xt=i.getUint32(it,r),$e=it+4,De=0;De<E;De++){var Ke=re[De];Ke||(Ke=re[De]=new Array(P)),Ke[Ze]={levelID:Ze,levelWidth:P>1?Ie:Ve,levelHeight:P>1?ye:nt,levelBuffer:new Uint8Array(e,$e,Oe)},$e+=Oe}it=(it+=xt+4)%4!=0?it+4-it%4:it,Oe=(Ve=(Ie=Ie>>1||1)+4-1&-4)*(nt=(ye=ye>>1||1)+4-1&-4)*te}if(0!==o)throw new Error("TODO: Uncompressed");return re.map(function(ht){return new t0(null,{format:a,width:l,height:c,levels:P,levelBuffers:ht})})},n.validate=function(t,e){for(var i=0;i<vB.length;i++)if(e.getUint8(i)!==vB[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),vO=function(n,t){return(vO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function SB(n,t){function e(){this.constructor=n}vO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var TB=function(n){function t(e,i,r,o){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===o&&(o=!1);var s=n.call(this)||this;return r>16384&&(r=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=r,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=Ue.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return SB(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Kl(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Xi),CB=function(){function n(t,e,i){this.geometry=new Xf,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var o=t[r];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||yt.FLOAT,offset:o.offset},e[r]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Nr(Qk(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Nr(this.dynamicData,!1,!1);var s=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=s,s+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Nr(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===yt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===yt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,i,o.type===yt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,i,o.type===yt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),OB=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new pi,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:yt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=ql.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=Jc.for2d(),i}return SB(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,o=e._batchSize,s=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var c=i[0]._texture.baseTexture;this.state.blendMode=fC(e.blendMode,c.alphaMode),s.state.set(this.state);var g=s.gl,E=e.worldTransform.copyTo(this.tempMatrix);E.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=E.toArray(!0),this.shader.uniforms.uColor=Jk(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var w=!1,P=0,A=0;P<a;P+=o,A+=1){var D=a-P;D>o&&(D=o),A>=l.length&&l.push(this._generateOneMoreBuffer(e));var B=l[A];B.uploadDynamic(i,P,D),(w=w||B._updateID<(e._bufferUpdateIDs[A]||0))&&(B._updateID=e._updateID,B.uploadStatic(i,P,D)),s.geometry.bind(B.geometry),g.drawElements(g.TRIANGLES,6*D,g.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<r;a+=o)i.push(new CB(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(e){return new CB(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,o,s,a){for(var l=0,c=0,g=0,E=0,w=0;w<r;++w){var P=e[i+w],A=P._texture,D=P.scale.x,B=P.scale.y,Y=A.trim,K=A.orig;Y?(l=(c=Y.x-P.anchor.x*K.width)+Y.width,g=(E=Y.y-P.anchor.y*K.height)+Y.height):(l=K.width*(1-P.anchor.x),c=K.width*-P.anchor.x,g=K.height*(1-P.anchor.y),E=K.height*-P.anchor.y),o[a]=c*D,o[a+1]=E*B,o[a+s]=l*D,o[a+s+1]=E*B,o[a+2*s]=l*D,o[a+2*s+1]=g*B,o[a+3*s]=c*D,o[a+3*s+1]=g*B,a+=4*s}},t.prototype.uploadPosition=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].position;o[a]=c.x,o[a+1]=c.y,o[a+s]=c.x,o[a+s+1]=c.y,o[a+2*s]=c.x,o[a+2*s+1]=c.y,o[a+3*s]=c.x,o[a+3*s+1]=c.y,a+=4*s}},t.prototype.uploadRotation=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].rotation;o[a]=c,o[a+s]=c,o[a+2*s]=c,o[a+3*s]=c,a+=4*s}},t.prototype.uploadUvs=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l]._texture._uvs;c?(o[a]=c.x0,o[a+1]=c.y0,o[a+s]=c.x1,o[a+s+1]=c.y1,o[a+2*s]=c.x2,o[a+2*s+1]=c.y2,o[a+3*s]=c.x3,o[a+3*s+1]=c.y3,a+=4*s):(o[a]=0,o[a+1]=0,o[a+s]=0,o[a+s+1]=0,o[a+2*s]=0,o[a+2*s+1]=0,o[a+3*s]=0,o[a+3*s+1]=0,a+=4*s)}},t.prototype.uploadTint=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l],E=c.alpha,w=E<1&&c._texture.baseTexture.alphaMode>0?Ay(c._tintRGB,E):c._tintRGB+(255*E<<24);o[a]=w,o[a+s]=w,o[a+2*s]=w,o[a+3*s]=w,a+=4*s}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(u_),dl=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(dl||(dl={})),dl))(),fl=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(fl||(fl={})),fl))(),Jf={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},yO=function(){function n(){this.color=16777215,this.alpha=1,this.texture=Gt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Gt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),bO=function(n,t){return(bO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function EO(n,t){function e(){this.constructor=n}bO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var SO={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,o=t.indices;if(e.length>=6){for(var s=[],a=0;a<i.length;a++){var l=i[a];s.push(e.length/2),e=e.concat(l.points)}var c=sC()(e,s,2);if(!c)return;var g=r.length/2;for(a=0;a<c.length;a+=3)o.push(c[a]+g),o.push(c[a+1]+g),o.push(c[a+2]+g);for(a=0;a<e.length;a++)r.push(e[a])}}},TO={build:function(n){var o,s,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===ni.CIRC)o=t.radius,s=t.radius;else{var a=n.shape;o=a.width,s=a.height}if(0!==o&&0!==s){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+s));l/=2.3;for(var c=2*Math.PI/l,g=0;g<l-.5;g++)e.push(i+Math.sin(-c*g)*o,r+Math.cos(-c*g)*s);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=o,a=n.shape,l=n.matrix,c=a.x,g=a.y;i.push(n.matrix?l.a*c+l.c*g+l.tx:c,n.matrix?l.b*c+l.d*g+l.ty:g);for(var E=0;E<e.length;E+=2)i.push(e[E],e[E+1]),r.push(o++,s,o)}},MB={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,o=t.height,s=n.points;s.length=0,s.push(e,i,e+r,i,e+r,i+o,e,i+o)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function Qf(n,t,e){return n+(t-n)*e}function a0(n,t,e,i,r,o,s){void 0===s&&(s=[]);for(var l=s,c=0,g=0,E=0,w=0,P=0,A=0,D=0,B=0;D<=20;++D)c=Qf(n,e,B=D/20),g=Qf(t,i,B),E=Qf(e,r,B),w=Qf(i,o,B),P=Qf(c,E,B),A=Qf(g,w,B),(0!==D||l[l.length-2]!==P||l[l.length-1]!==A)&&l.push(P,A);return l}var wB={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));e.length=0,a?(a0(i,r+a,i,r,i+a,r,e),a0(i+o-a,r,i+o,r,i+o,r+a,e),a0(i+o,r+s-a,i+o,r+s,i+o-a,r+s,e),a0(i+a,r+s,i,r+s,i,r+s-a,e)):e.push(i,r,i+o,r,i+o,r+s,i,r+s)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=sC()(e,null,2),a=0,l=s.length;a<l;a+=3)r.push(s[a]+o),r.push(s[a+1]+o),r.push(s[a+2]+o);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function PB(n,t,e,i,r,o,s,a){var w,P;s?(w=i,P=-e):(w=-i,P=e);var B=n+e*o+w,Y=t+i*o+P;return a.push(n-e*r+w,t-i*r+P),a.push(B,Y),2}function Zf(n,t,e,i,r,o,s,a){var l=e-n,c=i-t,g=Math.atan2(l,c),E=Math.atan2(r-n,o-t);a&&g<E?g+=2*Math.PI:!a&&g>E&&(E+=2*Math.PI);var w=g,P=E-g,A=Math.abs(P),D=Math.sqrt(l*l+c*c),B=1+(15*A*Math.sqrt(D)/Math.PI>>0),Y=P/B;if(w+=Y,a){s.push(n,t),s.push(e,i);for(var K=1,re=w;K<B;K++,re+=Y)s.push(n,t),s.push(n+Math.sin(re)*D,t+Math.cos(re)*D);s.push(n,t),s.push(r,o)}else{for(s.push(e,i),s.push(n,t),K=1,re=w;K<B;K++,re+=Y)s.push(n+Math.sin(re)*D,t+Math.cos(re)*D),s.push(n,t);s.push(r,o),s.push(n,t)}return 2*B}function CO(n,t){n.lineStyle.native?function fie(n,t){var e=0,i=n.shape,r=n.points||i.points,o=i.type!==ni.POLY||i.closeStroke;if(0!==r.length){var s=t.points,a=t.indices,l=r.length/2,c=s.length/2,g=c;for(s.push(r[0],r[1]),e=1;e<l;e++)s.push(r[2*e],r[2*e+1]),a.push(g,g+1),g++;o&&a.push(g,c)}}(n,t):function die(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var o=n.lineStyle,s=new Ni(i[0],i[1]),a=new Ni(i[i.length-2],i[i.length-1]),l=e.type!==ni.POLY||e.closeStroke,c=Math.abs(s.x-a.x)<r&&Math.abs(s.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var g=.5*(s.x+a.x),E=.5*(a.y+s.y);i.unshift(g,E),i.push(g,E)}var w=t.points,P=i.length/2,A=i.length,D=w.length/2,B=o.width/2,Y=B*B,K=o.miterLimit*o.miterLimit,re=i[0],ae=i[1],te=i[2],ne=i[3],Oe=0,Ie=0,ye=-(ae-ne),Ve=re-te,nt=0,it=0,Ze=Math.sqrt(ye*ye+Ve*Ve);ye/=Ze,Ve/=Ze,ye*=B,Ve*=B;var xt=o.alignment,$e=2*(1-xt),De=2*xt;l||(o.cap===fl.ROUND?A+=Zf(re-ye*($e-De)*.5,ae-Ve*($e-De)*.5,re-ye*$e,ae-Ve*$e,re+ye*De,ae+Ve*De,w,!0)+2:o.cap===fl.SQUARE&&(A+=PB(re,ae,ye,Ve,$e,De,!0,w))),w.push(re-ye*$e,ae-Ve*$e),w.push(re+ye*De,ae+Ve*De);for(var Ke=1;Ke<P-1;++Ke){Oe=i[2*(Ke+1)],Ie=i[2*(Ke+1)+1],ye=-((ae=i[2*(Ke-1)+1])-(ne=i[2*Ke+1])),Ve=(re=i[2*(Ke-1)])-(te=i[2*Ke]),ye/=Ze=Math.sqrt(ye*ye+Ve*Ve),Ve/=Ze,ye*=B,Ve*=B,nt=-(ne-Ie),it=te-Oe,nt/=Ze=Math.sqrt(nt*nt+it*it),it/=Ze,nt*=B,it*=B;var ht=te-re,Pt=ae-ne,We=te-Oe,bt=Ie-ne,Dt=Pt*We-bt*ht,Nt=Dt<0;if(Math.abs(Dt)<.1)w.push(te-ye*$e,ne-Ve*$e),w.push(te+ye*De,ne+Ve*De);else{var Rt=(-ye+re)*(-Ve+ne)-(-ye+te)*(-Ve+ae),ci=(-nt+Oe)*(-it+ne)-(-nt+te)*(-it+Ie),Un=(ht*ci-We*Rt)/Dt,mn=(bt*Rt-Pt*ci)/Dt,Yn=(Un-te)*(Un-te)+(mn-ne)*(mn-ne),Sn=te+(Un-te)*$e,hn=ne+(mn-ne)*$e,tn=te-(Un-te)*De,Wn=ne-(mn-ne)*De,so=Nt?$e:De;Yn<=Math.min(ht*ht+Pt*Pt,We*We+bt*bt)+so*so*Y?o.join===dl.BEVEL||Yn/Y>K?(Nt?(w.push(Sn,hn),w.push(te+ye*De,ne+Ve*De),w.push(Sn,hn),w.push(te+nt*De,ne+it*De)):(w.push(te-ye*$e,ne-Ve*$e),w.push(tn,Wn),w.push(te-nt*$e,ne-it*$e),w.push(tn,Wn)),A+=2):o.join===dl.ROUND?Nt?(w.push(Sn,hn),w.push(te+ye*De,ne+Ve*De),A+=Zf(te,ne,te+ye*De,ne+Ve*De,te+nt*De,ne+it*De,w,!0)+4,w.push(Sn,hn),w.push(te+nt*De,ne+it*De)):(w.push(te-ye*$e,ne-Ve*$e),w.push(tn,Wn),A+=Zf(te,ne,te-ye*$e,ne-Ve*$e,te-nt*$e,ne-it*$e,w,!1)+4,w.push(te-nt*$e,ne-it*$e),w.push(tn,Wn)):(w.push(Sn,hn),w.push(tn,Wn)):(w.push(te-ye*$e,ne-Ve*$e),w.push(te+ye*De,ne+Ve*De),o.join===dl.BEVEL||Yn/Y>K||(o.join===dl.ROUND?A+=Nt?Zf(te,ne,te+ye*De,ne+Ve*De,te+nt*De,ne+it*De,w,!0)+2:Zf(te,ne,te-ye*$e,ne-Ve*$e,te-nt*$e,ne-it*$e,w,!1)+2:(Nt?(w.push(tn,Wn),w.push(tn,Wn)):(w.push(Sn,hn),w.push(Sn,hn)),A+=2)),w.push(te-nt*$e,ne-it*$e),w.push(te+nt*De,ne+it*De),A+=2)}}ye=-((ae=i[2*(P-2)+1])-(ne=i[2*(P-1)+1])),Ve=(re=i[2*(P-2)])-(te=i[2*(P-1)]),ye/=Ze=Math.sqrt(ye*ye+Ve*Ve),Ve/=Ze,w.push(te-(ye*=B)*$e,ne-(Ve*=B)*$e),w.push(te+ye*De,ne+Ve*De),l||(o.cap===fl.ROUND?A+=Zf(te-ye*($e-De)*.5,ne-Ve*($e-De)*.5,te-ye*$e,ne-Ve*$e,te+ye*De,ne+Ve*De,w,!1)+2:o.cap===fl.SQUARE&&(A+=PB(te,ne,ye,Ve,$e,De,!1,w)));var Il=t.indices,zp=Jf.epsilon*Jf.epsilon;for(Ke=D;Ke<A+D-2;++Ke)re=w[2*Ke],ae=w[2*Ke+1],te=w[2*(Ke+1)],ne=w[2*(Ke+1)+1],Oe=w[2*(Ke+2)],Ie=w[2*(Ke+2)+1],!(Math.abs(re*(ne-Ie)+te*(Ie-ae)+Oe*(ae-ne))<zp)&&Il.push(Ke,Ke+1,Ke+2)}}(n,t)}var oh,OO=function(){function n(){}return n.curveTo=function(t,e,i,r,o,s){var c=s[s.length-1]-e,g=s[s.length-2]-t,E=r-e,w=i-t,P=Math.abs(c*w-g*E);if(P<1e-8||0===o)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;var A=c*c+g*g,D=E*E+w*w,B=c*E+g*w,Y=o*Math.sqrt(A)/P,K=o*Math.sqrt(D)/P,re=Y*B/A,ae=K*B/D,te=Y*w+K*g,ne=Y*E+K*c,ye=w*(Y+ae),Ve=E*(Y+ae);return{cx:te+t,cy:ne+e,radius:o,startAngle:Math.atan2(c*(K+re)-ne,g*(K+re)-te),endAngle:Math.atan2(Ve-ne,ye-te),anticlockwise:g*E>w*c}},n.arc=function(t,e,i,r,o,s,a,l,c){for(var g=a-s,E=Jf._segmentsCount(Math.abs(g)*o,40*Math.ceil(Math.abs(g)/o_)),w=g/(2*E),P=2*w,A=Math.cos(w),D=Math.sin(w),B=E-1,Y=B%1/B,K=0;K<=B;++K){var ae=w+s+P*(K+Y*K),te=Math.cos(ae),ne=-Math.sin(ae);c.push((A*te+D*ne)*o+i,(A*-ne+D*te)*o+r)}},n}(),AB=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s,a,l){for(var g=0,E=0,w=0,P=0,A=0,D=0,B=0,Y=0,K=0,re=0,ae=0,te=t,ne=e,Oe=1;Oe<=10;++Oe)re=te-(Y=(B=(D=(A=1-(E=Oe/10))*A)*A)*t+3*D*E*i+3*A*(w=E*E)*o+(P=w*E)*a),ae=ne-(K=B*e+3*D*E*r+3*A*w*s+P*l),te=Y,ne=K,g+=Math.sqrt(re*re+ae*ae);return g},n.curveTo=function(t,e,i,r,o,s,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var g=Jf._segmentsCount(n.curveLength(l,c,t,e,i,r,o,s)),E=0,w=0,P=0,A=0,D=0;a.push(l,c);for(var B=1,Y=0;B<=g;++B)a.push((P=(w=(E=1-(Y=B/g))*E)*E)*l+3*w*Y*t+3*E*(A=Y*Y)*i+(D=A*Y)*o,P*c+3*w*Y*e+3*E*A*r+D*s)},n}(),xB=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s){var a=t-2*i+o,l=e-2*r+s,c=2*i-2*t,g=2*r-2*e,E=4*(a*a+l*l),w=4*(a*c+l*g),P=c*c+g*g,A=2*Math.sqrt(E+w+P),D=Math.sqrt(E),B=2*E*D,Y=2*Math.sqrt(P),K=w/D;return(B*A+D*w*(A-Y)+(4*P*E-w*w)*Math.log((2*D+K+A)/(K+Y)))/(4*B)},n.curveTo=function(t,e,i,r,o){for(var s=o[o.length-2],a=o[o.length-1],l=Jf._segmentsCount(n.curveLength(s,a,t,e,i,r)),c=0,g=0,E=1;E<=l;++E){var w=E/l;o.push((c=s+(t-s)*w)+(t+(i-t)*w-c)*w,(g=a+(e-a)*w)+(e+(r-e)*w-g)*w)}},n}(),RB=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),l0=((oh={})[ni.POLY]=SO,oh[ni.CIRC]=TO,oh[ni.ELIP]=TO,oh[ni.RECT]=MB,oh[ni.RREC]=wB,oh),MO=[],v_=[];function pie(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var wO=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),ep=new Ni,gie=new zf,DB=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new zf,e.boundsDirty=-1,e}return EO(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),v_.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),MO.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=new wO(e,i,r,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new wO(e,null,null,i),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var o=i[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,ep):ep.copyFrom(e),o.shape.contains(ep.x,ep.y))){var s=!1;if(o.holes)for(var a=0;a<o.holes.length;a++)if(o.holes[a].shape.contains(ep.x,ep.y)){s=!0;break}if(!s)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,o=null,s=null;this.batches.length>0&&(s=(o=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],c=l.fillStyle,g=l.lineStyle;l0[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var w=0;w<2;w++){var P=0===w?c:g;if(P.visible){var D=this.indices.length,B=this.points.length/2;P.texture.baseTexture.wrapMode=Ks.REPEAT,0===w?this.processFill(l):this.processLine(l);var Y=this.points.length/2-B;0!==Y&&(o&&!this._compareStyles(s,P)&&(o.end(D,B),o=null),o||((o=MO.pop()||new RB).begin(P,D,B),this.batches.push(o),s=P),this.addUvs(this.points,i,P.texture,B,Y,P.matrix))}}}var re=this.points.length/2;if(o&&o.end(this.indices.length,re),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=re>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],o=r.fillStyle,s=r.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var o=e[i],s=0;s<o.size;s++){var a=o.start+s;this.indicesUint16[a]=this.indicesUint16[a]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Qn._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),v_.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,o=this.textureIds,s=v_.pop();s||((s=new qy).texArray=new Jy),s.texArray.count=0,s.start=0,s.size=0,s.type=lo.TRIANGLES;var a=0,l=null,c=0,g=!1,E=lo.TRIANGLES,w=0;for(this.drawCalls.push(s),i=0;i<this.batches.length;i++){var P=this.batches[i],D=P.style,B=D.texture.baseTexture;g!==!!D.native&&(E=(g=!!D.native)?lo.LINES:lo.TRIANGLES,l=null,a=8,e++),l!==B&&(l=B,B._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=v_.pop())||((s=new qy).texArray=new Jy),this.drawCalls.push(s)),s.start=w,s.size=0,s.texArray.count=0,s.type=E),B.touched=1,B._batchEnabled=e,B._batchLocation=a,B.wrapMode=Ks.REPEAT,s.texArray.elements[s.texArray.count++]=B,a++)),s.size+=P.size,w+=P.size,c=B._batchLocation,this.addColors(r,D.color,D.alpha,P.attribSize,P.attribStart),this.addTextureIds(o,c,P.attribSize,P.attribStart)}Qn._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,o=this.textureIds,s=new ArrayBuffer(3*e.length*4),a=new Float32Array(s),l=new Uint32Array(s),c=0,g=0;g<e.length/2;g++)a[c++]=e[2*g],a[c++]=e[2*g+1],a[c++]=i[2*g],a[c++]=i[2*g+1],l[c++]=r[g],a[c++]=o[g];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),SO.triangulate(e,this)):l0[e.type].triangulate(e,this)},t.prototype.processLine=function(e){CO(e,this);for(var i=0;i<e.holes.length;i++)CO(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];l0[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=gie,r=pi.IDENTITY;this._bounds.clear(),i.clear();for(var o=0;o<this.graphicsData.length;o++){var s=this.graphicsData[o],a=s.shape,l=s.type,c=s.lineStyle,g=s.matrix||pi.IDENTITY,E=0;if(c&&c.visible){var w=c.alignment;E=c.width,l===ni.POLY?pie(a)?E*=1-w:E*=w:E*=Math.max(0,w)}r!==g&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=g),l===ni.RECT||l===ni.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,E,E):l===ni.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+E,a.radius+E):l===ni.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+E,a.height+E):e.addVerticesMatrix(r,a.points,0,a.points.length,E,E)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var o=e[2*r],s=e[2*r+1];e[2*r]=i.a*o+i.c*s+i.tx,e[2*r+1]=i.b*o+i.d*s+i.ty}},t.prototype.addColors=function(e,i,r,o,s){void 0===s&&(s=0);var l=Ay((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,s+o);for(var c=0;c<o;c++)e[s+c]=l},t.prototype.addTextureIds=function(e,i,r,o){void 0===o&&(o=0),e.length=Math.max(e.length,o+r);for(var s=0;s<r;s++)e[o+s]=i},t.prototype.addUvs=function(e,i,r,o,s,a){void 0===a&&(a=null);for(var l=0,c=i.length,g=r.frame;l<s;){var E=e[2*(o+l)],w=e[2*(o+l)+1];if(a){var P=a.a*E+a.c*w+a.tx;w=a.b*E+a.d*w+a.ty,E=P}l++,i.push(E/g.width,w/g.height)}var A=r.baseTexture;(g.width<A.width||g.height<A.height)&&this.adjustUvs(i,r,c,s)},t.prototype.adjustUvs=function(e,i,r,o){for(var s=i.baseTexture,a=1e-6,l=r+2*o,c=i.frame,g=c.width/s.width,E=c.height/s.height,w=c.x/c.width,P=c.y/c.height,A=Math.floor(e[r]+a),D=Math.floor(e[r+1]+a),B=r+2;B<l;B+=2)A=Math.min(A,Math.floor(e[B]+a)),D=Math.min(D,Math.floor(e[B+1]+a));for(w-=A,P-=D,B=r;B<l;B+=2)e[B]=(e[B]+w)*g,e[B+1]=(e[B+1]+P)*E},t.BATCHABLE_SIZE=100,t}(uO),IB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=fl.BUTT,e.join=dl.MITER,e.miterLimit=10,e}return EO(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(yO),_ie=new Float32Array(3),PO={},Cs=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new yO,i._lineStyle=new IB,i._matrix=null,i._holeMode=!1,i.state=Jc.for2d(),i._geometry=e||new DB,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=Ue.NORMAL,i}return EO(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,o,s){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=.5),void 0===s&&(s=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:o,native:s}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Gt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:fl.BUTT,join:dl.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new s_,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new s_,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,o){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),xB.curveTo(e,i,r,o,s),this},t.prototype.bezierCurveTo=function(e,i,r,o,s,a){return this._initCurve(),AB.curveTo(e,i,r,o,s,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,o,s){this._initCurve(e,i);var l=OO.curveTo(e,i,r,o,s,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,o,s,a){if(void 0===a&&(a=!1),o===s)return this;if(!a&&s<=o?s+=o_:a&&o<=s&&(o+=o_),0==s-o)return this;var c=e+Math.cos(o)*r,g=i+Math.sin(o)*r,E=this._geometry.closePointEps,w=this.currentPath?this.currentPath.points:null;if(w){var P=Math.abs(w[w.length-2]-c),A=Math.abs(w[w.length-1]-g);P<E&&A<E||w.push(c,g)}else this.moveTo(c,g),w=this.currentPath.points;return OO.arc(c,g,e,i,r,o,s,a,w),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:Gt.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Gt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,o){return this.drawShape(new Vn(e,i,r,o))},t.prototype.drawRoundedRect=function(e,i,r,o,s){return this.drawShape(new aF(e,i,r,o,s))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new oF(e,i,r))},t.prototype.drawEllipse=function(e,i,r,o){return this.drawShape(new sF(e,i,r,o))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var o,s=!0,a=i[0];a.points?(s=a.closeStroke,o=a.points):o=Array.isArray(i[0])?i[0]:i;var l=new s_(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==ni.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var o=0;o<r;o++){var s=e.batches[o],a=s.style.color,l=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),c=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),E={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:c,_batchRGB:Kl(a),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=E}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var o=this.batches[i];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,o=this.tint,s=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(o>>16&255)/255*s,a.tint[1]=(o>>8&255)/255*s,a.tint[2]=(255&o)/255*s,a.tint[3]=s,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var c=0,g=l.length;c<g;c++)this._renderDrawCallDirect(e,r.drawCalls[c])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,o=i.type,s=i.size,a=i.start,l=r.count,c=0;c<l;c++)e.texture.bind(r.elements[c],c);e.geometry.draw(o,s,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!PO[r]){for(var o=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(o),a=0;a<o;a++)s[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:qc.from({uSamplers:s},!0)};PO[r]=new ql(e.plugins[r]._shader.program,l)}i=PO[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Kl(this.tint,_ie),i=0;i<this.batches.length;i++){var r=this.batches[i],o=r._batchRGB,c=(e[0]*o[0]*255<<16)+(e[1]*o[1]*255<<8)+(0|e[2]*o[2]*255);r._tintRGB=(c>>16)+(65280&c)+((255&c)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,g=this._geometry.points,E=this.vertexData,w=0,P=0;P<g.length;P+=2){var A=g[P],D=g[P+1];E[w++]=r*A+s*D+l,E[w++]=a*D+o*A+c}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new Ni,t}(Xi),mie={buildPoly:SO,buildCircle:TO,buildRectangle:MB,buildRoundedRectangle:wB,buildLine:CO,ArcUtils:OO,BezierUtils:AB,QuadraticUtils:xB,BatchPart:RB,FILL_COMMANDS:l0,BATCH_POOL:MO,DRAW_CALL_POOL:v_},AO=function(n,t){return(AO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},y_=new Ni,yie=new Uint16Array([0,1,2,0,2,3]),Yo=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new Ku(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=Ue.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||Gt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=yie,i.pluginName="batch",i.isSprite=!0,i._roundPixels=ct.ROUND_PIXELS,i}return function vie(n,t){function e(){this.constructor=n}AO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xu(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,g=this.vertexData,E=e.trim,w=e.orig,P=this._anchor,A=0,D=0,B=0,Y=0;if(E?(A=(D=E.x-P._x*w.width)+E.width,B=(Y=E.y-P._y*w.height)+E.height):(A=(D=-P._x*w.width)+w.width,B=(Y=-P._y*w.height)+w.height),g[0]=r*D+s*Y+l,g[1]=a*Y+o*D+c,g[2]=r*A+s*Y+l,g[3]=a*Y+o*A+c,g[4]=r*A+s*B+l,g[5]=a*B+o*A+c,g[6]=r*D+s*B+l,g[7]=a*B+o*D+c,this._roundPixels)for(var K=ct.RESOLUTION,re=0;re<g.length;++re)g[re]=Math.round((g[re]*K|0)/K)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,o=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,g=s.d,E=s.tx,w=s.ty,P=-o._x*r.width,A=P+r.width,D=-o._y*r.height,B=D+r.height;i[0]=a*P+c*D+E,i[1]=g*D+l*P+w,i[2]=a*A+c*D+E,i[3]=g*D+l*A+w,i[4]=a*A+c*B+E,i[5]=g*B+l*A+w,i[6]=a*P+c*B+E,i[7]=g*B+l*P+w},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new zf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Vn),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,y_);var i=this._texture.orig.width,r=this._texture.orig.height,o=-i*this.anchor.x,s=0;return y_.x>=o&&y_.x<o+i&&y_.y>=(s=-r*this.anchor.y)&&y_.y<s+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof Gt?e:Gt.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Xu(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Xu(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Gt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Xi),xO=function(n,t){return(xO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},sh=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(sh||(sh={})),sh))(),RO={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:sh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Eie=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ah=function(){function n(t){this.styleID=0,this.reset(),IO(this,t,t)}return n.prototype.clone=function(){var t={};return IO(t,this,RO),new n(t)},n.prototype.reset=function(){IO(this,RO,RO)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=DO(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=DO(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function Sie(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=DO(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Eie.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function NB(n){return"number"==typeof n?Py(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function DO(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=NB(n[t]);return n}return NB(n)}function IO(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var Os=function(){function n(t,e,i,r,o,s,a,l,c){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var o=e.toFontString(),s=n.measureFont(o);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var a=r.getContext("2d");a.font=o;for(var c=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),g=new Array(c.length),E=0,w=0;w<c.length;w++){var P=a.measureText(c[w]).width+(c[w].length-1)*e.letterSpacing;g[w]=P,E=Math.max(E,P)}var A=E+e.strokeThickness;e.dropShadow&&(A+=e.dropShadowDistance);var D=e.lineHeight||s.fontSize+e.strokeThickness,B=Math.max(D,s.fontSize+e.strokeThickness)+(c.length-1)*(D+e.leading);return e.dropShadow&&(B+=e.dropShadowDistance),new n(t,e,A,B,c,g,D+e.leading,E,s)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),o=0,s="",a="",l=Object.create(null),c=e.letterSpacing,g=e.whiteSpace,E=n.collapseSpaces(g),w=n.collapseNewlines(g),P=!E,A=e.wordWrapWidth+c,D=n.tokenize(t),B=0;B<D.length;B++){var Y=D[B];if(n.isNewline(Y)){if(!w){a+=n.addLine(s),P=!E,s="",o=0;continue}Y=" "}if(E){var K=n.isBreakingSpace(Y),re=n.isBreakingSpace(s[s.length-1]);if(K&&re)continue}var ae=n.getFromCache(Y,c,l,r);if(ae>A)if(""!==s&&(a+=n.addLine(s),s="",o=0),n.canBreakWords(Y,e.breakWords))for(var te=n.wordWrapSplit(Y),ne=0;ne<te.length;ne++){for(var Oe=te[ne],Ie=1;te[ne+Ie];){var ye=te[ne+Ie];if(n.canBreakChars(Oe[Oe.length-1],ye,Y,ne,e.breakWords))break;Oe+=ye,Ie++}ne+=Oe.length-1;var nt=n.getFromCache(Oe,c,l,r);nt+o>A&&(a+=n.addLine(s),P=!1,s="",o=0),s+=Oe,o+=nt}else s.length>0&&(a+=n.addLine(s),s="",o=0),a+=n.addLine(Y,!(B===D.length-1)),P=!1,s="",o=0;else ae+o>A&&(P=!1,a+=n.addLine(s),s="",o=0),(s.length>0||!n.isBreakingSpace(Y)||P)&&(s+=Y,o+=ae)}return a+n.addLine(s,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var o=i[t];if("number"!=typeof o){var s=t.length*e;o=r.measureText(t).width+s,i[t]=o}return o},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var o=t[r];n.isBreakingSpace(o,t[r+1])||n.isNewline(o)?(""!==i&&(e.push(i),i=""),e.push(o)):i+=o}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,o){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var o=n.METRICS_STRING+n.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=s,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var c=r.getImageData(0,0,s,l).data,g=c.length,E=4*s,w=0,P=0,A=!1;for(w=0;w<a;++w){for(var D=0;D<E;D+=4)if(255!==c[P+D]){A=!0;break}if(A)break;P+=E}for(e.ascent=a-w,P=g-E,A=!1,w=l;w>a;--w){for(D=0;D<E;D+=4)if(255!==c[P+D]){A=!0;break}if(A)break;P-=E}return e.descent=w-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),c0=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();c0.width=c0.height=10,Os._canvas=c0,Os._context=c0.getContext("2d"),Os._fonts={},Os.METRICS_STRING="|\xc9q\xc5",Os.BASELINE_SYMBOL="M",Os.BASELINE_MULTIPLIER=1.4,Os.HEIGHT_MULTIPLIER=2,Os._newlines=[10,13],Os._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Tie={texture:!0,children:!1,baseTexture:!0},b_=function(n){function t(e,i,r){var o=this,s=!1;r||(r=document.createElement("canvas"),s=!0),r.width=3,r.height=3;var a=Gt.from(r);return a.orig=new Vn,a.trim=new Vn,(o=n.call(this,a)||this)._ownCanvas=s,o.canvas=r,o.context=o.canvas.getContext("2d"),o._resolution=ct.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=i,o.localStyleID=-1,o}return function bie(n,t){function e(){this.constructor=n}xO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,o=Os.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.height,l=o.lines,c=o.lineHeight,g=o.lineWidths,E=o.maxLineWidth,w=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var P,A,D=i.dropShadow?2:1,B=0;B<D;++B){var Y=i.dropShadow&&0===B,K=Y?Math.ceil(Math.max(1,a)+2*i.padding):0,re=K*this._resolution;if(Y){r.fillStyle="black",r.strokeStyle="black";var ae=i.dropShadowColor,te=Kl("number"==typeof ae?ae:Ho(ae)),ne=i.dropShadowBlur*this._resolution,Oe=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*te[0]+","+255*te[1]+","+255*te[2]+","+i.dropShadowAlpha+")",r.shadowBlur=ne,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*Oe,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*Oe+re}else r.fillStyle=this._generateFillStyle(i,l,o),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var Ie=(c-w.fontSize)/2;(!t.nextLineHeightBehavior||c-w.fontSize<0)&&(Ie=0);for(var ye=0;ye<l.length;ye++)P=i.strokeThickness/2,A=i.strokeThickness/2+ye*c+w.ascent+Ie,"right"===i.align?P+=E-g[ye]:"center"===i.align&&(P+=(E-g[ye])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[ye],P+i.padding,A+i.padding-K,!0),i.fill&&this.drawLetterSpacing(l[ye],P+i.padding,A+i.padding-K)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,o){void 0===o&&(o=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(o?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var c=i,g=Array.from?Array.from(e):e.split(""),E=this.context.measureText(e).width,w=0,P=0;P<g.length;++P){var A=g[P];o?this.context.strokeText(A,c,r):this.context.fillText(A,c,r);for(var D="",B=P+1;B<g.length;++B)D+=g[B];c+=E-(w=this.context.measureText(D).width)+a,E=w}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=eF(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,o=this._style,s=o.trim?0:o.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-2*s,r.orig.height=r._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-2*l,g=this.canvas.height/this._resolution-a-2*l,E=o.slice(),w=e.fillGradientStops.slice();if(!w.length)for(var P=E.length+1,A=1;A<P;++A)w.push(A/P);if(E.unshift(o[0]),w.unshift(0),E.push(o[o.length-1]),w.push(1),e.fillGradientType===sh.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,l,c/2,g+l);var D=r.fontProperties.fontSize+e.strokeThickness;for(A=0;A<i.length;A++){var B=r.lineHeight*(A-1)+D,Y=r.lineHeight*A,K=Y;A>0&&B>Y&&(K=(Y+B)/2);var re=Y+D,ae=r.lineHeight*(A+1),te=re;A+1<i.length&&ae<re&&(te=(re+ae)/2);for(var ne=(te-K)/g,Oe=0;Oe<E.length;Oe++){var ye=Math.min(1,Math.max(0,K/g+("number"==typeof w[Oe]?w[Oe]:Oe/E.length)*ne));ye=Number(ye.toFixed(5)),s.addColorStop(ye,E[Oe])}}}else{s=this.context.createLinearGradient(l,g/2,c+l,g/2);var Ve=E.length+1,nt=1;for(A=0;A<E.length;A++)s.addColorStop("number"==typeof w[A]?w[A]:nt/Ve,E[A]),nt++}return s},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Tie,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Xu(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Xu(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof ah?e:new ah(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Yo);ct.UPLOADS_PER_FRAME=4;var NO=function(n,t){return(NO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},kB=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function Oie(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Gt){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function Mie(n,t){if(n.baseTexture instanceof Qn){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function wie(n,t){if(n._texture&&n._texture instanceof Gt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Pie(n,t){return t instanceof b_&&(t.updateText(!0),!0)}function Aie(n,t){if(t instanceof ah){var e=t.toFontString();return Os.measureFont(e),!0}return!1}function xie(n,t){if(n instanceof b_){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Rie(n,t){return n instanceof ah&&(-1===t.indexOf(n)&&t.push(n),!0)}var kO=function(){function n(t){var e=this;this.limiter=new kB(ct.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(xie),this.registerFindHook(Rie),this.registerFindHook(Oie),this.registerFindHook(Mie),this.registerFindHook(wie),this.registerUploadHook(Pie),this.registerUploadHook(Aie)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,to.system.addOnce(this.tick,this,Ba.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)to.system.addOnce(this.tick,this,Ba.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);for(this.completes.length=0,i=0,r=o.length;i<r;i++)o[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Xi)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&to.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function FB(n,t){return t instanceof Qn&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function Die(n,t){if(!(t instanceof Cs))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var o=i[r].style.texture;o&&FB(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Iie(n,t){return n instanceof Cs&&(t.push(n),!0)}var BB=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Iie),i.registerUploadHook(FB),i.registerUploadHook(Die),i}return function Cie(n,t){function e(){this.constructor=n}NO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(kO),Nie=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),LB=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof Gt?t:null,this.baseTexture=t instanceof Qn?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=r_(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],o=this._frames[r],s=o.frame;if(s){var a,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,g=new Vn(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=o.rotated?new Vn(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Vn(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new Vn(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new Gt(this.baseTexture,a,g,l,o.rotated?2:0,o.anchor),Gt.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),UB=function(){function n(){}return n.use=function(t,e){var i,r,o=this,s=t.name+"_image";if(t.data&&t.type===tr.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(A){if("string"!=typeof A)return"continue";var D=A.replace(".json",""),B=zu.resolve(t.url.replace(o.baseUrl,""),A);if(o.resources[D]||Object.values(o.resources).some(function(K){return zu.format(zu.parse(K.url))===B}))return"continue";o.add(D,B,{crossOrigin:t.crossOrigin,loadType:tr.LOAD_TYPE.XHR,xhrType:tr.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},c=0,g=a;c<g.length;c++)l(g[c]);var w={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},P=n.getResourcePath(t,o.baseUrl);o.add(s,P,w,function(D){if(D.error)e(D.error);else{var B=new LB(D.texture,t.data,t.url);B.parse(function(){t.spritesheet=B,t.textures=B.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:zu.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),FO=function(n,t){return(FO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function GB(n,t){function e(){this.constructor=n}FO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var E_=new Ni,jB=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var o=n.call(this,e)||this;return o.tileTransform=new yC,o._width=i,o._height=r,o.uvMatrix=o.texture.uvMatrix||new $y(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return GB(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Vn),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,E_);var i=this._width,r=this._height,o=-i*this.anchor._x;if(E_.x>=o&&E_.x<o+i){var s=-r*this.anchor._y;if(E_.y>=s&&E_.y<s+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof Gt?e:Gt.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Yo),VB="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",u0=new pi,HB=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new BC,i.state=Jc.for2d(),i}return GB(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=ql.from(VB,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?ql.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):ql.from(VB,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(o=r.uvs)[0]=o[6]=-s,o[1]=o[3]=-a,o[2]=o[4]=1-s,o[5]=o[7]=1-a,r.invalidate();var l=e._texture,c=l.baseTexture,g=e.tileTransform.localTransform,E=e.uvMatrix,w=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;w&&(c._glTextures[i.CONTEXT_UID]?w=c.wrapMode!==Ks.CLAMP:c.wrapMode===Ks.CLAMP&&(c.wrapMode=Ks.REPEAT));var P=w?this.simpleShader:this.shader,A=l.width,D=l.height,B=e._width,Y=e._height;u0.set(g.a*A/B,g.b*A/Y,g.c*D/B,g.d*D/Y,g.tx/B,g.ty/Y),u0.invert(),w?u0.prepend(E.mapCoord):(P.uniforms.uMapCoord=E.mapCoord.toArray(!0),P.uniforms.uClampFrame=E.uClampFrame,P.uniforms.uClampOffset=E.uClampOffset),P.uniforms.uTransform=u0.toArray(!0),P.uniforms.uColor=pC(e.tint,e.worldAlpha,P.uniforms.uColor,c.alphaMode),P.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),P.uniforms.uSampler=l,i.shader.bind(P),i.geometry.bind(r),this.state.blendMode=fC(e.blendMode,c.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(u_),BO=function(n,t){return(BO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function LO(n,t){function e(){this.constructor=n}BO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var YB=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),UO=new Ni,WB=new s_,Zs=function(n){function t(e,i,r,o){void 0===o&&(o=lo.TRIANGLES);var s=n.call(this)||this;return s.geometry=e,s.shader=i,s.state=r||Jc.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=ct.ROUND_PIXELS,s.batchUvs=null,s}return LO(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===lo.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,o=i._updateID;if(o!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,g=s.d,E=s.tx,w=s.ty,P=this.vertexData,A=0;A<P.length/2;A++){var D=r[2*A],B=r[2*A+1];P[2*A]=a*D+c*B+E,P[2*A+1]=l*D+g*B+w}if(this._roundPixels){var Y=ct.RESOLUTION;for(A=0;A<P.length;++A)P[A]=Math.round((P[A]*Y|0)/Y)}this.vertexDirty=o}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new YB(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,UO);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=WB.points,o=this.geometry.getIndex().data,s=o.length,a=4===this.drawMode?3:1,l=0;l+2<s;l+=a){var c=2*o[l],g=2*o[l+1],E=2*o[l+2];if(r[0]=i[c],r[1]=i[c+1],r[2]=i[g],r[3]=i[g+1],r[4]=i[E],r[5]=i[E+1],WB.contains(UO.x,UO.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Xi),lh=function(n){function t(e,i){var r=this,o={uSampler:e,alpha:1,uTextureMatrix:pi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(o,i.uniforms),(r=n.call(this,i.program||Kf.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,r.uvMatrix=new $y(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return LO(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,pC(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(ql),S_=function(n){function t(e,i,r){var o=n.call(this)||this,s=new Nr(e),a=new Nr(i,!0),l=new Nr(r,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,yt.FLOAT).addAttribute("aTextureCoord",a,2,!1,yt.FLOAT).addIndex(l),o._updateId=-1,o}return LO(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Xf),GO=function(n,t){return(GO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},T_=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},Vie=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var o=e[r].match(/^[a-z]+/gm)[0],s=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in s){var c=s[l].split("="),g=c[0],E=c[1].replace(/"/gm,""),w=parseFloat(E),P=isNaN(w)?E:w;a[g]=P}i[o].push(a)}var A=new T_;return i.info.forEach(function(D){return A.info.push({face:D.face,size:parseInt(D.size,10)})}),i.common.forEach(function(D){return A.common.push({lineHeight:parseInt(D.lineHeight,10)})}),i.page.forEach(function(D){return A.page.push({id:parseInt(D.id,10),file:D.file})}),i.char.forEach(function(D){return A.char.push({id:parseInt(D.id,10),page:parseInt(D.page,10),x:parseInt(D.x,10),y:parseInt(D.y,10),width:parseInt(D.width,10),height:parseInt(D.height,10),xoffset:parseInt(D.xoffset,10),yoffset:parseInt(D.yoffset,10),xadvance:parseInt(D.xadvance,10)})}),i.kerning.forEach(function(D){return A.kerning.push({first:parseInt(D.first,10),second:parseInt(D.second,10),amount:parseInt(D.amount,10)})}),i.distanceField.forEach(function(D){return A.distanceField.push({distanceRange:parseInt(D.distanceRange,10),fieldType:D.fieldType})}),A},n}(),jO=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new T_,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<i.length;c++)e.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(c=0;c<r.length;c++)e.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(c=0;c<o.length;c++)e.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(c=0;c<s.length;c++){var g=s[c];e.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(c=0;c<a.length;c++)e.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(c=0;c<l.length;c++)e.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return e},n}(),Hie=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return jO.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return jO.parse(e)},n}(),VO=[Vie,jO,Hie];function zB(n){for(var t=0;t<VO.length;t++)if(VO[t].test(n))return VO[t];return null}function Wie(n,t,e,i,r,o,s){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(o,o);var c=s.strokeThickness/2,g=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function Yie(n,t,e,i,r,o){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a,l=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,g=n.width/i-l-2*c,E=n.height/i-l-2*c,w=s.slice(),P=e.fillGradientStops.slice();if(!P.length)for(var A=w.length+1,D=1;D<A;++D)P.push(D/A);if(w.unshift(s[0]),P.unshift(0),w.push(s[s.length-1]),P.push(1),e.fillGradientType===sh.LINEAR_VERTICAL){a=t.createLinearGradient(g/2,c,g/2,E+c);var B=0,K=(o.fontProperties.fontSize+e.strokeThickness)/E;for(D=0;D<r.length;D++)for(var re=o.lineHeight*D,ae=0;ae<w.length;ae++){var Oe=Math.max(B,re/E+("number"==typeof P[ae]?P[ae]:ae/w.length)*K);Oe=Math.min(Oe,1),a.addColorStop(Oe,w[ae]),B=Oe}}else{a=t.createLinearGradient(c,E/2,g+c,E/2);var Ie=w.length+1,ye=1;for(D=0;D<w.length;D++)a.addColorStop("number"==typeof P[D]?P[D]:ye/Ie,w[D]),ye++}return a}(n,t,s,o,[a],e),t.strokeStyle=s.stroke,s.dropShadow){var E=s.dropShadowColor,w=Kl("number"==typeof E?E:Ho(E)),P=s.dropShadowBlur*o,A=s.dropShadowDistance*o;t.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+s.dropShadowAlpha+")",t.shadowBlur=P,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*A,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*A}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,c,g+e.lineHeight-l.descent),s.fill&&t.fillText(a,c,g+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function $B(n){return Array.from?Array.from(n):n.split("")}function h0(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var Zl=function(){function n(t,e,i){var r,o,s=t.info[0],a=t.common[0],c=t.distanceField[0],g=r_(t.page[0].file),E={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/g,this.chars={},this.pageTextures=E;for(var w=0;w<t.page.length;w++){var P=t.page[w];E[A=P.id]=e instanceof Array?e[w]:e[P.file],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(E[A].baseTexture.alphaMode=eo.NO_PREMULTIPLIED_ALPHA)}for(w=0;w<t.char.length;w++){var B=t.char[w],A=B.id,Y=B.page,K=t.char[w],re=K.x,ae=K.y,te=K.width,ne=K.height,Oe=K.xoffset,Ie=K.yoffset,ye=K.xadvance;Oe/=g,Ie/=g,ye/=g;var Ve=new Vn((re/=g)+E[Y].frame.x/g,(ae/=g)+E[Y].frame.y/g,te/=g,ne/=g);this.chars[A]={xOffset:Oe,yOffset:Ie,xAdvance:ye,kerning:{},texture:new Gt(E[Y].baseTexture,Ve),page:Y}}for(w=0;w<t.kerning.length;w++){var nt=t.kerning[w],it=nt.first,Ze=nt.second,xt=nt.amount;it/=g,xt/=g,this.chars[Ze/=g]&&(this.chars[Ze].kerning[it]=xt)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(o=null===(r=null==c?void 0:c.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==o?o:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof T_)r=t;else{var o=zB(t);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(t)}e instanceof Gt&&(e=[e]);var s=new n(r,e,i);return n.available[s.font]=s,s},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),s=r.padding,a=r.resolution,l=r.textureWidth,c=r.textureHeight,g=function zie(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var o=r[0].charCodeAt(0),s=r[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,$B(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),E=e instanceof ah?e:new ah(e),w=l,P=new T_;P.info[0]={face:E.fontFamily,size:E.fontSize},P.common[0]={lineHeight:E.fontSize};for(var B,Y,K,A=0,D=0,re=0,ae=[],te=0;te<g.length;te++){B||((B=document.createElement("canvas")).width=l,B.height=c,Y=B.getContext("2d"),K=new Qn(B,{resolution:a}),ae.push(new Gt(K)),P.page.push({id:ae.length-1,file:""}));var ne=Os.measureText(g[te],E,!1,B),Oe=ne.width,Ie=Math.ceil(ne.height),ye=Math.ceil(("italic"===E.fontStyle?2:1)*Oe);if(D>=c-Ie*a){if(0===D)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+E.fontSize+"px fonts");--te,B=null,Y=null,K=null,D=0,A=0,re=0}else if(re=Math.max(Ie+ne.fontProperties.descent,re),ye*a+A>=w)--te,D+=re*a,D=Math.ceil(D),A=0,re=0;else{Wie(B,Y,ne,A,D,a,E);var Ve=h0(ne.text);P.char.push({id:Ve,page:ae.length-1,x:A/a,y:D/a,width:ye,height:Ie,xoffset:0,yoffset:0,xadvance:Math.ceil(Oe-(E.dropShadow?E.dropShadowDistance:0)-(E.stroke?E.strokeThickness:0))}),A+=(ye+2*s)*a,A=Math.ceil(A)}}te=0;for(var nt=g.length;te<nt;te++)for(var it=g[te],Ze=0;Ze<nt;Ze++){var xt=g[Ze],$e=Y.measureText(it).width,De=Y.measureText(xt).width,ht=Y.measureText(it+xt).width-($e+De);ht&&P.kerning.push({first:h0(it),second:h0(xt),amount:ht})}var Pt=new n(P,ae,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=Pt,Pt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),Kie=[],qie=[],XB=[],C_=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var o=Object.assign({},t.styleDefaults,i),s=o.align,a=o.tint,l=o.maxWidth,c=o.letterSpacing,g=o.fontName,E=o.fontSize;if(!Zl.available[g])throw new Error('Missing BitmapFont "'+g+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=s,r._tint=a,r._fontName=g,r._fontSize=E||Zl.available[g].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new Ku(function(){r.dirty=!0},r,0,0),r._roundPixels=ct.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function jie(n,t){function e(){this.constructor=n}GO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=Zl.available[this._fontName],r=this._fontSize/i.size,o=new Ni,s=[],a=[],l=[],g=$B(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),E=this._maxWidth*i.size/this._fontSize,w="none"===i.distanceFieldType?Kie:qie,P=null,A=0,D=0,B=0,Y=-1,K=0,re=0,ae=0,te=0,ne=0;ne<g.length;ne++){var Ie=h0(Oe=g[ne]);if(/(?:\s)/.test(Oe)&&(Y=ne,K=A,te++),"\r"!==Oe&&"\n"!==Oe){var ye=i.chars[Ie];if(ye){P&&ye.kerning[P]&&(o.x+=ye.kerning[P]);var Ve=XB.pop()||{texture:Gt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ni};Ve.texture=ye.texture,Ve.line=B,Ve.charCode=Ie,Ve.position.x=o.x+ye.xOffset+this._letterSpacing/2,Ve.position.y=o.y+ye.yOffset,Ve.prevSpaces=te,s.push(Ve),A=Ve.position.x+ye.texture.orig.width,o.x+=ye.xAdvance+this._letterSpacing,ae=Math.max(ae,ye.yOffset+ye.texture.height),P=Ie,-1!==Y&&E>0&&o.x>E&&($u(s,1+Y-++re,1+ne-Y),ne=Y,Y=-1,a.push(K),l.push(s.length>0?s[s.length-1].prevSpaces:0),D=Math.max(D,K),B++,o.x=0,o.y+=i.lineHeight,P=null,te=0)}}else a.push(A),l.push(-1),D=Math.max(D,A),++B,++re,o.x=0,o.y+=i.lineHeight,P=null,te=0}var nt=g[g.length-1];"\r"!==nt&&"\n"!==nt&&(/(?:\s)/.test(nt)&&(A=K),a.push(A),D=Math.max(D,A),l.push(-1));var it=[];for(ne=0;ne<=B;ne++){var Ze=0;"right"===this._align?Ze=D-a[ne]:"center"===this._align?Ze=(D-a[ne])/2:"justify"===this._align&&(Ze=l[ne]<0?0:(D-a[ne])/l[ne]),it.push(Ze)}var xt=s.length,$e={},De=[],Ke=this._activePagesMeshData;for(ne=0;ne<Ke.length;ne++)w.push(Ke[ne]);for(ne=0;ne<xt;ne++){var Pt=(ht=s[ne].texture).baseTexture.uid;if(!$e[Pt]){if(!(We=w.pop())){var bt=new S_,Dt=void 0,Nt=void 0;"none"===i.distanceFieldType?(Dt=new lh(Gt.EMPTY),Nt=Ue.NORMAL):(Dt=new lh(Gt.EMPTY,{program:Kf.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),Nt=Ue.NORMAL_NPM);var Rt=new Zs(bt,Dt);Rt.blendMode=Nt,We={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Rt,vertices:null,uvs:null,indices:null}}We.index=0,We.indexCount=0,We.vertexCount=0,We.uvsCount=0,We.total=0;var ci=this._textureCache;ci[Pt]=ci[Pt]||new Gt(ht.baseTexture),We.mesh.texture=ci[Pt],We.mesh.tint=this._tint,De.push(We),$e[Pt]=We}$e[Pt].total++}for(ne=0;ne<Ke.length;ne++)-1===De.indexOf(Ke[ne])&&this.removeChild(Ke[ne].mesh);for(ne=0;ne<De.length;ne++)De[ne].mesh.parent!==this&&this.addChild(De[ne].mesh);for(var ne in this._activePagesMeshData=De,$e){var Un=(We=$e[ne]).total;if(!((null===(e=We.indices)||void 0===e?void 0:e.length)>6*Un)||We.vertices.length<2*Zs.BATCHABLE_SIZE)We.vertices=new Float32Array(8*Un),We.uvs=new Float32Array(8*Un),We.indices=new Uint16Array(6*Un);else for(var Yn=We.vertices,Sn=4*We.total*2;Sn<Yn.length;Sn++)Yn[Sn]=0;We.mesh.size=6*Un}for(ne=0;ne<xt;ne++){var Oe,hn=(Oe=s[ne]).position.x+it[Oe.line]*("justify"===this._align?Oe.prevSpaces:1);this._roundPixels&&(hn=Math.round(hn));var ht,tn=hn*r,Wn=Oe.position.y*r,nn=$e[(ht=Oe.texture).baseTexture.uid],so=ht.frame,di=ht._uvs,kn=nn.index++;nn.indices[6*kn+0]=0+4*kn,nn.indices[6*kn+1]=1+4*kn,nn.indices[6*kn+2]=2+4*kn,nn.indices[6*kn+3]=0+4*kn,nn.indices[6*kn+4]=2+4*kn,nn.indices[6*kn+5]=3+4*kn,nn.vertices[8*kn+0]=tn,nn.vertices[8*kn+1]=Wn,nn.vertices[8*kn+2]=tn+so.width*r,nn.vertices[8*kn+3]=Wn,nn.vertices[8*kn+4]=tn+so.width*r,nn.vertices[8*kn+5]=Wn+so.height*r,nn.vertices[8*kn+6]=tn,nn.vertices[8*kn+7]=Wn+so.height*r,nn.uvs[8*kn+0]=di.x0,nn.uvs[8*kn+1]=di.y0,nn.uvs[8*kn+2]=di.x1,nn.uvs[8*kn+3]=di.y1,nn.uvs[8*kn+4]=di.x2,nn.uvs[8*kn+5]=di.y2,nn.uvs[8*kn+6]=di.x3,nn.uvs[8*kn+7]=di.y3}for(var ne in this._textWidth=D*r,this._textHeight=(o.y+i.lineHeight)*r,$e){var We=$e[ne];if(0!==this.anchor.x||0!==this.anchor.y)for(var Il=0,zp=this._textWidth*this.anchor.x,x1=this._textHeight*this.anchor.y,W6=0;W6<We.total;W6++)We.vertices[Il++]-=zp,We.vertices[Il++]-=x1,We.vertices[Il++]-=zp,We.vertices[Il++]-=x1,We.vertices[Il++]-=zp,We.vertices[Il++]-=x1,We.vertices[Il++]-=zp,We.vertices[Il++]-=x1;this._maxLineHeight=ae*r;var z6=We.mesh.geometry.getBuffer("aVertexPosition"),$6=We.mesh.geometry.getBuffer("aTextureCoord"),X6=We.mesh.geometry.getIndex();z6.data=We.vertices,$6.data=We.uvs,X6.data=We.indices,z6.update(),$6.update(),X6.update()}for(ne=0;ne<s.length;ne++)XB.push(s[ne])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=Zl.available[this._fontName],r=i.distanceFieldRange,s=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,c=a.b,g=a.c,E=a.d,w=Math.sqrt(l*l+c*c),P=Math.sqrt(g*g+E*E),A=(Math.abs(w)+Math.abs(P))/2,D=this._fontSize/s,B=0,Y=this._activePagesMeshData;B<Y.length;B++)Y[B].mesh.shader.uniforms.uFWidth=A*r*D*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Zl.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Xi),KB=function(){function n(){}return n.add=function(){tr.setExtensionXhrType("fnt",tr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=zB(t.data);if(i)for(var r=n.getBaseUrl(this,t),o=i.parse(t.data),s={},a=function(D){s[D.metadata.pageFile]=D.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=Zl.install(o,s,!0),e())},l=0;l<o.page.length;++l){var c=o.page[l].file,g=r+c,E=!1;for(var w in this.resources){var P=this.resources[w];if(P.url===g){P.metadata.pageFile=c,P.texture?a(P):P.onAfterMiddleware.add(a),E=!0;break}}if(!E){var A={crossOrigin:t.crossOrigin,loadType:tr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(g,A,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),HO=function(n,t){return(HO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Zie=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,zF,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function Jie(n,t){function e(){this.constructor=n}HO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Jl),YO=function(n,t){return(YO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function qB(n,t){function e(){this.constructor=n}YO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var nre={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ire=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),tp=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(tp||(tp={})),tp))(),WO=function(n){function t(e,i,r,o,s){void 0===i&&(i=8),void 0===r&&(r=4),void 0===o&&(o=ct.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,l=function tre(n,t){var o,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<n;s++){var a=o.replace("%index%",s.toString());r+=a=a.replace("%sampleIndex%",s-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s,e),c=function rre(n){for(var s,t=nre[n],e=t.length,i=ire,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=e&&(s=n-a-1),r+=l=l.replace("%value%",t[s].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s);return(a=n.call(this,l,c)||this).horizontal=e,a.resolution=o,a._quality=0,a.quality=r,a.blur=i,a}return qB(t,n),t.prototype.apply=function(e,i,r,o){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,o);else{var s=e.getFilterTexture(),a=e.renderer,l=i,c=s;this.state.blend=!1,e.applyFilter(this,l,c,tp.CLEAR);for(var g=1;g<this.passes-1;g++){e.bindAndClear(l,tp.BLIT),this.uniforms.uSampler=c;var E=c;c=l,l=E,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,o),e.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Jl),ore=function(n){function t(e,i,r,o){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=ct.FILTER_RESOLUTION),void 0===o&&(o=5);var s=n.call(this)||this;return s.blurXFilter=new WO(!0,e,i,r,o),s.blurYFilter=new WO(!1,e,i,r,o),s.resolution=r,s.quality=i,s.blur=e,s.repeatEdgePixels=!1,s}return qB(t,n),t.prototype.apply=function(e,i,r,o){var s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,tp.CLEAR),this.blurYFilter.apply(e,l,r,o),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,o):this.blurXFilter.apply(e,i,r,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Jl),zO=function(n,t){return(zO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},$O=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,cO,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function sre(n,t){function e(){this.constructor=n}zO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),o=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*o,a*(1-r)+l*o,0,0,a*(1-r)+l*o,r+a*(1-r),a*(1-r)-l*o,0,0,a*(1-r)-l*o,a*(1-r)+l*o,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,o=-.5*(r-1);this._loadMatrix([r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,o=-.5*(r-1);this._loadMatrix([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,o,s){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,g=((o=o||3375104)>>16&255)/255,E=(o>>8&255)/255,w=(255&o)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,c,e=e||.2,0,g,E,w,i=i||.15,0,a-g,l-E,c-w,0,0],s)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Jl);$O.prototype.grayscale=$O.prototype.greyscale;var XO=function(n,t){return(XO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},hre=function(n){function t(e,i){var r=this,o=new pi;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=o,null==i&&(i=20),r.scale=new Ni(i,i),r}return function lre(n,t){function e(){this.constructor=n}XO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Jl),KO=function(n,t){return(KO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},gre=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function dre(n,t){function e(){this.constructor=n}KO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(Jl),qO=function(n,t){return(qO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},vre=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,cO,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function _re(n,t){function e(){this.constructor=n}qO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Jl),d0=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(d0||(d0={})),d0))(),JB=new pi;er.prototype._cacheAsBitmap=!1,er.prototype._cacheData=null,er.prototype._cacheAsBitmapResolution=null,er.prototype._cacheAsBitmapMultisample=d0.NONE;var yre=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(er.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new yre),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),er.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},er.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(ct.RESOLUTION);var s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,g=Js.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),E="cacheAsBitmap_"+Kc();this._cacheData.textureCacheId=E,Qn.addToCache(g.baseTexture,E),Gt.addToCache(g,E);var w=this.transform.localTransform.copyTo(JB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:g,clear:!0,transform:w,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var P=new Yo(g);P.transform.worldTransform=this.transform.worldTransform,P.anchor.x=-r.x/r.width,P.anchor.y=-r.y/r.height,P.alpha=i,P._bounds=this._bounds,this._cacheData.sprite=P,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=P.containsPoint.bind(P)}},er.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},er.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,o=t._projTransform;e.ceil(ct.RESOLUTION);var s=Js.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+Kc();this._cacheData.textureCacheId=a,Qn.addToCache(s.baseTexture,a),Gt.addToCache(s,a);var l=JB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new Yo(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},er.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},er.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},er.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Qn.removeFromCache(this._cacheData.textureCacheId),Gt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},er.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},er.prototype.name=null,Xi.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var s=this.children[i].getChildByName(t,!0);if(s)return s}return null},er.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Ni),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var JO=function(n,t){return(JO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function np(n,t){function e(){this.constructor=n}JO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var QB=function(n){function t(e,i,r,o){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===o&&(o=10);var s=n.call(this)||this;return s.segWidth=r,s.segHeight=o,s.width=e,s.height=i,s.build(),s}return np(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],o=[],s=this.segWidth-1,a=this.segHeight-1,l=this.width/s,c=this.height/a,g=0;g<e;g++){var E=g%this.segWidth,w=g/this.segWidth|0;i.push(E*l,w*c),r.push(E/s,w/a)}var P=s*a;for(g=0;g<P;g++){var A=g%s,D=g/s|0,Y=D*this.segWidth+A+1,K=(D+1)*this.segWidth+A;o.push(D*this.segWidth+A,Y,K,Y,(D+1)*this.segWidth+A+1,K)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(S_),ZB=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var o=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return o.points=i,o._width=e,o.textureScale=r,o.build(),o}return np(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var s=r.data,a=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var l=0,c=e[0],g=this._width*this.textureScale,E=e.length,w=0;w<E;w++){var P=4*w;if(this.textureScale>0){var A=c.x-e[w].x,D=c.y-e[w].y,B=Math.sqrt(A*A+D*D);c=e[w],l+=B/g}else l=w/(E-1);s[P]=l,s[P+1]=0,s[P+2]=l,s[P+3]=1}var Y=0;for(w=0;w<E-1;w++)a[Y++]=P=2*w,a[Y++]=P+1,a[Y++]=P+2,a[Y++]=P+2,a[Y++]=P+1,a[Y++]=P+3;r.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],o=0,s=0,a=this.buffers[0].data,l=e.length,c=0;c<l;c++){var g=e[c],E=4*c;s=-((r=c<e.length-1?e[c+1]:g).x-i.x),o=r.y-i.y;var w=Math.sqrt(o*o+s*s),P=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=w,s/=w,s*=P,a[E]=g.x+(o*=P),a[E+1]=g.y+s,a[E+2]=g.x-o,a[E+3]=g.y-s,i=g}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(S_),e3=function(n){function t(e,i,r){void 0===r&&(r=0);var o=this,s=new ZB(e.height,i,r),a=new lh(e);return r>0&&(e.baseTexture.wrapMode=Ks.REPEAT),(o=n.call(this,s,a)||this).autoUpdate=!0,o}return np(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(Zs),t3=function(n){function t(e,i,r){var o=this,s=new QB(e.width,e.height,i,r),a=new lh(Gt.WHITE);return(o=n.call(this,s,a)||this).texture=e,o.autoResize=!0,o}return np(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(Zs),n3=function(n){function t(e,i,r,o,s){void 0===e&&(e=Gt.EMPTY);var a=this,l=new S_(i,r,o);l.getBuffer("aVertexPosition").static=!1;var c=new lh(e);return(a=n.call(this,l,c,null,s)||this).autoUpdate=!0,a}return np(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(Zs),O_=function(n){function t(e,i,r,o,s){void 0===i&&(i=10),void 0===r&&(r=10),void 0===o&&(o=10),void 0===s&&(s=10);var a=n.call(this,Gt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=o,a._topHeight=r,a._bottomHeight=s,a.texture=e,a}return np(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,o=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=o*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(t3),QO=function(n,t){return(QO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},r3=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof Gt?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function bre(n,t){function e(){this.constructor=n}QO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(to.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(to.shared.add(this.update,this,Ba.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Gt.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Gt.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Gt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(to.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(to.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Yo);La.registerPlugin("accessibility",TC),La.registerPlugin("extract",iB),La.registerPlugin("interaction",wC),La.registerPlugin("particle",OB),La.registerPlugin("prepare",BB),La.registerPlugin("batch",QF),La.registerPlugin("tilingSprite",HB),wo.registerPlugin(KB),wo.registerPlugin(pB),wo.registerPlugin(mB),wo.registerPlugin(EB),wo.registerPlugin(UB),p_.registerPlugin(dF),p_.registerPlugin(cB);var Ere="6.2.2",Sre={AlphaFilter:Zie,BlurFilter:ore,BlurFilterPass:WO,ColorMatrixFilter:$O,DisplacementFilter:hre,FXAAFilter:gre,NoiseFilter:vre},ZO=function(n,t){return(ZO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Cre=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var o=e.context;o.beginPath();for(var s=0;s<r.length;s++){var a=r[s];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,o.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var o=0;o<r;o++){var s=i[o],a=s.shape;if(a.type===ni.POLY){var l=a.points,c=s.holes,g=void 0,E=void 0,w=void 0,P=void 0;e.moveTo(l[0],l[1]);for(var A=1;A<l.length/2;A++)e.lineTo(l[2*A],l[2*A+1]);if(c.length>0){for(g=0,w=l[0],P=l[1],A=2;A+2<l.length;A+=2)g+=(l[A]-w)*(l[A+3]-P)-(l[A+2]-w)*(l[A+1]-P);for(var D=0;D<c.length;D++)if(l=c[D].shape.points){for(E=0,w=l[0],P=l[1],A=2;A+2<l.length;A+=2)E+=(l[A]-w)*(l[A+3]-P)-(l[A+2]-w)*(l[A+1]-P);if(E*g<0)for(e.moveTo(l[0],l[1]),A=2;A<l.length;A+=2)e.lineTo(l[A],l[A+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),A=l.length-4;A>=0;A-=2)e.lineTo(l[A],l[A+1]);c[D].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===ni.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===ni.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===ni.ELIP){var B=2*a.width,Y=2*a.height,K=a.x-B/2,re=a.y-Y/2,ae=.5522848,te=B/2*ae,ne=Y/2*ae,Oe=K+B,Ie=re+Y,ye=K+B/2,Ve=re+Y/2;e.moveTo(K,Ve),e.bezierCurveTo(K,Ve-ne,ye-te,re,ye,re),e.bezierCurveTo(ye+te,re,Oe,Ve-ne,Oe,Ve),e.bezierCurveTo(Oe,Ve+ne,ye+te,Ie,ye,Ie),e.bezierCurveTo(ye-te,Ie,K,Ve+ne,K,Ve),e.closePath()}else if(a.type===ni.RREC){var nt=a.x,it=a.y,Ze=a.width,xt=a.height,$e=a.radius,De=Math.min(Ze,xt)/2;e.moveTo(nt,it+($e=$e>De?De:$e)),e.lineTo(nt,it+xt-$e),e.quadraticCurveTo(nt,it+xt,nt+$e,it+xt),e.lineTo(nt+Ze-$e,it+xt),e.quadraticCurveTo(nt+Ze,it+xt,nt+Ze,it+xt-$e),e.lineTo(nt+Ze,it+$e),e.quadraticCurveTo(nt+Ze,it,nt+Ze-$e,it),e.lineTo(nt+$e,it),e.quadraticCurveTo(nt,it,nt,it+$e),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function o3(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function s3(){if("undefined"==typeof document)return!1;var n=o3("#ff00ff"),t=o3("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var o=r.data;return 255===o[0]&&0===o[1]&&0===o[2]}var Mre=new pi,pl=function(n){function t(e){var i=n.call(this,Fa.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new Cre(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function Ore(n){return void 0===n&&(n=[]),s3()?(n[Ue.NORMAL]="source-over",n[Ue.ADD]="lighter",n[Ue.MULTIPLY]="multiply",n[Ue.SCREEN]="screen",n[Ue.OVERLAY]="overlay",n[Ue.DARKEN]="darken",n[Ue.LIGHTEN]="lighten",n[Ue.COLOR_DODGE]="color-dodge",n[Ue.COLOR_BURN]="color-burn",n[Ue.HARD_LIGHT]="hard-light",n[Ue.SOFT_LIGHT]="soft-light",n[Ue.DIFFERENCE]="difference",n[Ue.EXCLUSION]="exclusion",n[Ue.HUE]="hue",n[Ue.SATURATION]="saturate",n[Ue.COLOR]="color",n[Ue.LUMINOSITY]="luminosity"):(n[Ue.NORMAL]="source-over",n[Ue.ADD]="lighter",n[Ue.MULTIPLY]="source-over",n[Ue.SCREEN]="source-over",n[Ue.OVERLAY]="source-over",n[Ue.DARKEN]="source-over",n[Ue.LIGHTEN]="source-over",n[Ue.COLOR_DODGE]="source-over",n[Ue.COLOR_BURN]="source-over",n[Ue.HARD_LIGHT]="source-over",n[Ue.SOFT_LIGHT]="source-over",n[Ue.DIFFERENCE]="source-over",n[Ue.EXCLUSION]="source-over",n[Ue.HUE]="source-over",n[Ue.SATURATION]="source-over",n[Ue.COLOR]="source-over",n[Ue.LUMINOSITY]="source-over"),n[Ue.NORMAL_NPM]=n[Ue.NORMAL],n[Ue.ADD_NPM]=n[Ue.ADD],n[Ue.SCREEN_NPM]=n[Ue.SCREEN],n[Ue.SRC_IN]="source-in",n[Ue.SRC_OUT]="source-out",n[Ue.SRC_ATOP]="source-atop",n[Ue.DST_OVER]="destination-over",n[Ue.DST_IN]="destination-in",n[Ue.DST_OUT]="destination-out",n[Ue.DST_ATOP]="destination-atop",n[Ue.XOR]="xor",n[Ue.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),cC("Canvas"),i.resize(i.options.width,i.options.height),i}return function Tre(n,t){function e(){this.constructor=n}ZO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,o,s,a;i&&(i instanceof Js||i instanceof c_?(ul("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new Wf(r.width,r.height,r.resolution),r.resource=new l_(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var c=this.context;if(this._projTransform=s||null,r||(this._lastObjectRendered=e),!a){var g=e.enableTempParent();e.updateTransform(),e.disableTempParent(g)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,this._activeBlendMode=Ue.NORMAL,this._outerBlend=!1,c.globalCompositeOperation=this.blendModes[Ue.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)c.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(c.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,c.fillStyle=this._backgroundColorString,c.fillRect(0,0,this.width,this.height),c.globalAlpha=1);else{(r=r)._canvasRenderTarget.clear();var E=r.clearColor;E[3]>0&&(c.globalAlpha=this.useContextAlpha?E[3]:1,c.fillStyle=Py(hC(E)),c.fillRect(0,0,r.realWidth,r.realHeight),c.globalAlpha=1)}var w=this.context;this.context=c,e.renderCanvas(this),this.context=w,c.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var o=e,s=this._projTransform,a=this.resolution;r=r||a,s&&((o=Mre).copyFrom(e),o.prepend(s)),i?this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a|0,o.ty*a|0):this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a,o.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===Ue.SRC_IN||e===Ue.SRC_OUT||e===Ue.DST_IN||e===Ue.DST_ATOP;!i&&r&&(e=Ue.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=ct.SCALE_MODE===Rr.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(lO),Mr={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=Mr.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var o,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];o=e.tintCache[i]}else o=document.createElement("canvas");if(Mr.tintMethod(e,t,o),o.tintId=e._updateID,Mr.convertTintToImage){var s=new Image;s.src=o.toDataURL(),e.tintCache[i]=s}else e.tintCache[i]=o;return o},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=Mr.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(Mr.canvas||(Mr.canvas=document.createElement("canvas")),Mr.tintMethod(n,t,Mr.canvas),(i=Mr.canvas.getContext("2d").createPattern(Mr.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var s=n.baseTexture.getDrawableSource();i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var s=Kl(t),a=s[0],l=s[1],c=s[2],g=i.getImageData(0,0,r.width,r.height),E=g.data,w=0;w<E.length;w+=4)E[w+0]*=a,E[w+1]*=l,E[w+2]*=c;i.putImageData(g,0,0)},roundColor:function(n){var t=Mr.cacheStepsPerColorChannel,e=Kl(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),hC(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:s3(),tintMethod:null};Mr.tintMethod=Mr.canUseMultiply?Mr.tintWithMultiply:Mr.tintWithPerPixel;var wre=La.create;La.create=function(t){if(!t||!t.forceCanvas)try{return wre(t)}catch(i){}return new pl(t)},Qn.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},c_.prototype._canvasRenderTarget=null,Gt.prototype.patternCache=null,Gt.prototype.tintCache=null;var eM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tM(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function Pre(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var nM=tM(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,c,g){this.fn=l,this.context=c,this.once=g||!1}function o(l,c,g,E,w){if("function"!=typeof g)throw new TypeError("The listener must be a function");var P=new r(g,E||l,w),A=e?e+c:c;return l._events[A]?l._events[A].fn?l._events[A]=[l._events[A],P]:l._events[A].push(P):(l._events[A]=P,l._eventsCount++),l}function s(l,c){0==--l._eventsCount?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var g,E,c=[];if(0===this._eventsCount)return c;for(E in g=this._events)t.call(g,E)&&c.push(e?E.slice(1):E);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(g)):c},a.prototype.listeners=function(c){var E=this._events[e?e+c:c];if(!E)return[];if(E.fn)return[E.fn];for(var w=0,P=E.length,A=new Array(P);w<P;w++)A[w]=E[w].fn;return A},a.prototype.listenerCount=function(c){var E=this._events[e?e+c:c];return E?E.fn?1:E.length:0},a.prototype.emit=function(c,g,E,w,P,A){var D=arguments,B=e?e+c:c;if(!this._events[B])return!1;var re,ae,Y=this._events[B],K=arguments.length;if(Y.fn){switch(Y.once&&this.removeListener(c,Y.fn,void 0,!0),K){case 1:return Y.fn.call(Y.context),!0;case 2:return Y.fn.call(Y.context,g),!0;case 3:return Y.fn.call(Y.context,g,E),!0;case 4:return Y.fn.call(Y.context,g,E,w),!0;case 5:return Y.fn.call(Y.context,g,E,w,P),!0;case 6:return Y.fn.call(Y.context,g,E,w,P,A),!0}for(ae=1,re=new Array(K-1);ae<K;ae++)re[ae-1]=D[ae];Y.fn.apply(Y.context,re)}else{var ne,te=Y.length;for(ae=0;ae<te;ae++)switch(Y[ae].once&&this.removeListener(c,Y[ae].fn,void 0,!0),K){case 1:Y[ae].fn.call(Y[ae].context);break;case 2:Y[ae].fn.call(Y[ae].context,g);break;case 3:Y[ae].fn.call(Y[ae].context,g,E);break;case 4:Y[ae].fn.call(Y[ae].context,g,E,w);break;default:if(!re)for(ne=1,re=new Array(K-1);ne<K;ne++)re[ne-1]=D[ne];Y[ae].fn.apply(Y[ae].context,re)}}return!0},a.prototype.on=function(c,g,E){return o(this,c,g,E,!1)},a.prototype.once=function(c,g,E){return o(this,c,g,E,!0)},a.prototype.removeListener=function(c,g,E,w){var P=e?e+c:c;if(!this._events[P])return this;if(!g)return s(this,P),this;var A=this._events[P];if(A.fn)A.fn===g&&(!w||A.once)&&(!E||A.context===E)&&s(this,P);else{for(var D=0,B=[],Y=A.length;D<Y;D++)(A[D].fn!==g||w&&!A[D].once||E&&A[D].context!==E)&&B.push(A[D]);B.length?this._events[P]=1===B.length?B[0]:B:s(this,P)}return this},a.prototype.removeAllListeners=function(c){var g;return c?this._events[g=e?e+c:c]&&s(this,g):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),Are=tM(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,o="object"==typeof eM&&eM;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,Oe,a=2147483647,l=36,B=/^xn--/,Y=/[^\x20-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,re={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,ne=String.fromCharCode;function Ie(We){throw RangeError(re[We])}function ye(We,bt){for(var Dt=We.length,Nt=[];Dt--;)Nt[Dt]=bt(We[Dt]);return Nt}function Ve(We,bt){var Dt=We.split("@"),Nt="";return Dt.length>1&&(Nt=Dt[0]+"@",We=Dt[1]),Nt+ye((We=We.replace(K,".")).split("."),bt).join(".")}function nt(We){for(var Rt,ci,bt=[],Dt=0,Nt=We.length;Dt<Nt;)(Rt=We.charCodeAt(Dt++))>=55296&&Rt<=56319&&Dt<Nt?56320==(64512&(ci=We.charCodeAt(Dt++)))?bt.push(((1023&Rt)<<10)+(1023&ci)+65536):(bt.push(Rt),Dt--):bt.push(Rt);return bt}function it(We){return ye(We,function(bt){var Dt="";return bt>65535&&(Dt+=ne((bt-=65536)>>>10&1023|55296),bt=56320|1023&bt),Dt+ne(bt)}).join("")}function Ze(We){return We-48<10?We-22:We-65<26?We-65:We-97<26?We-97:l}function xt(We,bt){return We+22+75*(We<26)-((0!=bt)<<5)}function $e(We,bt,Dt){var Nt=0;for(We=Dt?te(We/700):We>>1,We+=te(We/bt);We>455;Nt+=l)We=te(We/35);return te(Nt+36*We/(We+38))}function De(We){var Nt,mn,Yn,Sn,hn,tn,Wn,nn,so,di,bt=[],Dt=We.length,Rt=0,ci=128,Un=72;for((mn=We.lastIndexOf("-"))<0&&(mn=0),Yn=0;Yn<mn;++Yn)We.charCodeAt(Yn)>=128&&Ie("not-basic"),bt.push(We.charCodeAt(Yn));for(Sn=mn>0?mn+1:0;Sn<Dt;){for(hn=Rt,tn=1,Wn=l;Sn>=Dt&&Ie("invalid-input"),((nn=Ze(We.charCodeAt(Sn++)))>=l||nn>te((a-Rt)/tn))&&Ie("overflow"),Rt+=nn*tn,!(nn<(so=Wn<=Un?1:Wn>=Un+26?26:Wn-Un));Wn+=l)tn>te(a/(di=l-so))&&Ie("overflow"),tn*=di;Un=$e(Rt-hn,Nt=bt.length+1,0==hn),te(Rt/Nt)>a-ci&&Ie("overflow"),ci+=te(Rt/Nt),Rt%=Nt,bt.splice(Rt++,0,ci)}return it(bt)}function Ke(We){var bt,Dt,Nt,Rt,ci,Un,mn,Yn,Sn,hn,tn,nn,so,di,kn,Wn=[];for(nn=(We=nt(We)).length,bt=128,Dt=0,ci=72,Un=0;Un<nn;++Un)(tn=We[Un])<128&&Wn.push(ne(tn));for(Nt=Rt=Wn.length,Rt&&Wn.push("-");Nt<nn;){for(mn=a,Un=0;Un<nn;++Un)(tn=We[Un])>=bt&&tn<mn&&(mn=tn);for(mn-bt>te((a-Dt)/(so=Nt+1))&&Ie("overflow"),Dt+=(mn-bt)*so,bt=mn,Un=0;Un<nn;++Un)if((tn=We[Un])<bt&&++Dt>a&&Ie("overflow"),tn==bt){for(Yn=Dt,Sn=l;!(Yn<(hn=Sn<=ci?1:Sn>=ci+26?26:Sn-ci));Sn+=l)Wn.push(ne(xt(hn+(kn=Yn-hn)%(di=l-hn),0))),Yn=te(kn/di);Wn.push(ne(xt(Yn,0))),ci=$e(Dt,so,Nt==Rt),Dt=0,++Nt}++Dt,++bt}return Wn.join("")}if(s={version:"1.3.2",ucs2:{decode:nt,encode:it},decode:De,encode:Ke,toASCII:function Pt(We){return Ve(We,function(bt){return Y.test(bt)?"xn--"+Ke(bt):bt})},toUnicode:function ht(We){return Ve(We,function(bt){return B.test(bt)?De(bt.slice(4).toLowerCase()):bt})}},i&&r)if(n.exports==i)r.exports=s;else for(Oe in s)s.hasOwnProperty(Oe)&&(i[Oe]=s[Oe]);else e.punycode=s}(eM)}),gl_isString=function(n){return"string"==typeof n},gl_isObject=function(n){return"object"==typeof n&&null!==n},gl_isNull=function(n){return null===n};function xre(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Rre=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var o=/\+/g;n=n.split(t=t||"&");var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var E,w,P,A,c=n[l].replace(o,"%20"),g=c.indexOf(e);g>=0?(E=c.substr(0,g),w=c.substr(g+1)):(E=c,w=""),P=decodeURIComponent(E),A=decodeURIComponent(w),xre(r,P)?Array.isArray(r[P])?r[P].push(A):r[P]=[r[P],A]:r[P]=A}return r},M_=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},Dre=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var o=encodeURIComponent(M_(r))+e;return Array.isArray(n[r])?n[r].map(function(s){return o+encodeURIComponent(M_(s))}).join(t):o+encodeURIComponent(M_(n[r]))}).join(t):i?encodeURIComponent(M_(i))+e+encodeURIComponent(M_(n)):""},iM=tM(function(n,t){t.decode=t.parse=Rre,t.encode=t.stringify=Dre}),Ire=p0;function ja(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Fre=/^([a-z0-9.+-]+:)/i,Bre=/:[0-9]*$/,Lre=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Gre=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),rM=["'"].concat(Gre),a3=["%","/","?",";","#"].concat(rM),l3=["/","?","#"],c3=/^[+a-z0-9A-Z_-]{0,63}$/,Vre=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Hre={javascript:!0,"javascript:":!0},oM={javascript:!0,"javascript:":!0},ip={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function p0(n,t,e){if(n&&gl_isObject(n)&&n instanceof ja)return n;var i=new ja;return i.parse(n,t,e),i}ja.prototype.parse=function(n,t,e){if(!gl_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",o=n.split(r);o[0]=o[0].replace(/\\/g,"/");var a=n=o.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=Lre.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?iM.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=Fre.exec(a);if(c){var g=(c=c[0]).toLowerCase();this.protocol=g,a=a.substr(c.length)}if(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===a.substr(0,2);E&&(!c||!oM[c])&&(a=a.substr(2),this.slashes=!0)}if(!oM[c]&&(E||c&&!ip[c])){for(var w=-1,P=0;P<l3.length;P++)-1!==(A=a.indexOf(l3[P]))&&(-1===w||A<w)&&(w=A);var D,B;for(-1!==(B=-1===w?a.lastIndexOf("@"):a.lastIndexOf("@",w))&&(D=a.slice(0,B),a=a.slice(B+1),this.auth=decodeURIComponent(D)),w=-1,P=0;P<a3.length;P++){var A;-1!==(A=a.indexOf(a3[P]))&&(-1===w||A<w)&&(w=A)}-1===w&&(w=a.length),this.host=a.slice(0,w),a=a.slice(w),this.parseHost(),this.hostname=this.hostname||"";var Y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Y)for(var K=this.hostname.split(/\./),re=(P=0,K.length);P<re;P++){var ae=K[P];if(ae&&!ae.match(c3)){for(var te="",ne=0,Oe=ae.length;ne<Oe;ne++)ae.charCodeAt(ne)>127?te+="x":te+=ae[ne];if(!te.match(c3)){var Ie=K.slice(0,P),ye=K.slice(P+1),Ve=ae.match(Vre);Ve&&(Ie.push(Ve[1]),ye.unshift(Ve[2])),ye.length&&(a="/"+ye.join(".")+a),this.hostname=Ie.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Y||(this.hostname=Are.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Hre[g])for(P=0,re=rM.length;P<re;P++){var Ze=rM[P];if(-1!==a.indexOf(Ze)){var xt=encodeURIComponent(Ze);xt===Ze&&(xt=escape(Ze)),a=a.split(Ze).join(xt)}}var $e=a.indexOf("#");-1!==$e&&(this.hash=a.substr($e),a=a.slice(0,$e));var De=a.indexOf("?");return-1!==De?(this.search=a.substr(De),this.query=a.substr(De+1),t&&(this.query=iM.parse(this.query)),a=a.slice(0,De)):t&&(this.search="",this.query={}),a&&(this.pathname=a),ip[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ja.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&gl_isObject(this.query)&&Object.keys(this.query).length&&(o=iM.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||ip[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},ja.prototype.resolve=function(n){return this.resolveObject(p0(n,!1,!0)).format()},ja.prototype.resolveObject=function(n){if(gl_isString(n)){var t=new ja;t.parse(n,!1,!0),n=t}for(var e=new ja,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];e[o]=this[o]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(e[l]=n[l])}return ip[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!ip[n.protocol]){for(var c=Object.keys(n),g=0;g<c.length;g++){var E=c[g];e[E]=n[E]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||oM[n.protocol])e.pathname=n.pathname;else{for(var re=(n.pathname||"").split("/");re.length&&!(n.host=re.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==re[0]&&re.unshift(""),re.length<2&&re.unshift(""),e.pathname=re.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var A=e.pathname&&"/"===e.pathname.charAt(0),D=n.host||n.pathname&&"/"===n.pathname.charAt(0),B=D||A||e.host&&n.pathname,Y=B,K=e.pathname&&e.pathname.split("/")||[],ae=(re=n.pathname&&n.pathname.split("/")||[],e.protocol&&!ip[e.protocol]);if(ae&&(e.hostname="",e.port=null,e.host&&(""===K[0]?K[0]=e.host:K.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===re[0]?re[0]=n.host:re.unshift(n.host)),n.host=null),B=B&&(""===re[0]||""===K[0])),D)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,K=re;else if(re.length)K||(K=[]),K.pop(),K=K.concat(re),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return ae&&(e.hostname=e.host=K.shift(),(te=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=te.shift(),e.host=e.hostname=te.shift())),e.search=n.search,e.query=n.query,(!gl_isNull(e.pathname)||!gl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!K.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var ne=K.slice(-1)[0],Oe=(e.host||n.host||K.length>1)&&("."===ne||".."===ne)||""===ne,Ie=0,ye=K.length;ye>=0;ye--)"."===(ne=K[ye])?K.splice(ye,1):".."===ne?(K.splice(ye,1),Ie++):Ie&&(K.splice(ye,1),Ie--);if(!B&&!Y)for(;Ie--;Ie)K.unshift("..");B&&""!==K[0]&&(!K[0]||"/"!==K[0].charAt(0))&&K.unshift(""),Oe&&"/"!==K.join("/").substr(-1)&&K.push("");var te,Ve=""===K[0]||K[0]&&"/"===K[0].charAt(0);return ae&&(e.hostname=e.host=Ve?"":K.length?K.shift():"",(te=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=te.shift(),e.host=e.hostname=te.shift())),(B=B||e.host&&K.length)&&!Ve&&K.unshift(""),K.length?e.pathname=K.join("/"):(e.pathname=null,e.path=null),(!gl_isNull(e.pathname)||!gl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},ja.prototype.parseHost=function(){var n=this.host,t=Bre.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var zre={parse:Ire,format:function Yre(n){return gl_isString(n)&&(n=p0(n)),n instanceof ja?n.format():ja.prototype.format.call(n)},resolve:function Wre(n,t){return p0(n,!1,!0).resolve(t)}};ct.RETINA_PREFIX=/@([0-9\.]+)x/,ct.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var sM,u3=!1,Qre=function Jre(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ue.NORMAL_NPM]=Ue.NORMAL,n[Ue.ADD_NPM]=Ue.ADD,n[Ue.SCREEN_NPM]=Ue.SCREEN,t[Ue.NORMAL]=Ue.NORMAL_NPM,t[Ue.ADD]=Ue.ADD_NPM,t[Ue.SCREEN]=Ue.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function d3(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function g0(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function f3(n){return!(n&n-1||!n)}function p3(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var toe=0;function w_(){return++toe}var g3={};function ch(n,t,e){if(void 0===e&&(e=3),!g3[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),g3[t]=!0}}var _0,_3={},ec=Object.create(null),uh=Object.create(null);function m3(n,t){var e=ct.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||ct.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var Po=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,g=c.name,E=c.items;this._aliasCount++;for(var w=0,P=E.length;w<P;w++)E[w][g](t,e,i,r,o,s,a,l);return E===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Po.prototype,{dispatch:{value:Po.prototype.emit},run:{value:Po.prototype.emit}}),ct.TARGET_FPMS=.06;var P_=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(P_||(P_={})),P_))(),aM=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),rp=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new aM(null,null,1/0),this.deltaMS=1/ct.TARGET_FPMS,this.elapsedMS=1/ct.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=P_.NORMAL),this._addListener(new aM(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=P_.NORMAL),this._addListener(new aM(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ct.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,ct.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),ioe=2*Math.PI,m0=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(m0||(m0={})),m0))(),Ao=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=m0.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Qc=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),v0=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),Ms=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Qc;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Qc;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(ioe-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),hh=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],dh=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],fh=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ph=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],lM=[],v3=[],y0=Math.sign;!function roe(){for(var n=0;n<16;n++){var t=[];lM.push(t);for(var e=0;e<16;e++)for(var i=y0(hh[n]*hh[e]+fh[n]*dh[e]),r=y0(dh[n]*hh[e]+ph[n]*dh[e]),o=y0(hh[n]*fh[e]+fh[n]*ph[e]),s=y0(dh[n]*fh[e]+ph[n]*ph[e]),a=0;a<16;a++)if(hh[a]===i&&dh[a]===r&&fh[a]===o&&ph[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new Ms;l.set(hh[n],dh[n],fh[n],ph[n],0,0),v3.push(l)}}();var nr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return hh[n]},uY:function(n){return dh[n]},vX:function(n){return fh[n]},vY:function(n){return ph[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return lM[n][t]},sub:function(n,t){return lM[n][nr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?nr.S:nr.N:2*Math.abs(t)<=Math.abs(n)?n>0?nr.E:nr.W:t>0?n>0?nr.SE:nr.SW:n>0?nr.NE:nr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=v3[nr.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new Ms,this.localTransform=new Ms,this.position=new v0(this.onChange,this,0,0),this.scale=new v0(this.onChange,this,1,1),this.pivot=new v0(this.onChange,this,0,0),this.skew=new v0(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),ct.PREFER_ENV=Ts.any?Zr.WEBGL:Zr.WEBGL2,ct.STRICT_TEXTURE_CACHE=!1;var b0=[];function cM(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=b0.length-1;r>=0;--r){var o=b0[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var uM=function(n,t){return(uM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Fi(n,t){function e(){this.constructor=n}uM(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var hM=function(){return hM=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},hM.apply(this,arguments)},op=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Po("setRealSize"),this.onUpdate=new Po("update"),this.onError=new Po("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),E0=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return Fi(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(op),soe={scaleMode:Rr.NEAREST,format:Ye.RGBA,alphaMode:eo.NPM},Yr=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,g=i.height,E=i.wrapMode,w=i.format,P=i.type,A=i.target,D=i.resolution;return e&&!(e instanceof op)&&((e=cM(e,i.resourceOptions)).internal=!0),r.resolution=D||ct.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((g||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:ct.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:ct.ANISOTROPIC_LEVEL,r._wrapMode=E||ct.WRAP_MODE,r._scaleMode=void 0!==l?l:ct.SCALE_MODE,r.format=w||Ye.RGBA,r.type=P||yt.UNSIGNED_BYTE,r.target=A||es.TEXTURE_2D,r.alphaMode=void 0!==o?o:eo.UNPACK,r.uid=w_(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&g>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Fi(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=f3(this.realWidth)&&f3(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete uh[this.cacheId],delete ec[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=ct.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+w_()),s=e._pixiId);var l=uh[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new E0(e,{width:i,height:r}),a=e instanceof Float32Array?yt.FLOAT:yt.UNSIGNED_BYTE;return new t(s,Object.assign(soe,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),uh[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),uh[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=uh[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete uh[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete uh[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(nM),dM=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Yr;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Fi(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof op?e[r]:cM(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}),r=i.map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(op),y3=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return Fi(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=es.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var g=0;g<s;g++){var E=l[g];a[g]<E.dirtyId&&(a[g]=E.dirtyId,E.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,g,E.resource.width,E.resource.height,1,i.format,r.type,E.resource.source))}return!0},t}(dM),tc=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return Fi(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function noe(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,_0||(_0=document.createElement("a")),_0.href=n;var e=zre.parse(_0.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(op),fM=function(n){function t(e){return n.call(this,e)||this}return Fi(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(tc),b3=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var g=0;g<t.SIDES;g++)r.items[g].target=es.TEXTURE_CUBE_MAP_POSITIVE_X+g;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return Fi(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=es.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=es.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(dM),pM=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;tc.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:ct.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===eo.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(tc),E3=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;tc.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+w_(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(tc),S3=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),tc.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],g=c.src,E=c.mime,w=(g=g||e[a]).split("?").shift().toLowerCase(),P=w.substr(w.lastIndexOf(".")+1);E=E||t.MIME_TYPES[P]||"video/"+P,l.src=g,l.type=E,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-rp.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(rp.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(rp.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(rp.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(rp.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(rp.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(tc),T3=function(n){function t(e){return n.call(this,e)||this}return Fi(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(tc);b0.push(pM,T3,fM,S3,E3,E0,b3,y3);var C3={__proto__:null,Resource:op,BaseImageResource:tc,INSTALLED:b0,autoDetectResource:cM,AbstractMultiResource:dM,ArrayResource:y3,BufferResource:E0,CanvasResource:fM,CubeResource:b3,ImageResource:pM,SVGResource:E3,VideoResource:S3,ImageBitmapResource:T3},aoe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Fi(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===eo.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(E0),gM=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Po("disposeFramebuffer"),this.multisample=On.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Yr(null,{scaleMode:Rr.NEAREST,resolution:1,mipmap:Vo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Yr(new aoe(null,{width:this.width,height:this.height}),{scaleMode:Rr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vo.OFF,format:Ye.DEPTH_COMPONENT,type:yt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),O3=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:On.NONE,(i=n.call(this,null,e)||this).mipmap=Vo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new gM(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Fi(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Yr),M3=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=nr.add(i,nr.NW),this.x0=l+s*nr.uX(i),this.y0=c+a*nr.uY(i),i=nr.add(i,2),this.x1=l+s*nr.uX(i),this.y1=c+a*nr.uY(i),i=nr.add(i,2),this.x2=l+s*nr.uX(i),this.y2=c+a*nr.uY(i),i=nr.add(i,2),this.x3=l+s*nr.uX(i),this.y3=c+a*nr.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),w3=new M3,_l=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Ao(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=w3,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Qc(a.x,a.y):new Qc(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Fi(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&ec[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===w3&&(this._uvs=new M3),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=ct.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Yr?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+w_(),Yr.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+w_()),s=e._pixiId);var l=ec[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Yr?!l&&e instanceof Yr&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=m3(e)),(l=new t(new Yr(e,i))).baseTexture.cacheId=s,Yr.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Yr.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Yr(e,Object.assign({scaleMode:ct.SCALE_MODE,resolution:m3(i)},o)),a=s.resource;a instanceof pM&&(a.url=i);var l=new t(s);return r||(r=i),Yr.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Yr.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),ec[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),ec[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=ec[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete ec[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)ec[e.textureCacheIds[o]]===e&&delete ec[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(nM);function S0(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}_l.EMPTY=new _l(new Yr),S0(_l.EMPTY),S0(_l.EMPTY.baseTexture),_l.WHITE=function loe(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new _l(new Yr(new fM(n)))}(),S0(_l.WHITE),S0(_l.WHITE.baseTexture);var _M=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Fi(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(ch("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new O3(e))},t}(_l),coe=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=On.NONE);var r=new O3(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new _M(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=On.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=g0(t)))<<16|65535&(e=g0(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||On.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),P3=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=yt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),uoe=0,ws=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=uoe++,this.disposeRunner=new Po("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Ir.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Ir.ELEMENT_ARRAY_BUFFER:Ir.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),hoe={Float32Array,Uint32Array,Int32Array,Uint8Array},A3={5126:4,5123:2,5121:1},foe=0,poe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},mM=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=foe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Po("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ws||(e instanceof Array&&(e=new Float32Array(e)),e=new ws(e));var c=t.split("|");if(c.length>1){for(var g=0;g<c.length;g++)this.addAttribute(c[g],e,i,r,o);return this}var E=this.buffers.indexOf(e);return-1===E&&(this.buffers.push(e),E=this.buffers.length-1),this.attributes[t]=new P3(E,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof ws||(t instanceof Array&&(t=new Uint16Array(t)),t=new ws(t)),t.type=Ir.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new ws;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*A3[o.type]/4),o.buffer=0}for(i.data=function doe(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],g=n[o],E=d3(g);r[E]||(r[E]=new hoe[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/c|0)*i+l+w%c]=g[w];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new ws(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new P3(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(poe[d3(s.buffers[a].data)])(r[a]),e.buffers[a]=new ws(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER;var c=0,g=0,E=0,w=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){w=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===w&&(g+=P.size*A3[P.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+E]+=c;c+=t[a].buffers[w].data.length/g,E+=A.length}}return e},n}(),goe=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Fi(t,n),t}(mM),_oe=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new ws(e.vertices),e.uvBuffer=new ws(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Fi(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(mM),moe=0,sp=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=moe++,this.static=!!e,this.ubo=!!i,t instanceof ws?(this.buffer=t,this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ws(new Float32Array(1)),this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),voe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=On.NONE,this.sourceFrame=new Ao,this.destinationFrame=new Ao,this.bindingSourceFrame=new Ao,this.bindingDestinationFrame=new Ao,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),T0=[new Qc,new Qc,new Qc,new Qc],vM=new Ms,x3=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new coe,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new goe,this.quadUv=new _oe,this.tempRect=new Ao,this.activeState={},this.globalUniforms=new sp({outputFrame:new Ao,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new voe,l=this.renderer.renderTexture,c=e[0].resolution,g=e[0].multisample,E=e[0].padding,w=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,A=1;A<e.length;A++){var D=e[A];c=Math.min(c,D.resolution),g=Math.min(g,D.multisample),E=this.useMaxPadding?Math.max(E,D.padding):E+D.padding,w=w&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=g,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(E),w){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(vM.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,g),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Mo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var g=e.renderTexture,E=this.getOptimalFilterTexture(g.width,g.height,e.resolution);E.filterFrame=g.filterFrame;var w=0;for(w=0;w<i.length-1;++w){1===w&&e.multisample>1&&((E=this.getOptimalFilterTexture(g.width,g.height,e.resolution)).filterFrame=g.filterFrame),i[w].apply(this,g,E,Mo.CLEAR,e);var P=g;g=E,E=P}i[w].apply(this,g,c.renderTexture,Mo.BLEND,e),w>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(E)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Mo.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Mo.CLEAR||e===Mo.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(lo.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(lo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(Ms.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=On.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||On.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=T0[0],r=T0[1],o=T0[2],s=T0[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),g=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=g-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?vM.copyFrom(o):vM.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),R3=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),D3=function(){function n(t){this.renderer=t,this.emptyRenderer=new R3(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var g=o[c],E=g._batchLocation;if(E>=0&&E<r&&e[E]===g)s[c]=E;else for(;l<r;){var w=e[l];if(!w||w._batchEnabled!==i||w._batchLocation!==l){s[c]=l,g._batchLocation=l,e[l]=g;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),I3=0,N3=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=I3++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=I3++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(ct.PREFER_ENV>=Zr.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),yoe=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=On.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},boe=new Ao,k3=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new gM(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ao,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;ct.PREFER_ENV===Zr.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var g=(l=e.width>>i)/e.width;this.setViewport(e.x*g,e.y*g,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=$c.COLOR|$c.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new yoe(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],g=c.parentTextureArray||c;this.renderer.texture.bind(g,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,g._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var w=t.depthTexture;this.renderer.texture.bind(w,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=On.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=On.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var g=o.colorTextures[0];if(!g)return;c.blitFramebuffer||(c.blitFramebuffer=new gM(o.width,o.height),c.blitFramebuffer.addColorTexture(0,g)),(t=c.blitFramebuffer).colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=boe).width=o.width,e.height=o.height),i||(i=e);var E=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,E?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ao},n.prototype.destroy=function(){this.renderer=null},n}(),yM={5126:4,5123:2,5121:1},F3=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;ct.PREFER_ENV===Zr.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],g=c[l];if(g)return c[a.id]=g,g;var E=t.buffers,w=t.attributes,P={},A={};for(var D in E)P[D]=0,A[D]=0;for(var D in w)!w[D].size&&a.attributeData[D]?w[D].size=a.attributeData[D].size:w[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[w[D].buffer]+=w[D].size*yM[w[D].type];for(var D in w){var B=w[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*yM[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=A[B.buffer],A[B.buffer]+=Y*yM[B.type])}g=r.createVertexArray(),r.bindVertexArray(g);for(var K=0;K<E.length;K++){var re=E[K];s.bind(re),i&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=g,c[a.id]=g,c[l]=g,g},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var g in r)if("g"===g[0]){var E=r[g];this._activeVao===E&&this.unbind(),o.deleteVertexArray(E)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var g=a[c],E=s[g.buffer],w=E._glBuffers[r];if(e.attributeData[c]){l!==w&&(o.bind(E),l=w);var P=e.attributeData[c].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,g.size,g.type||i.FLOAT,g.normalized,g.stride,g.start),g.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),Eoe=function(){function n(t){void 0===t&&(t=null),this.type=li.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ct.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=li.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function B3(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function L3(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,g){return g+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function bM(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function U3(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return bM(2*t);case"bvec3":return bM(3*t);case"bvec4":return bM(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var C0,G3={},A_=G3;function j3(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Dr.HIGH&&e!==Dr.HIGH&&(i=Dr.MEDIUM),"precision "+i+" float;\n"+n}return e!==Dr.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Ooe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function V3(n){return Ooe[n]}var O0=null,H3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Y3(n,t){if(!O0){var e=Object.keys(H3);O0={};for(var i=0;i<e.length;++i){var r=e[i];O0[n[r]]=H3[r]}}return O0[t]}var x_,ap=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Moe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},woe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Aoe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function xoe(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var koe=0,M0={},EM=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=koe++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),M0[i]?(M0[i]++,i+="-"+M0[i]):M0[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=j3(this.vertexSrc,ct.PRECISION_VERTEX,Dr.HIGH),this.fragmentSrc=j3(this.fragmentSrc,ct.PRECISION_FRAGMENT,function Coe(){if(!C0){C0=Dr.MEDIUM;var n=function Toe(){if(A_===G3||A_&&A_.isContextLost()){var n=document.createElement("canvas"),t=void 0;ct.PREFER_ENV>=Zr.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),A_=t}return A_}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);C0=t.precision?Dr.HIGH:Dr.MEDIUM}}return C0}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=_3[r];return o||(_3[r]=o=new n(t,e,i)),o},n}(),W3=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof sp?e:new sp(e):new sp({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(EM.from(t,e),i)},n}(),PM=function(){function n(){this.data=0,this.blendMode=Ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ue.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Loe=function(n){function t(e,i,r){var o=this,s=EM.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=ct.FILTER_RESOLUTION,o.multisample=ct.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new PM,o}return Fi(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(W3),z3=new Ms,joe=function(){function n(t,e){this._texture=t,this.mapCoord=new Ms,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(z3.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(z3));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),Voe=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new Ms,o}return Fi(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new joe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(Loe),$3=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Eoe;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==li.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case li.SCISSOR:this.renderer.scissor.push(i);break;case li.STENCIL:this.renderer.stencil.push(i);break;case li.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===li.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case li.SCISSOR:this.renderer.scissor.pop();break;case li.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case li.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===li.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?li.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?li.SCISSOR:li.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Voe]);var c,g,a=this.renderer,l=a.renderTexture;if(l.current){var E=l.current;c=t.resolution||E.resolution,g=null!==(e=t.multisample)&&void 0!==e?e:E.multisample}else c=t.resolution||a.resolution,g=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=g,s[0].maskSprite=r;var w=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=w,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),X3=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),K3=new Ms,q3=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return Fi(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?K3.copyFrom(s):K3.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(X3),J3=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return Fi(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(X3),Q3=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ms,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),gh=new Ao,R_=new Ao,Z3=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ao,this.destinationFrame=new Ao,this.viewportFrame=new Ao}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(gh.width=t.frame.width,gh.height=t.frame.height,e=gh),i||(R_.x=t.frame.x,R_.y=t.frame.y,R_.width=e.width,R_.height=e.height,i=R_),s=o.framebuffer):(a=r.resolution,e||(gh.width=r.screen.width,gh.height=r.screen.height,e=gh),i||((i=gh).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,g=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,g)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function Hoe(n,t,e,i,r){e.buffer.update(r)}var Yoe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},eL={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var Xoe=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var Qoe=0,w0={textureCount:0,uboCount:0},tL=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Qoe++}return n.prototype.systemCheck=function(){if(!function Doe(){if("boolean"==typeof x_)return x_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");x_=!0===n({a:"b"},"a","b")}catch(t){x_=!1}return x_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(w0.textureCount=0,w0.uboCount=0,this.syncUniformGroup(t.uniformGroup,w0)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function Poe(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<ap.length;l++)if(ap[l].test(o,s)){i.push(ap[l].code(r,s)),a=!0;break}if(!a){var g=(1===o.size?Moe:woe)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+g+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,w0,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=function $oe(n,t){if(!n.autoManage)return{size:0,syncFunc:Hoe};for(var e=function zoe(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}(n.uniforms,t),i=function Woe(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=eL[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],g=l.data.name,E=!1,w=0;w<ap.length;w++){var P=ap[w];if(P.codeUbo&&P.test(l.data,c)){s.push("offset = "+l.offset/4+";",ap[w].codeUbo(l.data.name,c)),E=!0;break}}if(!E)if(l.data.size>1){var A=V3(l.data.type),D=Math.max(eL[l.data.type]/16,1),B=A/D;s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n                "+Yoe[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function Joe(n,t){var e=B3(n,n.VERTEX_SHADER,t.vertexSrc),i=B3(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function Soe(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||L3(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||L3(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function Koe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=Y3(t,o.type),a={type:s,name:o.name,size:V3(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function qoe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=Y3(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:U3(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(g,E){return g>E?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:U3(l.type,l.size)}}return new Xoe(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),nL=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ue.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new PM,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Zoe(n,t){return void 0===t&&(t=[]),t[Ue.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD]=[n.ONE,n.ONE],t[Ue.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.NONE]=[0,0],t[Ue.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ue.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ue.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ue.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ue.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ue.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ue.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),iL=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ct.GC_MAX_IDLE,this.checkCountMax=ct.GC_MAX_CHECK_COUNT,this.mode=ct.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Yf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),AM=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yt.UNSIGNED_BYTE,this.internalFormat=Ye.RGBA,this.samplerType=0},rL=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Yr,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function sse(n){var t,e,i,r,o,s,a,l,c,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[yt.UNSIGNED_BYTE]=((e={})[Ye.RGBA]=n.RGBA8,e[Ye.RGB]=n.RGB8,e[Ye.RG]=n.RG8,e[Ye.RED]=n.R8,e[Ye.RGBA_INTEGER]=n.RGBA8UI,e[Ye.RGB_INTEGER]=n.RGB8UI,e[Ye.RG_INTEGER]=n.RG8UI,e[Ye.RED_INTEGER]=n.R8UI,e[Ye.ALPHA]=n.ALPHA,e[Ye.LUMINANCE]=n.LUMINANCE,e[Ye.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[yt.BYTE]=((i={})[Ye.RGBA]=n.RGBA8_SNORM,i[Ye.RGB]=n.RGB8_SNORM,i[Ye.RG]=n.RG8_SNORM,i[Ye.RED]=n.R8_SNORM,i[Ye.RGBA_INTEGER]=n.RGBA8I,i[Ye.RGB_INTEGER]=n.RGB8I,i[Ye.RG_INTEGER]=n.RG8I,i[Ye.RED_INTEGER]=n.R8I,i),t[yt.UNSIGNED_SHORT]=((r={})[Ye.RGBA_INTEGER]=n.RGBA16UI,r[Ye.RGB_INTEGER]=n.RGB16UI,r[Ye.RG_INTEGER]=n.RG16UI,r[Ye.RED_INTEGER]=n.R16UI,r[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[yt.SHORT]=((o={})[Ye.RGBA_INTEGER]=n.RGBA16I,o[Ye.RGB_INTEGER]=n.RGB16I,o[Ye.RG_INTEGER]=n.RG16I,o[Ye.RED_INTEGER]=n.R16I,o),t[yt.UNSIGNED_INT]=((s={})[Ye.RGBA_INTEGER]=n.RGBA32UI,s[Ye.RGB_INTEGER]=n.RGB32UI,s[Ye.RG_INTEGER]=n.RG32UI,s[Ye.RED_INTEGER]=n.R32UI,s[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[yt.INT]=((a={})[Ye.RGBA_INTEGER]=n.RGBA32I,a[Ye.RGB_INTEGER]=n.RGB32I,a[Ye.RG_INTEGER]=n.RG32I,a[Ye.RED_INTEGER]=n.R32I,a),t[yt.FLOAT]=((l={})[Ye.RGBA]=n.RGBA32F,l[Ye.RGB]=n.RGB32F,l[Ye.RG]=n.RG32F,l[Ye.RED]=n.R32F,l[Ye.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[yt.HALF_FLOAT]=((c={})[Ye.RGBA]=n.RGBA16F,c[Ye.RGB]=n.RGB16F,c[Ye.RG]=n.RG16F,c[Ye.RED]=n.R16F,c),t[yt.UNSIGNED_SHORT_5_6_5]=((g={})[Ye.RGB]=n.RGB565,g),t[yt.UNSIGNED_SHORT_4_4_4_4]=((E={})[Ye.RGBA]=n.RGBA4,E),t[yt.UNSIGNED_SHORT_5_5_5_1]=((w={})[Ye.RGBA]=n.RGB5_A1,w),t[yt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[Ye.RGBA]=n.RGB10_A2,P[Ye.RGBA_INTEGER]=n.RGB10_A2UI,P),t[yt.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[Ye.RGB]=n.R11F_G11F_B10F,A),t[yt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[Ye.RGB]=n.RGB9_E5,D),t[yt.UNSIGNED_INT_24_8]=((B={})[Ye.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[yt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[Ye.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Oe=t):((K={})[yt.UNSIGNED_BYTE]=((re={})[Ye.RGBA]=n.RGBA,re[Ye.RGB]=n.RGB,re[Ye.ALPHA]=n.ALPHA,re[Ye.LUMINANCE]=n.LUMINANCE,re[Ye.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),K[yt.UNSIGNED_SHORT_5_6_5]=((ae={})[Ye.RGB]=n.RGB,ae),K[yt.UNSIGNED_SHORT_4_4_4_4]=((te={})[Ye.RGBA]=n.RGBA,te),K[yt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[Ye.RGBA]=n.RGBA,ne),Oe=K),Oe}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new AM(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new AM(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==Xc.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new AM(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===yt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==Xc.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function eoe(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==Vo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Ks.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==Vo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Rr.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Rr.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),oL={__proto__:null,FilterSystem:x3,BatchSystem:D3,ContextSystem:N3,FramebufferSystem:k3,GeometrySystem:F3,MaskSystem:$3,ScissorSystem:q3,StencilSystem:J3,ProjectionSystem:Q3,RenderTextureSystem:Z3,ShaderSystem:tL,StateSystem:nL,TextureGCSystem:iL,TextureSystem:rL},xM=new Ms,ase=function(n){function t(e,i){void 0===e&&(e=Fa.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},ct.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Ao(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||ct.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(ch("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Fi(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(ch("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function ooe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=_M.create(hM({width:o.width,height:o.height},a));return xM.tx=-o.x,xM.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:xM,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Fa.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function qre(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function Kre(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(nM),lse=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},cse=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new lse(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),use=(function(n){function t(e){var i=n.call(this,Fa.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Po("destroy"),contextChange:new Po("contextChange"),reset:new Po("reset"),update:new Po("update"),postrender:new Po("postrender"),prerender:new Po("prerender"),resize:new Po("resize")},i.runners.contextChange.add(i),i.globalUniforms=new sp({projectionMatrix:new Ms},!0),i.addSystem($3,"mask").addSystem(N3,"context").addSystem(nL,"state").addSystem(tL,"shader").addSystem(rL,"texture").addSystem(cse,"buffer").addSystem(F3,"geometry").addSystem(k3,"framebuffer").addSystem(q3,"scissor").addSystem(J3,"stencil").addSystem(Q3,"projection").addSystem(iL,"textureGC").addSystem(x3,"filter").addSystem(Z3,"renderTexture").addSystem(D3,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function $re(n){var t;u3||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),u3=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}Fi(t,n),t.create=function(e){if(function Xre(){return void 0===sM&&(sM=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:ct.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),sM}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=On.HIGH?On.HIGH:i>=On.MEDIUM?On.MEDIUM:i>=On.LOW?On.LOW:On.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof _M?(ch("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return ch("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(ase),function n(){this.texArray=null,this.blend=0,this.type=lo.TRIANGLES,this.start=0,this.size=0,this.data=null}),hse=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),dse=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),fse=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=PM.for2d(),i.size=4*ct.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Fi(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;ct.PREFER_ENV===Zr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ct.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function Roe(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=Aoe.replace(/%forloop%/gi,xoe(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new use);for(;i.length<o;)i.push(new hse);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Yr._globalBatch,g=0,E=o[0],w=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var A=i[P];i[P]=null,A._batchEnabled!==c&&(E.count>=r&&(s.boundArray(E,a,c,r),this.buildDrawCalls(E,w,P),w=P,E=o[++g],++c),A._batchEnabled=c,A.touched=l,E.elements[E.count++]=A)}for(E.count>0&&(s.boundArray(E,a,c,r),this.buildDrawCalls(E,w,this._bufferSize),++g,++c),P=0;P<a.length;P++)a[P]=null;Yr._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,g=t._drawCallPool,E=this._dcIndex,w=this._aIndex,P=this._iIndex,A=g[E];A.start=this._iIndex,A.texArray=e;for(var D=i;D<r;++D){var B=s[D],K=Qre[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&A.blend!==K&&(A.size=P-A.start,i=D,(A=g[++E]).texArray=e,A.start=P),this.packInterleavedGeometry(B,a,l,w,P),w+=B.vertexData.length/2*c,P+=B.indices.length,A.blend=K}i<r&&(A.size=P-A.start,++E),this._dcIndex=E,this._aIndex=w,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;ct.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],g=c.texArray,E=c.type,w=c.size,P=c.start,A=c.blend;a!==g&&(a=g,this.bindAndClearTexArray(g)),this.state.blendMode=A,o.set(this.state),r.drawElements(E,w,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),ct.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=g0(Math.ceil(e/8)),r=p3(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new dse(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=g0(Math.ceil(e/12)),r=p3(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,g=e.uvs,E=e.indices,w=e.vertexData,P=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?function Zre(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,A):e._tintRGB+(255*A<<24),B=0;B<w.length;B+=2)l[o++]=w[B],l[o++]=w[B+1],l[o++]=g[B],l[o++]=g[B+1],a[o++]=D,l[o++]=P;for(B=0;B<E.length;B++)r[s++]=c+E[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(R3),pse=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=sp.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new EM(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ms,default:this.defaultGroupCache[t]};return new W3(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),gse=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new ws(null,e,!1),i._indexBuffer=new ws(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,yt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,yt.FLOAT).addAttribute("aColor",i._buffer,4,!0,yt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,yt.FLOAT).addIndex(i._indexBuffer),i}return Fi(t,n),t}(mM),sL="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",aL="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",_se=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:sL,fragment:aL,geometryClass:gse,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var g=a.call(this,c)||this;return g.shaderGenerator=new pse(i,r),g.geometryClass=s,g.vertexSize=o,g}return Fi(l,a),l}(fse)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return sL},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return aL},enumerable:!1,configurable:!0}),n}(),mse=(_se.create(),{}),vse=function(n){Object.defineProperty(mse,n,{get:function(){return ch("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),C3[n]}})};for(var RM in C3)vse(RM);var yse={},bse=function(n){Object.defineProperty(yse,n,{get:function(){return ch("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),oL[n]}})};for(var RM in oL)bse(RM);var lL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==lo.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var o=this.renderer.context,s=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var c=16777215!==t.tint,g=l.baseTexture,E=g.width,w=g.height;c&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new _l(g),t._tintedCanvas=Mr.getTintedCanvas({texture:t._cachedTexture},t.tint));var P=c?t._tintedCanvas:g.getDrawableSource(),A=a[e]*g.width,D=a[i]*g.width,B=a[r]*g.width,Y=a[e+1]*g.height,K=a[i+1]*g.height,re=a[r+1]*g.height,ae=s[e],te=s[i],ne=s[r],Oe=s[e+1],Ie=s[i+1],ye=s[r+1],Ve=t.canvasPadding/this.renderer.resolution;if(Ve>0){var nt=t.worldTransform,it=nt.a,Ze=nt.b,xt=nt.c,$e=nt.d,De=(ae+te+ne)/3,Ke=(Oe+Ie+ye)/3,ht=ae-De,Pt=Oe-Ke,We=it*ht+xt*Pt,bt=Ze*ht+$e*Pt,Dt=Math.sqrt(We*We+bt*bt),Nt=1+Ve/Dt;ae=De+ht*Nt,Oe=Ke+Pt*Nt,We=it*(ht=te-De)+xt*(Pt=Ie-Ke),bt=Ze*ht+$e*Pt,te=De+ht*(Nt=1+Ve/(Dt=Math.sqrt(We*We+bt*bt))),Ie=Ke+Pt*Nt,We=it*(ht=ne-De)+xt*(Pt=ye-Ke),bt=Ze*ht+$e*Pt,ne=De+ht*(Nt=1+Ve/(Dt=Math.sqrt(We*We+bt*bt))),ye=Ke+Pt*Nt}o.save(),o.beginPath(),o.moveTo(ae,Oe),o.lineTo(te,Ie),o.lineTo(ne,ye),o.closePath(),o.clip();var Rt=A*K+Y*B+D*re-K*B-Y*D-A*re;o.transform((ae*K+Y*ne+te*re-K*ne-Y*te-ae*re)/Rt,(Oe*K+Y*ye+Ie*re-K*ye-Y*Ie-Oe*re)/Rt,(A*te+ae*B+D*ne-te*B-ae*D-A*ne)/Rt,(A*Ie+Oe*B+D*ye-Ie*B-Oe*D-A*ye)/Rt,(A*K*ne+Y*te*B+ae*D*re-ae*K*B-Y*D*ne-A*te*re)/Rt,(A*K*ye+Y*Ie*B+Oe*D*re-Oe*K*B-Y*D*ye-A*Ie*re)/Rt),o.drawImage(P,0,0,E*g.resolution,w*g.resolution,0,0,E,w),o.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var o=1;o<r-2;++o){var s=2*o,c=i[s+2],g=i[s+3],E=i[s+4],w=i[s+5];e.moveTo(i[s],i[s+1]),e.lineTo(c,g),e.lineTo(E,w)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();ct.MESH_CANVAS_PADDING=0,lh.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},O_.prototype._cachedTint=16777215,O_.prototype._tintedCanvas=null,O_.prototype._canvasUvs=null,O_.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,o=this.texture;if(o.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Mr.getTintedCanvas(this,this.tint));var s=r?this._tintedCanvas:o.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,c=r?0:o.frame.x,g=r?0:o.frame.y,E=c+o.frame.width,w=g+o.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=E-this._rightWidth,l[3]=E,l[4]=g,l[5]=g+this._topHeight,l[6]=w-this._bottomHeight,l[7]=w;for(var P=0;P<8;P++)l[P]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var A=0;A<3;A++)for(var D=0;D<3;D++){var B=2*D+8*A,Y=Math.max(1,l[D+1]-l[D]),K=Math.max(1,l[A+5]-l[A+4]),re=Math.max(1,a[B+10]-a[B]),ae=Math.max(1,a[B+11]-a[B+1]);e.drawImage(s,l[D],l[A+4],Y,K,a[B],a[B+1],re,ae)}}};var cL=!1;Zs.prototype._cachedTint=16777215,Zs.prototype._tintedCanvas=null,Zs.prototype._cachedTexture=null,Zs.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):cL||(cL=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Zs.prototype._canvasPadding=null,Object.defineProperty(Zs.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:ct.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),n3.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},e3.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var DM,uL=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var o=0;o<r;o+=2){var s=o-2;s<0&&(s+=r);var a=(o+2)%r,l=t[o]-t[s],c=t[o+1]-t[s+1],g=Math.sqrt(l*l+c*c);l/=g,c/=g;var E=-(c*=e),P=[t[s]+E,t[s+1]+(l*=e)],A=[t[o]+E,t[o+1]+l],D=t[a]-t[o],B=t[a+1]-t[o+1];D/=g=Math.sqrt(D*D+B*B),B/=g;var Y=-(B*=e),re=[t[o]+Y,t[o+1]+(D*=e)],ae=[t[a]+Y,t[a+1]+D],te=n.findIntersection(P[0],P[1],A[0],A[1],re[0],re[1],ae[0],ae[1]);te&&i.push.apply(i,te)}return i},n.findIntersection=function(t,e,i,r,o,s,a,l){var c=(l-s)*(i-t)-(a-o)*(r-e),g=(a-o)*(e-s)-(l-s)*(t-o);if(0===c)return 0===g&&0==(i-t)*(e-s)-(r-e)*(t-o)?[(t+i)/2,(e+r)/2]:null;var w=g/c;return[t+w*(i-t),e+w*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),hL=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new pi,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==Gt.WHITE.baseTexture?t.texture.valid?(i=Mr.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||pi.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,o=t.transform.worldTransform;e.setContextTransform(o),e.setBlendMode(t.blendMode);for(var a,l,s=t.geometry.graphicsData,c=(t.tint>>16&255)/255,g=(t.tint>>8&255)/255,E=(255&t.tint)/255,w=0;w<s.length;w++){var P=s[w],A=P.shape,D=P.fillStyle,B=P.lineStyle,Y=0|P.fillStyle.color,K=0|P.lineStyle.color;if(P.matrix&&e.setContextTransform(o.copyTo(this._tempMatrix).append(P.matrix)),D.visible&&(a=this._calcCanvasStyle(D,((Y>>16&255)/255*c*255<<16)+((Y>>8&255)/255*g*255<<8)+(255&Y)/255*E*255)),B.visible&&(l=this._calcCanvasStyle(B,((K>>16&255)/255*c*255<<16)+((K>>8&255)/255*g*255<<8)+(255&K)/255*E*255)),i.lineWidth=B.width,i.lineCap=B.cap,i.lineJoin=B.join,i.miterLimit=B.miterLimit,P.type===ni.POLY){i.beginPath();var ne=(te=A).points,Oe=P.holes,Ie=void 0,ye=void 0,Ve=void 0,nt=void 0,it=void 0;i.moveTo(ne[0],ne[1]);for(var Ze=2;Ze<ne.length;Ze+=2)i.lineTo(ne[Ze],ne[Ze+1]);if(te.closeStroke&&i.closePath(),Oe.length>0){for(it=[],Ie=0,Ve=ne[0],nt=ne[1],Ze=2;Ze+2<ne.length;Ze+=2)Ie+=(ne[Ze]-Ve)*(ne[Ze+3]-nt)-(ne[Ze+2]-Ve)*(ne[Ze+1]-nt);for(var xt=0;xt<Oe.length;xt++)if(ne=Oe[xt].shape.points){for(ye=0,Ve=ne[0],nt=ne[1],Ze=2;Ze+2<ne.length;Ze+=2)ye+=(ne[Ze]-Ve)*(ne[Ze+3]-nt)-(ne[Ze+2]-Ve)*(ne[Ze+1]-nt);if(ye*Ie<0)for(i.moveTo(ne[0],ne[1]),Ze=2;Ze<ne.length;Ze+=2)i.lineTo(ne[Ze],ne[Ze+1]);else for(i.moveTo(ne[ne.length-2],ne[ne.length-1]),Ze=ne.length-4;Ze>=0;Ze-=2)i.lineTo(ne[Ze],ne[Ze+1]);Oe[xt].shape.closeStroke&&i.closePath(),it[xt]=ye*Ie<0}}D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible&&this.paintPolygonStroke(te,B,l,Oe,it,r,i)}else if(P.type===ni.RECT){var te=A;if(D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fillRect(te.x,te.y,te.width,te.height)),B.visible){var De=te.width+2*($e=B.width*(.5-(1-B.alignment))),Ke=te.height+2*$e;i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.strokeRect(te.x-$e,te.y-$e,De,Ke)}}else if(P.type===ni.CIRC){if(te=A,i.beginPath(),i.arc(te.x,te.y,te.radius,0,2*Math.PI),i.closePath(),D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible){if(.5!==B.alignment){var $e=B.width*(.5-(1-B.alignment));i.beginPath(),i.arc(te.x,te.y,te.radius+$e,0,2*Math.PI),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}}else if(P.type===ni.ELIP){if(te=A,(ht=1===B.alignment)||this.paintEllipse(te,D,B,a,r,i),B.visible){if(.5!==B.alignment){var Pt=.5522848,We=2*(te.width+($e=B.width*(.5-(1-B.alignment)))),bt=2*(te.height+$e),Dt=te.x-We/2,Nt=te.y-bt/2,Rt=We/2*Pt,ci=bt/2*Pt,Un=Dt+We,mn=Nt+bt,Yn=Dt+We/2,Sn=Nt+bt/2;i.beginPath(),i.moveTo(Dt,Sn),i.bezierCurveTo(Dt,Sn-ci,Yn-Rt,Nt,Yn,Nt),i.bezierCurveTo(Yn+Rt,Nt,Un,Sn-ci,Un,Sn),i.bezierCurveTo(Un,Sn+ci,Yn+Rt,mn,Yn,mn),i.bezierCurveTo(Yn-Rt,mn,Dt,Sn+ci,Dt,Sn),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}ht&&this.paintEllipse(te,D,B,a,r,i)}else if(P.type===ni.RREC){var ht;if(te=A,(ht=1===B.alignment)||this.paintRoundedRectangle(te,D,B,a,r,i),B.visible){if(.5!==B.alignment){De=te.width,Ke=te.height;var hn=te.x-($e=B.width*(.5-(1-B.alignment))),tn=te.y-$e,Wn=te.width+2*$e,nn=te.height+2*$e,so=$e*(B.alignment>=1?Math.min(Wn/De,nn/Ke):Math.min(De/Wn,Ke/nn)),di=te.radius+so,kn=Math.min(Wn,nn)/2;di=di>kn?kn:di,i.beginPath(),i.moveTo(hn,tn+di),i.lineTo(hn,tn+nn-di),i.quadraticCurveTo(hn,tn+nn,hn+di,tn+nn),i.lineTo(hn+Wn-di,tn+nn),i.quadraticCurveTo(hn+Wn,tn+nn,hn+Wn,tn+nn-di),i.lineTo(hn+Wn,tn+di),i.quadraticCurveTo(hn+Wn,tn,hn+Wn-di,tn),i.lineTo(hn+di,tn),i.quadraticCurveTo(hn,tn,hn,tn+di),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}ht&&this.paintRoundedRectangle(te,D,B,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,o,s,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),c=uL.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(var E=2;E<c.length;E+=2)a.lineTo(c[E],c[E+1]);t.closeStroke&&a.closePath();for(var w=0;w<r.length;w++){if(c=uL.offsetPolygon(r[w].shape.points,l),o[w])for(a.moveTo(c[0],c[1]),E=2;E<c.length;E+=2)a.lineTo(c[E],c[E+1]);else for(a.moveTo(c[c.length-2],c[c.length-1]),E=c.length-4;E>=0;E-=2)a.lineTo(c[E],c[E+1]);r[w].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*s,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,o,s){var a=2*t.width,l=2*t.height,c=t.x-a/2,g=t.y-l/2,E=.5522848,w=a/2*E,P=l/2*E,A=c+a,D=g+l,B=c+a/2,Y=g+l/2;0===i.alignment&&s.save(),s.beginPath(),s.moveTo(c,Y),s.bezierCurveTo(c,Y-P,B-w,g,B,g),s.bezierCurveTo(B+w,g,A,Y-P,A,Y),s.bezierCurveTo(A,Y+P,B+w,D,B,D),s.bezierCurveTo(B-w,D,c,Y+P,c,Y),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,o,s){var a=t.x,l=t.y,c=t.width,g=t.height,E=t.radius,w=Math.min(c,g)/2;E=E>w?w:E,0===i.alignment&&s.save(),s.beginPath(),s.moveTo(a,l+E),s.lineTo(a,l+g-E),s.quadraticCurveTo(a,l+g,a+E,l+g),s.lineTo(a+c-E,l+g),s.quadraticCurveTo(a+c,l+g,a+c,l+g-E),s.lineTo(a+c,l+E),s.quadraticCurveTo(a+c,l,a+c-E,l),s.lineTo(a+E,l),s.quadraticCurveTo(a,l,a,l+E),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),D_=new pi;Cs.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=Js.create({width:i.width,height:i.height,scaleMode:t,resolution:e});DM||(DM=new pl),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(D_),D_.invert(),D_.tx-=i.x,D_.ty-=i.y,DM.render(this,{renderTexture:r,clear:!0,transform:D_});var o=Gt.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return o.baseTexture.setResolution(e),o},Cs.prototype.cachedGraphicsData=[],Cs.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var dL=new pi,fL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var o=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,c=0,g=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&g){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var E=e.baseTexture.scaleMode===Rr.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==E&&(r[i.smoothProperty]=E),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(dL),Hi.matrixAppendRotationInv(a=dL,e.rotate,l,c),l=0,c=0),l-=o/2,c-=s/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,c|=0);var w=e.baseTexture.resolution,P=i._outerBlend;P&&(r.save(),r.beginPath(),r.rect(l*i.resolution,c*i.resolution,o*i.resolution,s*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=Mr.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(o*w),Math.floor(s*w),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution))):r.drawImage(g,e._frame.x*w,e._frame.y*w,Math.floor(o*w),Math.floor(s*w),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution)),P&&r.restore(),i.setBlendMode(Ue.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();Yo.prototype._tintedCanvas=null,Yo.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var pL=new Vn,gL=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,s,e=this.renderer;t&&(s=t instanceof Js?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=pL).width=this.renderer.width,o.height=this.renderer.height);var a=Math.floor(o.width*r+1e-4),l=Math.floor(o.height*r+1e-4),c=new Wf(a,l,1),g=i.getImageData(o.x*r,o.y*r,a,l);return c.context.putImageData(g,0,0),c.canvas},n.prototype.pixels=function(t){var i,r,o,s,e=this.renderer;return t&&(s=t instanceof Js?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=pL).width=e.width,o.height=e.height),i.getImageData(o.x*r,o.y*r,o.width*r,o.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),IM=function(n,t){return(IM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Sse(n,t){var e=n;if(t instanceof Qn){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),o=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}var mL=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(Sse),i}return function Ese(n,t){function e(){this.constructor=n}IM(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(kO),P0=new pi,I_=new pi,ml=[new Ni,new Ni,new Ni,new Ni];jB.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,o=e.baseTexture,s=o.getDrawableSource(),a=o.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new Wf(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=Mr.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(s,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var c=this.tileTransform.localTransform,g=this._width,E=this._height;P0.identity(),I_.copyFrom(c),this.uvRespectAnchor||I_.translate(-this.anchor.x*g,-this.anchor.y*E),I_.scale(this.tileScale.x/a,this.tileScale.y/a),P0.prepend(I_),P0.prepend(r),t.setContextTransform(P0),i.fillStyle=this._canvasPattern;var w=this.anchor.x*-g,P=this.anchor.y*-E;ml[0].set(w,P),ml[1].set(w+g,P),ml[2].set(w+g,P+E),ml[3].set(w,P+E);for(var A=0;A<4;A++)I_.applyInverse(ml[A],ml[A]);for(i.beginPath(),i.moveTo(ml[0].x,ml[0].y),A=1;A<4;A++)i.lineTo(ml[A].x,ml[A].y);i.closePath(),i.fill()}},TB.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,o=0,s=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var g=this.children[c];if(g.visible&&g._texture.valid){var E=g._texture.frame;e.globalAlpha=this.worldAlpha*g.alpha,g.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),o=g.anchor.x*(-E.width*g.scale.x)+g.position.x+.5,s=g.anchor.y*(-E.height*g.scale.y)+g.position.y+.5,a=E.width*g.scale.x,l=E.height*g.scale.y):(r||(r=!0),g.displayObjectUpdateTransform(),t.setContextTransform(g.worldTransform,this.roundPixels,1),o=g.anchor.x*-E.width+.5,s=g.anchor.y*-E.height+.5,a=E.width,l=E.height);var P=g._texture.baseTexture.resolution;e.drawImage(g._texture.baseTexture.getDrawableSource(),E.x*P,E.y*P,E.width*P,E.height*P,o*t.resolution,s*t.resolution,a*t.resolution,l*t.resolution)}}}},Xi.prototype._renderCanvas=function(t){},Xi.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},er.prototype.renderCanvas=function(t){},b_.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Yo.prototype._renderCanvas.call(this,t)},pl.registerPlugin("accessibility",TC),pl.registerPlugin("extract",gL),pl.registerPlugin("graphics",hL),pl.registerPlugin("interaction",wC),pl.registerPlugin("mesh",lL),pl.registerPlugin("prepare",mL),pl.registerPlugin("sprite",fL);class Cse{constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function Ose(n){return new Cse(n,"./assets/i18n/",`.json?v=${zi_version}`)}class Mse{handle(){return null}}function vl(n){return!!n&&(n instanceof oe||y(n.lift)&&y(n.subscribe))}const{isArray:wse}=Array,{getPrototypeOf:Pse,prototype:Ase,keys:xse}=Object;function vL(n){if(1===n.length){const t=n[0];if(wse(t))return{args:t,keys:null};if(function Rse(n){return n&&"object"==typeof n&&Pse(n)===Ase}(t)){const e=xse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function yL(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function bL(...n){const t=Pi(n),{args:e,keys:i}=vL(n),r=new oe(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let g=0;g<s;g++){let E=!1;gt(e[g]).subscribe(ie(o,w=>{E||(E=!0,c--),a[g]=w},()=>l--,void 0,()=>{(!l||!E)&&(c||o.next(i?yL(i,a):a),o.complete())}))}});return t?r.pipe($T(t)):r}function A0(n){return new oe(t=>{gt(n()).subscribe(t)})}class EL extends Le{constructor(t=1/0,e=1/0,i=WT){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function x0(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,_o({connector:()=>new EL(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ea(n,t){return je((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ie(i,l=>{null==r||r.unsubscribe();let c=0;const g=o++;gt(n(l,g)).subscribe(r=ie(i,E=>i.next(t?t(l,E,g,c++):E),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class N_{}let SL=(()=>{class n extends N_{getTranslation(e){return Yt({})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class R0{}let TL=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function k_(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let r,o,s,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!k_(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&void 0!==t[o])return!1;return!0}if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!k_(n[o],t[o]))return!1;return!0}}return!1}function Ps(n){return null!=n}function kM(n){return n&&"object"==typeof n&&!Array.isArray(n)}function CL(n,t){let e=Object.assign({},n);return kM(n)&&kM(t)&&Object.keys(t).forEach(i=>{kM(t[i])?i in n?e[i]=CL(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}class D0{}let OL=(()=>{class n extends D0{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,i){let r;return r="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,r}getValue(e,i){let r="string"==typeof i?i.split("."):[i];i="";do{i+=r.shift(),!Ps(e)||!Ps(e[i])||"object"!=typeof e[i]&&r.length?r.length?i+=".":e=void 0:(e=e[i],i="")}while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return Ps(s)?s:r}):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class I0{}let ML=(()=>{class n extends I0{compile(e,i){return e}compileTranslations(e,i){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class wL{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new jt,this.onLangChange=new jt,this.onDefaultLangChange=new jt}}const FM=new Qt("USE_STORE"),BM=new Qt("USE_DEFAULT_LANG"),LM=new Qt("DEFAULT_LANGUAGE"),UM=new Qt("USE_EXTEND");let Zc=(()=>{class n{constructor(e,i,r,o,s,a=!0,l=!1,c=!1,g){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=c,this.pending=!1,this._onTranslationChange=new jt,this._onLangChange=new jt,this._onDefaultLangChange=new jt,this._langs=[],this._translations={},this._translationRequests={},g&&this.setDefaultLang(g)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);void 0!==i?(null==this.defaultLang&&(this.defaultLang=e),i.pipe(Xn(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Yt(this.translations[e]);let i=this.retrieveTranslations(e);return void 0!==i?(this.currentLang||(this.currentLang=e),i.pipe(Xn(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),Yt(this.translations[e]))}retrieveTranslations(e){let i;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(x0(1),Xn(1));return this.loadingTranslations=i.pipe(pe(r=>this.compiler.compileTranslations(r,e)),x0(1),Xn(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(r||this.extend)&&this.translations[e]?CL(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResult(e,l,r),vl(s[l])&&(a=!0);return a?bL(i.map(c=>vl(s[c])?s[c]:Yt(s[c]))).pipe(pe(c=>{let g={};return c.forEach((E,w)=>{g[i[w]]=E}),g})):s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),void 0===o){let s={key:i,translateService:this};void 0!==r&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return void 0!==o?o:i}get(e,i){if(!Ps(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Hu(r=>vl(r=this.getParsedResult(r,e,i))?r:Yt(r)));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return vl(r)?r:Yt(r)}}getStreamOnTranslationChange(e,i){if(!Ps(e)||!e.length)throw new Error('Parameter "key" required');return Wc(A0(()=>this.get(e,i)),this.onTranslationChange.pipe(ea(r=>{const o=this.getParsedResult(r.translations,e,i);return"function"==typeof o.subscribe?o:Yt(o)})))}stream(e,i){if(!Ps(e)||!e.length)throw new Error('Parameter "key" required');return Wc(A0(()=>this.get(e,i)),this.onLangChange.pipe(ea(r=>{const o=this.getParsedResult(r.translations,e,i);return vl(o)?o:Yt(o)})))}instant(e,i){if(!Ps(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(vl(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(Ne(wL),Ne(N_),Ne(I0),Ne(D0),Ne(R0),Ne(BM),Ne(FM),Ne(UM),Ne(LM))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Zn=(()=>{class n{constructor(e,i,r){this.translateService=e,this.element=i,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(o=>{o.lang===this.translateService.currentLang&&this.checkNodes(!0,o.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(o=>{this.checkNodes(!0,o.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(o=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){k_(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,i){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let o=0;o<r.length;++o){let s=r[o];if(3===s.nodeType){let a;if(e&&(s.lastKey=null),Ps(s.lookupKey))a=s.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(s),c=l.trim();c.length&&(s.lookupKey=c,l!==s.currentValue?(a=c,s.originalContent=l||s.originalContent):s.originalContent?a=s.originalContent.trim():l!==s.currentValue&&(a=c,s.originalContent=l||s.originalContent))}this.updateValue(a,s,i)}}}updateValue(e,i,r){if(e){if(i.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let o=s=>{s!==e&&(i.lastKey=e),i.originalContent||(i.originalContent=this.getContent(i)),i.currentValue=Ps(s)?s:i.originalContent||e,this.setContent(i,this.key?i.currentValue:i.originalContent.replace(e,i.currentValue)),this._ref.markForCheck()};if(Ps(r)){let s=this.translateService.getParsedResult(r,e,this.currentParams);vl(s)?s.subscribe({next:o}):o(s)}else this.translateService.get(e,this.currentParams).subscribe(o)}}getContent(e){return Ps(e.textContent)?e.textContent:e.data}setContent(e,i){Ps(e.textContent)?e.textContent=i:e.data=i}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)($(Zc),$(si),$(wn))},n.\u0275dir=mt({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),n})(),Dn=(()=>{class n{constructor(e,i){this.translate=e,this._ref=i,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,i,r){let o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);vl(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(k_(e,this.lastKey)&&k_(i,this.lastParams))return this.value;let r;if(Ps(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)($(Zc,16),$(wn,16))},n.\u0275pipe=Kr({name:"translate",type:n,pure:!1}),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),gn=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:N_,useClass:SL},e.compiler||{provide:I0,useClass:ML},e.parser||{provide:D0,useClass:OL},e.missingTranslationHandler||{provide:R0,useClass:TL},wL,{provide:FM,useValue:e.isolate},{provide:BM,useValue:e.useDefaultLang},{provide:UM,useValue:e.extend},{provide:LM,useValue:e.defaultLanguage},Zc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:N_,useClass:SL},e.compiler||{provide:I0,useClass:ML},e.parser||{provide:D0,useClass:OL},e.missingTranslationHandler||{provide:R0,useClass:TL},{provide:FM,useValue:e.isolate},{provide:BM,useValue:e.useDefaultLang},{provide:UM,useValue:e.extend},{provide:LM,useValue:e.defaultLanguage},Zc]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();var F_=(()=>(function(n){n.SessionStorage="sessionStorage",n.LocalStorage="localStorage"}(F_||(F_={})),F_))();class Dse{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return this.storage.keys()[t]?this.storage.keys()[t]:null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)?this.storage.get(t):null}setItem(t,e){this.storage.set(t,""+e)}}let PL=(()=>{class n{constructor(){this._session=this.setStorage(F_.SessionStorage),this._local=this.setStorage(F_.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new Dse}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Va=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction"}(Va||(Va={})),Va))(),B_=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(B_||(B_={})),B_))();let nc=(()=>{class n{constructor(){this.user=this.getRequiredParam(Va.user),this.operator=this.getRequiredParam(Va.operator),this.currency=this.getRequiredParam(Va.currency),this.lang=this.getOptionalLangParam(Va.lang),this.returnUrl=this.getOptionalParam(Va.returnUrl),this.accountHistoryUrl=this.getOptionalParam(Va.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(Va.jurisdiction),this.additionalParams=[],Object.values(B_).forEach(e=>{const i=this.getOptionalParam(e);null!==i&&this.additionalParams.push({[e]:i})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(B_.sisalToken):this.getRequiredParam(Va.token),Gc("url.param.user",this.user),Gc("url.param.operator",this.operator),Gc("url.param.currency",this.currency),Gc("url.param.token",this.token),Gc("url.param.lang",this.lang),Gc("url.param.return_url",this.returnUrl),Gc("url.param.account_history_url",this.accountHistoryUrl),Gc("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const i=this.searchURLParam(e);if(null===i||""===i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchURLParam(e);return null===i||""===i?"en":i.toLowerCase()}getOptionalParam(e){const i=this.searchURLParam(e);return null===i||""===i?null:i}searchURLParam(e){const i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),un=(()=>{class n{constructor(e,i,r,o,s){this.translate=e,this.http=i,this.storage=r,this.deviceService=o,this.urlParams=s,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const a=[];return a.push(document.fonts.load(`16px ${zc.Base}`)),Promise.all(a)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===Ak.IOS&&parseInt(function xJ(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&HT()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${zi_clientConfig.path}${this.urlParams.operator}${zi_clientConfig.ext}?v=${zi_version}`;return new Promise((c,g)=>{this.http.get(l).pipe(function uQ(n){return je((t,e)=>{let i,o,r=!1;const s=()=>{i=t.subscribe(ie(e,void 0,void 0,a=>{o||(o=new Le,n(o).subscribe(ie(e,()=>i?s():r=!0))),o&&o.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,s())};s()})}(E=>E.pipe(Xn(5),QT(2e3),w=>Wc(w,e_(new Error(e)))))).subscribe(E=>{this._clientConfig=Object.freeze(E),c()},()=>g(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function RJ(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===vy.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,vk(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)}setLanguage(){return new Promise(e=>{this.translate.use(this.urlParams.lang).subscribe(()=>{e()},()=>{this.urlParams.lang="en",e()})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],o=[];for(let s=0;s<4;s++)o.push({name:`plane-${s}`,url:`${i}plane/${n}/plane-${s}.svg`});return r.concat(o)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class Tse{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(o=>{r.forEach(s=>{wo.shared.resources[s.name]||wo.shared.add(s)}),"function"==typeof e&&(this.onProgressID=wo.shared.onProgress.add(s=>{e(null==s?void 0:s.progress,i)})),wo.shared.load(()=>{this.onProgressID&&wo.shared.onProgress.detach(this.onProgressID),o()})})}static versionResources(t){return t.map(e=>({name:e.name,url:e.url+=`?v=${zi_version}`}))}}.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===Ey.modal}get isGameInited(){return this._isGameInited}getFormattedUsername(e){var i;return!1===(null===(i=this._config)||void 0===i?void 0:i.isUseMaskedUsername)?e:function NJ(n){return n&&function IJ(n){return"string"==typeof n||n instanceof String}(n)?`${n.charAt(0)}***${n.charAt(n.length-1)}`.toLowerCase():"*****"}(e)}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:Gf.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return zi_avatarPath+e+`?v=${zi_version}`}}return n.\u0275fac=function(e){return new(e||n)(Ne(Zc),Ne(BT),Ne(PL),Ne(cQ),Ne(nc))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_h=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new Le,this._clearSubject=new Le,this._message$=this._messageSubject.asObservable(),this._clear$=this._clearSubject.asObservable()}add(e,i=!1){e&&(!1===i?this._messageSubject.next(e):!0===i&&this.zone.run(()=>this._messageSubject.next(e)))}clear(e=null,i=!1){!1===i?this._clearSubject.next(e):!0===i&&this.zone.run(()=>this._clearSubject.next(e))}get clear$(){return this._clear$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wo=(()=>{class n{constructor(){this._subject=new Le,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bi=(()=>{class n{constructor(e,i,r,o,s){this.app=e,this.zone=i,this.message=r,this.modal=o,this.urlParams=s,this._display=new Le,this.responseSubject=new Le,this.isOnLoginError=!1,this.reconnection=new UJ}get display(){return this._display.asObservable()}init(){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.zone.runOutsideAngular(()=>{console.log("[ SFS ] instantiate"),this.smartFox=new Qi.SmartFox(this.getWSServer(this.app.clientConfig.ws,this.app.clientConfig.servers)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),this.pingMonitor=new iQ(this.smartFox,e=>{this.setDisplay(e)},15e3)}),this.response(cn.Init)}getWSServer(e,i){return i?i[Math.floor(Math.random()*i.length)]:e}shutdown(e){this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.reconnection.reset(),this.pingMonitor.reset(),this.setDisplay(e)}bindEvents(e=!0){e?(this.smartFox.addEventListener(Qi.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Qi.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Qi.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Qi.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Qi.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Qi.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Qi.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Qi.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Qi.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Qi.SFSEvent.EXTENSION_RESPONSE,this.onResponse))}request(e,i){if(null==this.smartFox)return;console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i);let r=null;null!==i&&i.constructor==={}.constructor&&(r=bk.toSFSObject(i)),this.smartFox.send(new Qi.ExtensionRequest(e+"Handler",r))}response(e,i=null){return this.responseSubject.pipe(Ft(null===i?r=>r.cmd===e:r=>{var o;return r.cmd===e&&(null===(o=r.data)||void 0===o?void 0:o.code)===i}),pe(r=>r.data))}setDisplay(e,i){this.zone.run(()=>this._display.next({state:e,data:i}))}onConnection(e){if(console.log("[ SFS ] onConnection",e),e.success){this.reconnection.reset(),this.setDisplay(null),this.pingMonitor.reset();const i=new Qi.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function GJ(n){let t=new Qi.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",kf.Desktop):n.isMobile?t.putUtfString("deviceType",kf.Mobile):n.isTablet&&t.putUtfString("deviceType",kf.Tablet),t}(this.app)),i.putUtfString("version",zi_version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(Array.isArray(r)){const s=new Qi.SFSObject;r.forEach(a=>{const l=function DJ(n){return"object"!=typeof n?"":Object.keys(n)[0]}(a);s.putUtfString(l,a[l])}),i.putSFSObject("additionalParams",s)}let o=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(o=o+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),this.smartFox.send(new Qi.LoginRequest(o,"",i))}else this.setDisplay(ai.reconnect),this.reconnection.try(this.smartFox,()=>{this.setDisplay(ai.connectionLost)})}onConnectionLost(e){if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===Qi.ClientDisconnectionReason.BAN)return this.pingMonitor.reset(),void this.setDisplay(ai.ban);if(e.reason===Qi.ClientDisconnectionReason.KICK)return this.pingMonitor.reset(),void this.setDisplay(ai.kicked);this.setDisplay(ai.reconnect),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin"),this.pingMonitor.start()}onLoginError(e){console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,this.smartFox.disconnect(),this.setDisplay(e.errorCode===my.LOGIN_BANNED_USER?ai.ban:ai.loginError,this.getDisplayData(e.errorMessage))}getDisplayData(e){if(function kJ(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return{additionalOperatorData:JSON.parse(e)}}onResponse(e){if(e.cmd===Ff.Response)return;const i=bk.toObject(e.params);i.code===Yu.RealityCheck&&this.zone.run(()=>{this.modal.open(jn.notification,{type:$l.RealityCheck,message:i.errorMessage})}),i.code!==Yu.Success&&i.code!==Yu.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:Ss.danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==cn.CurrentMultiplier&&e.cmd!==cn.X&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===cn.CurrentMultiplier||e.cmd===cn.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}}return n.\u0275fac=function(e){return new(e||n)(Ne(un),Ne(Mn),Ne(_h),Ne(Wo),Ne(nc))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ei extends Le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var AL=M(6461),ic=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win"}(ic||(ic={})),ic))();let lp=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const i={src:[`${this.soundPath}sprite_audio.mp3?v=${zi_version}`],autoplay:!1,loop:!1,volume:.3,sprite:{bet_placed:[0,522.4489795918367],fly_away:[2e3,2574.126984126984],round_start:[6e3,1515.102040816327],win:[9e3,4022.857142857143]}};this._music=new AL.Howl({src:[`${this.soundPath}bg_music.mp3?v=${zi_version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new AL.Howl(i),this.soundOn=!1,this.musicOn=!1}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yi=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new Le,this._eventsObs=this._events.asObservable(),this._stateSubject=new ei(null),this._onlinePlayersSubject=new ei(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._timeLeft=e.betTimeLeft,this._onlinePlayersSubject.next(e.onlinePlayers),this._stateSubject.next(e.stageId),this.changeState$=this.connector.response(cn.ChangeState,200).pipe(Ft(i=>i.newStateId!==$i.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(cn.CurrentMultiplier,200).pipe(Ft(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:$i.End,roundId:this.roundId})),this.connector.response(cn.X,200).pipe(Ft(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:$i.End,roundId:this.roundId})),this.connector.response(cn.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(e){this._roundId=e.roundId,this._timeLeft=e.timeLeft,e.newStateId===$i.End&&this.sound.play(ic.FlyAway),e.newStateId===$i.Run&&this.sound.play(ic.RoundStart),this._stateSubject.next(e.newStateId)}getState(e=null){return null===e?this._stateObs:this._stateObs.pipe(Ft(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===$i.Bet}get isRunningState(){return this.state===$i.Run}get isEndingState(){return this.state===$i.End||this.state===$i.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(Ft(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(jn.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Ne(bi),Ne(lp),Ne(Wo))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var uo=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(uo||(uo={})),uo))();let GM=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(uo.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(uo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(uo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(uo.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(uo.isRandomSeed);return null===e||e&&"true"===e}set isRandomSeed(e){this.setItem(uo.isRandomSeed,e)}get randomSeed(){return null===this.getItem(uo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(uo.randomSeed)}set randomSeed(e){this.setItem(uo.randomSeed,e)}get manualSeed(){return null===this.getItem(uo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(uo.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(uo.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(uo.sid))}set sid(e){this.setItem(uo.sid,e)}getRandomSeed(){return vk(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(Ne(PL))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ei=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(Ei||(Ei={})),Ei))(),Si=(()=>(function(n){n.Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.AccountHistory="ifc.account.history",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.InternalRealityCheck="ifc.internal.reality.check",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game"}(Si||(Si={})),Si))(),mh=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(mh||(mh={})),mh))(),Ha=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Ha||(Ha={})),Ha))();let rc=(()=>{class n{constructor(){this._selfInited=!1,this.isInited=!1,this._commands=new Le,this._commandsObs=this._commands.asObservable(),this.sendPostMessage=(e,i)=>{console.log("%c[ IFC EVENT ] "+e,"background: #222; color: #caa817","\n",i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}setup(){this._selfInited||(this._selfInited=!0,Vi(window,"message").pipe(Ft(e=>Object.values(Or).includes(e.data.cmd))).subscribe(e=>this.onMessageCommand(e.data)))}onMessageCommand(e){console.log("%c[ IFC COMMAND ] "+e.cmd,"background: #222; color: #bada55","\n",e.data),this._commands.next(e)}command(e){return this._commandsObs.pipe(Ft(i=>i.cmd===e),pe(i=>i.data))}emitEvent(e,i){!this._selfInited||this.sendPostMessage(e,i)}emitCloseEvent(e){!HT()||this.sendPostMessage(Si.Close,e)}emitInitEvent(e){this.emitEvent(Si.Init,{isReInit:this.isInited,balance:e.user.balance,currency:e.config.currency,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),this.isInited=!0}emitUpdateStakeEvent(e,i){this.emitEvent(Si.UpdateStake,{id:e,amount:i})}emitEventStartRound(e){const i=[];e&&Array.isArray(e)&&e.forEach(r=>{i.push({id:r.betId,amount:r.data.bet})}),this.emitEvent(Si.StartRound,{bets:i})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nse=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new ei(null),this._soundSubject=new ei(null),this._musicSubject=new ei(null),this._secondBetSubject=new ei(null),this.otherSubject=new Le,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Ha),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet,"other"in e&&this.otherSettingNames.forEach(i=>{i in e.other&&this.other.set(i,e.other[i])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.emitEvent(Si.Sound,{value:e}),this.save(mh.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.emitEvent(Si.Music,{value:e}),this.save(mh.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.emitEvent(Si.Animation,{value:e}),this.save(mh.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(mh.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(Ei.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(Ne(bi),Ne(lp),Ne(rc))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ya=(()=>{class n{constructor(e,i,r){this.seed=e,this.app=i,this.settings=r}init(e){this._id=e.userId,this._balance=e.balance,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this._balance}get formattedBalance(){return(this._balance>=0?this._balance:0).toFixed(this.app.config.betPrecision)}set balance(e){this._balance=e}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(Ne(GM),Ne(un),Ne(Nse))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oc=(()=>{class n{constructor(e,i){this.modal=e,this.connector=i,this._list=[],this._activeId=null,this._activateSource=new Le,this._updateSource=new Le,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(cn.FreeBetInfo).subscribe(r=>{r.activeFreeBetsInfo&&200===r.code&&this.update(r.activeFreeBetsInfo)}),this.connector.response(cn.FreeBetFinish,200).subscribe(()=>{this.remove(this.activeFreeBet),this.activate(null)})}setList(e,i=!0){!Array.isArray(e)||(this._list=e,i&&this.autoActivation())}autoActivation(){this.activate(this._list.length>0?this._list[0].freeBetsId:null)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(null!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e=null){e!==this._activeId&&(this._activeId=e,this._activateSource.next(e))}onClaim(){this.connector.request(Ei.FreeBetFinish,{freeBetsId:this.activeFreeBet.freeBetsId})}onManage(){this.modal.open(jn.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Wo),Ne(bi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var sc=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(sc||(sc={})),sc))();function Wa(n,t=Qg){return function kse(n){return je((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ie(e,c=>{i=!0,r=c,o||gt(n(c)).subscribe(o=ie(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Hc(n,t))}let L_=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new ei(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Vi(window,"resize").pipe(pe(()=>this.getSize()),Wa(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=sc.md}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RL=(()=>{class n{constructor(){this.fakeElem=null,this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null),window.getSelection().removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),za=(()=>{class n{constructor(e,i,r,o){this.app=e,this.window=i,this.clipBoard=r,this.bsMessage=o,this._isOpen=!1,this._top10Gifs=[],this.tagUserSubject=new Le,this._openSubject=new ei(!1),this.isOpen$=this._openSubject.asObservable()}init(e){if(this.app.config.chat.isEnabled){const i=this.window.getSize().width;i>=sc.md&&(this.isOpen=!(i<sc.xl1300&&i>=sc.lg)),this.messages=function AJ(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages),this._top10Gifs=yk(e.chatSettings.top10Gifs)}}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen!==e&&(this._isOpen=e,this._openSubject.next(e),this.window.manualEmitResizeEvent())}shareBet(e){this.clipBoard.copyToClipBoard(`/share_bet:${e} `),this.bsMessage.add({value:"copied-for-chat",context:Ss.success,lifeTime:1e3,closable:!1})}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}}return n.\u0275fac=function(e){return new(e||n)(Ne(un),Ne(L_),Ne(RL),Ne(_h))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N0=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Le,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(o){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(o){}}}setup(){this.inited||(this.inited=!0,Vi(window,"message").pipe(Ft(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Vi(window,"message").pipe(Ft(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(Ei.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(Ne(bi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jM=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,o){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const s=document.createElement("script");s.innerHTML="",s.src=this.getCaptchaScriptUrl(e,i,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),DL=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,o,s){this.executeAsPromise(e,i,o).then(r).catch(a=>s?s(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((o,s)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(e,{action:i}).then(g=>this.zone.run(()=>o(g)))}catch(g){s(g)}})})})}}return n.\u0275fac=function(e){return new(e||n)(Ne(jM),Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Fse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[jM,DL],imports:[[Ot]]}),n})(),yl=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Le,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Le,this.betSetted=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ki(n,t,e){const i=y(n)||t||e?{next:n,error:t,complete:e}:n;return i?je((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ie(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):se}var vh=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(vh||(vh={})),vh))(),cp=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(cp||(cp={})),cp))();class Bse{getString(t){return t<vh.Medium?cp.Low:t<vh.High?cp.Medium:cp.High}getHex(t){return Ho(this.getString(t))}}let k0=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new Bse,this.dataSubject=new ei({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(cn.X,200).pipe(Ki(r=>{r.x<this.dataSubject.getValue().currentMultiplier&&zN("The new x is less than the previous x in the current round")}),Ft(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(cn.CurrentMultiplier,200).pipe(Ki(r=>{r.currentPayout<this.dataSubject.getValue().currentMultiplier&&zN("The new multiplier is less than the previous multiplier in the current round")}),Ft(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState($i.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(Ne(bi),Ne(Yi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:Lse}=Array;function IL(n){return 1===n.length&&Lse(n[0])?n[0]:n}function NL(...n){return 1===(n=IL(n)).length?gt(n[0]):new oe(function Use(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(gt(n[i]).subscribe(ie(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function kL(n,t,e){n?ko(e,n,t):t()}function F0(...n){const t=Pi(n),e=IL(n);return e.length?new oe(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)gt(e[s]).subscribe(ie(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,g)=>!c.length&&o[g])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Qe}function up(...n){const t=cs(n);return je((e,i)=>{(t?Wc(n,e,t):Wc(n,e)).subscribe(i)})}function hp(n,t=se){return n=null!=n?n:Vse,je((e,i)=>{let r,o=!0;e.subscribe(ie(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Vse(n,t){return n===t}function HM(...n){const t=Pi(n);return je((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)gt(n[l]).subscribe(ie(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(se))&&(s=null))},O));e.subscribe(ie(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}new oe(O);let BL=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)($(To),$(si))},n.\u0275dir=mt({type:n}),n})(),yh=(()=>{class n extends BL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275dir=mt({type:n,features:[hi]}),n})();const zo=new Qt("NgValueAccessor"),Wse={provide:zo,useExisting:vn(()=>bh),multi:!0},$se=new Qt("CompositionEventMode");let bh=(()=>{class n extends BL{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zse(){const n=ol()?ol().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)($(To),$(si),$($se,8))},n.\u0275dir=mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ae("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ti([Wse]),hi]}),n})();function UL(n){return null!=n&&"number"==typeof n.length}const xo=new Qt("NgValidators"),tu=new Qt("NgAsyncValidators");function B0(n){return null}function XL(n){return null!=n}function KL(n){const t=Eg(n)?Gn(n):n;return mS(t),t}function qL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function JL(n,t){return t.map(e=>e(n))}function QL(n){return n.map(t=>function Kse(n){return!n.validate}(t)?t:e=>t.validate(e))}function YM(n){return null!=n?function ZL(n){if(!n)return null;const t=n.filter(XL);return 0==t.length?null:function(e){return qL(JL(e,t))}}(QL(n)):null}function WM(n){return null!=n?function eU(n){if(!n)return null;const t=n.filter(XL);return 0==t.length?null:function(e){return bL(JL(e,t).map(KL)).pipe(pe(qL))}}(QL(n)):null}function tU(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function zM(n){return n?Array.isArray(n)?n:[n]:[]}function L0(n,t){return Array.isArray(n)?n.includes(t):n===t}function rU(n,t){const e=zM(t);return zM(n).forEach(r=>{L0(e,r)||e.push(r)}),e}function oU(n,t){return zM(t).filter(e=>!L0(n,e))}class sU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=YM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=WM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class nu extends sU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $o extends sU{get formDirective(){return null}get path(){return null}}let ta=(()=>{class n extends class aU{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(nu,2))},n.\u0275dir=mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&ut("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[hi]}),n})();function U_(n,t){(function KM(n,t){const e=function nU(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(tU(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function iU(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(tU(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();V0(t._rawValidators,r),V0(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function rae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&cU(n,t)})}(n,t),function sae(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function oae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&cU(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function iae(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function V0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cU(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const G_="VALID",Y0="INVALID",dp="PENDING",j_="DISABLED";function ew(n){return(W0(n)?n.validators:n)||null}function dU(n){return Array.isArray(n)?YM(n):n||null}function tw(n,t){return(W0(t)?t.asyncValidators:n)||null}function fU(n){return Array.isArray(n)?WM(n):n||null}function W0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nw=n=>n instanceof rw;function gU(n){return(n=>n instanceof vU)(n)?n.value:n.getRawValue()}function _U(n,t){const e=nw(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new kt(1e3,"");if(!i[t])throw new kt(1001,"")}function mU(n,t){nw(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new kt(1002,"")})}class iw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=dU(this._rawValidators),this._composedAsyncValidatorFn=fU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===G_}get invalid(){return this.status===Y0}get pending(){return this.status==dp}get disabled(){return this.status===j_}get enabled(){return this.status!==j_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=dU(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fU(t)}addValidators(t){this.setValidators(rU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oU(t,this._rawAsyncValidators))}hasValidator(t){return L0(this._rawValidators,t)}hasAsyncValidator(t){return L0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=dp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j_,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=G_,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===G_||this.status===dp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j_:G_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=dp,this._hasOwnPendingAsyncValidator=!0;const e=KL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function uae(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=nw(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof dae)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?j_:this.errors?Y0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dp)?dp:this._anyControlsHaveStatus(Y0)?Y0:G_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){W0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vU extends iw{constructor(t=null,e,i){super(ew(e),tw(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W0(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){QM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){QM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class rw extends iw{constructor(t,e,i){super(ew(e),tw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){mU(this,t),Object.keys(t).forEach(i=>{_U(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=gU(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class dae extends iw{constructor(t,e,i){super(ew(e),tw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){mU(this,t),t.forEach((i,r)=>{_U(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>gU(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const gae={provide:nu,useExisting:vn(()=>As)},EU=(()=>Promise.resolve(null))();let As=(()=>{class n extends nu{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new vU,this._registered=!1,this.update=new jt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function JM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===bh?e=o:function cae(n){return Object.getPrototypeOf(n.constructor)===yh}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function qM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){U_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){EU.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;EU.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function G0(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)($($o,9),$(xo,10),$(tu,10),$(zo,10),$(wn,8))},n.\u0275dir=mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ti([gae]),hi,Jr]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();const sw=new Qt("NgModelWithFormControlWarning");function RU(n){return"number"==typeof n?n:parseInt(n,10)}let Eh=(()=>{class n{constructor(){this._validator=B0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):B0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,features:[Jr]}),n})();const Lae={provide:xo,useExisting:vn(()=>z0),multi:!0};let z0=(()=>{class n extends Eh{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>RU(e),this.createValidator=e=>function WL(n){return t=>function eu(n){return null==n||0===n.length}(t.value)||!UL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275dir=mt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&oi("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ti([Lae]),hi]}),n})();const Uae={provide:xo,useExisting:vn(()=>$0),multi:!0};let $0=(()=>{class n extends Eh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>RU(e),this.createValidator=e=>function zL(n){return t=>UL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ur(n)))(i||n)}}(),n.\u0275dir=mt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&oi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ti([Uae]),hi]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[TU]]}),n})(),na=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[LU]}),n})(),jae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sw,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[LU]}),n})();const UU=["*"],dle=["dialog"];function Yle(n,t){1&n&&z(0),2&n&&Et(he(2).title)}function Wle(n,t){}function zle(n,t){if(1&n&&(R(0,"h3",3),ce(1,Yle,1,1,"ng-template",null,4,Qo),ce(3,Wle,0,0,"ng-template",5),I()),2&n){const e=So(2),i=he();N(3),q("ngTemplateOutlet",i.isTitleTemplate()?i.title:e)("ngTemplateOutletContext",i.context)}}function Sh(n){return null!=n}function fp(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const jU={animation:!0,transitionTimerDelayMs:5},lce=()=>{},{transitionTimerDelayMs:cce}=jU,H_=new Map,Xo=(n,t,e,i)=>{let r=i.context||{};const o=H_.get(t);if(o)switch(i.runningTransition){case"continue":return Qe;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),H_.delete(t)}const s=e(t,i.animation,r)||lce;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),Yt(void 0).pipe(function sce(n){return t=>new oe(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Le,l=new Le,c=a.pipe(function jse(...n){return t=>Wc(t,Yt(...n))}(!0));H_.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const g=function ace(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const E=Vi(t,"transitionend").pipe(Zi(c),Ft(({target:P})=>P===t));NL(Hc(g+cce).pipe(Zi(c)),E,l).pipe(Zi(c)).subscribe(()=>{H_.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Y_=(()=>{class n{constructor(){this.animation=jU.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();var Wr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Wr||(Wr={})),Wr))();const q0=(n,t)=>!!t&&t.some(e=>e.contains(n)),t5=(n,t)=>!t||null!=function oce(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),wce="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function n5(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>wce?()=>setTimeout(()=>n(),100):n)(()=>{const c=Vi(t,"keydown").pipe(Zi(r),Ft(w=>w.which===Wr.Escape),Ki(w=>w.preventDefault())),g=Vi(t,"mousedown").pipe(pe(w=>{const P=w.target;return 2!==w.button&&!q0(P,s)&&("inside"===e?q0(P,o)&&t5(P,a):"outside"===e?!q0(P,o):t5(P,a)||!q0(P,o))}),Zi(r)),E=Vi(t,"mouseup").pipe(HM(g),Ft(([w,P])=>P),QT(0),Zi(r));NL([c.pipe(pe(w=>0)),E.pipe(pe(w=>1))]).subscribe(w=>n.run(()=>i(w)))}))}const i5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function r5(n){const t=Array.from(n.querySelectorAll(i5)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const Rce=/\s+/,o5=new class xce{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,r){const[o="top",s="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),c=parseFloat(l.marginTop),g=parseFloat(l.marginBottom),E=parseFloat(l.marginLeft),w=parseFloat(l.marginRight);let P=0,A=0;switch(o){case"top":P=a.top-(e.offsetHeight+c+g);break;case"bottom":P=a.top+a.height;break;case"left":A=a.left-(e.offsetWidth+E+w);break;case"right":A=a.left+a.width}switch(s){case"top":P=a.top;break;case"bottom":P=a.top+a.height-e.offsetHeight;break;case"left":A=a.left;break;case"right":A=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?A=a.left+a.width/2-e.offsetWidth/2:P=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(A)}px, ${Math.round(P)}px)`;const D=e.getBoundingClientRect(),B=document.documentElement,Y=window.innerHeight||B.clientHeight,K=window.innerWidth||B.clientWidth;return D.left>=0&&D.top>=0&&D.right<=K&&D.bottom<=Y}};function s5(n,t,e,i,r){let o=Array.isArray(e)?e:e.split(Rce);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=P=>{const[A,D]=P.split("-"),B=[];return r&&(B.push(`${r}-${A}`),D&&B.push(`${r}-${A}-${D}`),B.forEach(Y=>{a.add(Y)})),B};r&&s.forEach(P=>{a.remove(`${r}-${P}`)});let c=o.findIndex(P=>"auto"===P);c>=0&&s.forEach(function(P){null==o.find(A=>-1!==A.search("^"+P))&&o.splice(c++,1,P)});const g=t.style;g.position="absolute",g.top="0",g.left="0",g["will-change"]="transform";let E=null,w=!1;for(E of o){let P=l(E);if(o5.positionElements(n,t,E,i)){w=!0;break}r&&P.forEach(A=>{a.remove(A)})}return w||(E=o[0],l(E),o5.positionElements(n,t,E,i)),E}new Date(1882,10,12),new Date(2174,10,25);let d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,na]]}),n})(),Gce=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["",8,"navbar"]]}),n})(),Ew=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)($(si))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&ut("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),eb=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)($(vn(()=>gp)),$(si))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&Sr(r,Ew,4),2&e){let o;qn(o=Jn())&&(i.menuItems=o)}},hostVars:5,hostBindings:function(e,i){1&e&&Ae("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return i.dropdown.onKeyDown(o)})("keydown.Space",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&(oi("x-placement",i.placement),ut("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),tb=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)($(vn(()=>gp)),$(si))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&oi("aria-expanded",i.dropdown.isOpen())}}),n})(),Sw=(()=>{class n extends tb{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)($(vn(()=>gp)),$(si))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Ae("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&oi("aria-expanded",i.dropdown.isOpen())},features:[ti([{provide:tb,useExisting:vn(()=>n)}]),hi]}),n})(),gp=(()=>{class n{constructor(e,i,r,o,s,a,l){this._changeDetector=e,this._document=r,this._ngZone=o,this._elementRef=s,this._renderer=a,this._closed$=new Le,this._bodyContainer=null,this._open=!1,this.openChange=new jt,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){n5(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let o=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(o=c)}),i!==Wr.Space&&i!==Wr.Enter){if(i!==Wr.Tab){if(a||s){if(this.open(),r.length){switch(i){case Wr.ArrowDown:o=Math.min(o+1,r.length-1);break;case Wr.ArrowUp:if(this._isDropup()&&-1===o){o=r.length-1;break}o=Math.max(o-1,0);break;case Wr.Home:o=0;break;case Wr.End:o=r.length-1}r[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(i5);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Vi(e.target,"focusout").pipe(Xn(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Vi(s,"click").pipe(Xn(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?s5(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(o,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(o,"z-index","1050"),i.appendChild(o,r),i.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,o=this._elementRef.nativeElement;r.removeClass(o,"dropup"),r.removeClass(o,"dropdown"),i.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(o,s);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,s))}}}return n.\u0275fac=function(e){return new(e||n)($(wn),$(Gce),$(Di),$(Mn),$(si),$(To),$(f5,8))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(Sr(r,eb,5),Sr(r,tb,5)),2&e){let o;qn(o=Jn())&&(i._menu=o.first),qn(o=Jn())&&(i._anchor=o.first)}},hostVars:2,hostBindings:function(e,i){2&e&&ut("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Jr]}),n})(),p5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();class Mh{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class jce{constructor(t,e,i,r,o,s){this._type=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Xn(1),wi(()=>Xo(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?Xo(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Ki(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Yt(void 0)}_getContentRef(t,e){if(t){if(t instanceof ji){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Mh([i.rootNodes],i)}return new Mh([[this._renderer.createText(`${t}`)]])}return new Mh([])}}let Vce=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Xn(1)).subscribe(()=>{Xo(this._zone,this._el.nativeElement,(e,i)=>{i&&fp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Xo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)($(si),$(Mn))},n.\u0275cmp=pt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(Ic("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),ut("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class zr{close(t){}dismiss(t){}}class Hce{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Le,this._dismissed=new Le,this._hidden=new Le,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Zi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Zi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function rce(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Yt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),F0(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var X_=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(X_||(X_={})),X_))();let Yce=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Le,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new jt,this.shown=new Le,this.hidden=new Le}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Xn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=F0(Xo(this._zone,e,()=>e.classList.remove("show"),i),Xo(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},i=Xo(this._zone,this._elRef.nativeElement,(o,s)=>{s&&fp(o),o.classList.add("show")},e);F0(i,Xo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Vi(e,"keydown").pipe(Zi(this._closed$),Ft(r=>r.which===Wr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(X_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Vi(this._dialogEl.nativeElement,"mousedown").pipe(Zi(this._closed$),Ki(()=>i=!1),ea(()=>Vi(e,"mouseup").pipe(Zi(this._closed$),Xn(1))),Ft(({target:r})=>e===r)).subscribe(()=>{i=!0}),Vi(e,"click").pipe(Zi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(X_.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=r5(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Xo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)($(Di),$(si),$(Mn))},n.\u0275cmp=pt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Jo(dle,7),2&e){let r;qn(r=Jn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(oi("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ic("modal d-block"+(i.windowClass?" "+i.windowClass:"")),ut("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:UU,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Sg(),R(0,"div",0,1)(2,"div",2),Tg(3),I()()),2&e&&Ic("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Wce=()=>{};let zce=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Wce}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ce=(()=>{class n{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Le,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new jt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Vi(t,"focusin").pipe(Zi(e),pe(o=>o.target));Vi(t,"keydown").pipe(Zi(e),Ft(o=>o.which===Wr.Tab),HM(r)).subscribe(([o,s])=>{const[a,l]=r5(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Vi(t,"click").pipe(Zi(e),HM(r),pe(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:Sh(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const g=new zr,E=this._getContentRef(e,o.injector||i,r,g,o);let w=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,P=this._attachWindowComponent(e,s,E),A=new Hce(P,E,w,o.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(P),A.result.then(l,l),A.result.then(c,c),g.close=D=>{A.close(D)},g.dismiss=D=>{A.dismiss(D)},this._applyWindowOptions(P.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,o),w.changeDetectorRef.detectChanges()),P.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(Vce).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(Yce).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Sh(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Sh(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof ji?this._createFromTemplateRef(r,o):function GU(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Mh([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Mh([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Mh([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),l=Er.create({providers:[{provide:zr,useValue:o}],parent:i}),c=a.create(l),g=c.location.nativeElement;return s.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Mh([[g]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(Ne(Fg),Ne(Er),Ne(Di),Ne(zce),Ne(bf),Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xce=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(Ne(Y_))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nb=(()=>{class n{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(Ne(vf),Ne(Er),Ne($ce),Ne(Xce))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[nb]}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})();class eue{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const tue={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},P5=n=>n>0?QT(n):t=>t;let sue=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(Ne(Y_))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aue=0,lue=(()=>{class n{isTitleTemplate(){return this.title instanceof ji}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(Nc("id",i.id),Ic("popover"+(i.popoverClass?" "+i.popoverClass:"")),ut("fade",i.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:UU,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(Sg(),Pe(0,"div",0),ce(1,zle,4,2,"h3",1),R(2,"div",2),Tg(3),I()),2&e&&(N(1),q("ngIf",i.title))},directives:[Kt,Of],styles:["ngb-popover-window.bs-popover-top>.arrow,ngb-popover-window.bs-popover-bottom>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-top-left>.arrow,ngb-popover-window.bs-popover-bottom-left>.arrow{left:2em}ngb-popover-window.bs-popover-top-right>.arrow,ngb-popover-window.bs-popover-bottom-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}\n"],encapsulation:2,changeDetection:0}),n})(),cue=(()=>{class n{constructor(e,i,r,o,s,a,l,c,g){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new jt,this.hidden=new jt,this._ngbPopoverWindowId="ngb-popover-"+aue++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new jce(lue,r,o,i,this._ngZone,g),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&s5(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-popover")})}_isDisabled(){return!(!this.disablePopover&&(this.ngbPopover||this.popoverTitle))}open(e){if(!this._windowRef&&!this._isDisabled()){const{windowRef:i,transition$:r}=this._popupService.open(this.ngbPopover,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),n5(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function oue(n,t,e,i,r,o,s=0,a=0){const l=function nue(n,t=tue){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=t[o[0]]||o;return new eue(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===l.length&&l[0].isManual())return()=>{};const c=function iue(n,t,e,i){return new oe(r=>{const o=[],s=()=>r.next(!0),a=()=>r.next(!1),l=()=>r.next(!i());return e.forEach(c=>{c.open===c.close?o.push(n.listen(t,c.open,l)):o.push(n.listen(t,c.open,s),n.listen(t,c.close,a))}),()=>{o.forEach(c=>c())}})}(n,t,l,i).pipe(function rue(n,t,e){return i=>{let r=null;const o=i.pipe(pe(l=>({open:l})),Ft(l=>{const c=e();return c===l.open||r&&r.open!==c?(r&&r.open!==l.open&&(r=null),!1):(r=l,!0)}),_o());return fi(o.pipe(Ft(l=>l.open),P5(n)),o.pipe(Ft(l=>!l.open),P5(t))).pipe(Ft(l=>l===r&&(r=null,l.open!==e())),pe(l=>l.open))}}(s,a,i)).subscribe(g=>g?r():o());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:i,disablePopover:r,popoverClass:o}){o&&this.isOpen()&&(this._windowRef.instance.popoverClass=o.currentValue),(e||i||r)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)($(si),$(To),$(Er),$(ys),$(sue),$(Mn),$(Di),$(wn),$(Fg))},n.\u0275dir=mt({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Jr]}),n})(),A5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),x5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),R5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),D5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),I5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),N5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();new Qt("live announcer delay",{providedIn:"root",factory:function due(){return 100}});let k5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})();const fue=[$U,XU,qU,ZU,e5,d5,p5,g5,y5,w5,A5,x5,R5,D5,I5,N5,k5];let _p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[fue,$U,XU,qU,ZU,e5,d5,p5,g5,y5,w5,A5,x5,R5,D5,I5,N5,k5]}),n})(),F5=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)($(si),$(k0))},n.\u0275dir=mt({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const pue=function(n,t){return{padding:n,borderRadius:t}};let El=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 11px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:2,vars:5,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(R(0,"div",0),z(1),I()),2&e&&(q("ngStyle",xa(2,pue,i.padding,i.borderRadius)),N(1),Me(" ",i.multiplier.toFixed(2),"x\n"))},directives:[F5,Vg],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),wh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&Pe(0,"div",0),2&e&&q("ngClass",i.size)},directives:[Cf],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@-webkit-keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function gue(n,t){if(1&n&&(R(0,"div",12)(1,"div",13),Pe(2,"app-bubble-multiplier",14),I(),R(3,"div",15),z(4),Te(5,"date"),I()()),2&n){const e=he();N(2),q("multiplier",e.fairnessData.result),N(2),Me(" ",an(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const _ue=function(n){return{value:n}};function mue(n,t){if(1&n&&(R(0,"div",23)(1,"div",36)(2,"span",37),z(3," shared.modals.fairness.player "),I(),R(4,"div",38),Pe(5,"img",39),z(6),I()(),R(7,"div",40)(8,"span",21),z(9,"shared.modals.fairness.seed"),I(),R(10,"div",41),z(11),I()()()),2&n){const e=he(),i=e.index,r=e.$implicit,o=he(2);N(2),q("translateParams",vs(5,_ue,i+1)),N(3),q("src",o.getAvatar(r),Ui)("alt",o.getAvatar(r)),N(1),Me(" ",o.app.getFormattedUsername(r.username)," "),N(5),Me(" ",r.seed," ")}}function vue(n,t){if(1&n&&(R(0,"div"),ce(1,mue,12,7,"div",35),I()),2&n){const e=t.$implicit;he();const i=So(22);N(1),q("ngIf",e)("ngIfElse",i)}}function yue(n,t){1&n&&(R(0,"div",42),z(1," shared.modals.fairness.not enough "),I())}function bue(n,t){if(1&n){const e=Ct();R(0,"div",16)(1,"div",17)(2,"div",18),Pe(3,"div",19),R(4,"div",20)(5,"span",21),z(6,"shared.modals.fairness.server seed"),I(),R(7,"div",22),z(8,"shared.modals.fairness.server tip"),I()()(),R(9,"div",23)(10,"input",24,25),Ae("ngModelChange",function(r){return dt(e),he().fairnessData.serverSeed=r})("click",function(){dt(e);const r=So(11);return he().onSelect(r)}),I()()(),R(12,"div",26)(13,"div",18),Pe(14,"div",27),R(15,"div",20)(16,"span",21),z(17,"shared.modals.fairness.client seed"),I(),R(18,"div",22),z(19,"shared.modals.fairness.client tip"),I()()(),ce(20,vue,2,2,"div",28),ce(21,yue,2,0,"ng-template",null,29,Qo),I(),R(23,"div",30)(24,"div",18),Pe(25,"div",31),R(26,"div",20)(27,"span",21),z(28,"shared.modals.fairness.hash"),I(),R(29,"div",22),z(30,"shared.modals.fairness.hash tip"),I()()(),R(31,"div",23)(32,"input",24,32),Ae("ngModelChange",function(r){return dt(e),he().fairnessData.seedSHA256=r})("click",function(){dt(e);const r=So(33);return he().onSelect(r)}),I()()(),R(34,"div",33)(35,"div",18)(36,"span",21),z(37,"shared.modals.fairness.hex"),I(),R(38,"span",21),z(39,"shared.modals.fairness.decimal"),I(),R(40,"span",21),z(41,"shared.modals.fairness.result"),I()(),R(42,"div",23)(43,"span"),z(44),I(),R(45,"span"),z(46),I(),R(47,"span"),z(48),I()()(),R(49,"div",34)(50,"div",18)(51,"span",21),z(52,"shared.modals.fairness.hex"),I()(),R(53,"div",23)(54,"span"),z(55),I()(),R(56,"div",18)(57,"span",21),z(58,"shared.modals.fairness.decimal"),I()(),R(59,"div",23)(60,"span"),z(61),I()(),R(62,"div",18)(63,"span",21),z(64,"shared.modals.fairness.result"),I()(),R(65,"div",23)(66,"span"),z(67),I()()()()}if(2&n){const e=he();N(10),q("readonly",!0)("ngModel",e.fairnessData.serverSeed),N(10),q("ngForOf",e.players),N(12),q("readonly",!0)("ngModel",e.fairnessData.seedSHA256),N(12),Et(e.fairnessData.partSeedHexNumber),N(2),Et(e.fairnessData.partSeedDecimalNumber),N(2),Et(e.fairnessData.result),N(7),Et(e.fairnessData.partSeedHexNumber),N(6),Et(e.fairnessData.partSeedDecimalNumber),N(6),Et(e.fairnessData.result)}}function Eue(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader"),I())}let Ph=class{constructor(t,e,i,r){this.activeModal=t,this.app=e,this.modal=i,this.connector=r,this.loaded=!1}ngOnInit(){this.connector.request(Ei.RoundFairness,{roundId:this.betId}),this.connector.response(cn.RoundFairness,200).pipe(St(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(jn.whatIsPf)}onSelect(t){t.select()}get players(){const t=this.fairnessData.playerSeeds;for(let e=t.length;e<3;e++)t.push(null);return t}getAvatar(t){return zi_avatarPath+t.profileImage+`?v=${zi_version}`}ngOnDestroy(){this.loaded=!1}};Ph.\u0275fac=function(t){return new(t||Ph)($(zr),$(un),$(Wo),$(bi))},Ph.\u0275cmp=pt({type:Ph,selectors:[["app-fairness"]],decls:17,vars:7,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["translate","",1,"help"],["translate","",3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],["translate",""],["translate","",1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],["translate","",3,"translateParams"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],["translate","",1,"value","empty"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),ce(4,gue,6,5,"div",2),R(5,"button",3),Ae("click",function(){return e.activeModal.close()}),R(6,"span",4),z(7,"\xd7"),I()()(),R(8,"div",5)(9,"div",6),ce(10,bue,68,11,"div",7),ce(11,Eue,2,0,"div",8),I()(),R(12,"div",9)(13,"div",10),z(14," shared.modals.fairness.help "),R(15,"span",11),Ae("click",function(){return e.onPFModalOpen()}),z(16," shared.what_is_provably_fair "),I()()()),2&t&&(N(2),Gi(" ",ke(3,5,"shared.round")," ",e.betId," "),N(2),q("ngIf",e.loaded),N(6),q("ngIf",e.loaded),N(1),q("ngIf",!e.loaded))},directives:[Kt,El,Zn,bh,ta,As,Ci,wh],pipes:[Dn,al],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.14ac68b338b918d9.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.72620f2a0ac61808.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.8df4a583745aa47b.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),Ph=He([vi()],Ph);let Sue=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(un))},n.\u0275cmp=pt({type:n,selectors:[["app-what-is-pf-modal"]],decls:53,vars:39,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],["translate",""],[1,"text-center","text-uppercase"],["translate","",1,"description","mt-2"],["translate","",1,"mt-3"],[1,"description","mt-2"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"div",5),Pe(9,"div",6),I(),R(10,"div",7)(11,"span"),z(12),Te(13,"translate"),I()(),R(14,"div",8)(15,"span",9),z(16,"shared.modals.provably-fair.top text"),I()(),R(17,"div",10),z(18),Te(19,"translate"),I(),R(20,"div",9),z(21,"shared.modals.provably-fair.Simple"),I(),R(22,"div",11),z(23," shared.modals.provably-fair.text1 "),I(),R(24,"div",12),z(25,"shared.modals.provably-fair.more"),I(),R(26,"div",13),z(27),Te(28,"translate"),Te(29,"translate"),Te(30,"translate"),I(),R(31,"div",13),z(32),Te(33,"translate"),I(),R(34,"div",14),Pe(35,"div",15),I(),R(36,"div",10),z(37),Te(38,"translate"),I(),R(39,"div",16)(40,"div"),z(41),Te(42,"translate"),I(),R(43,"div"),z(44),Te(45,"translate"),I(),R(46,"div"),z(47),Te(48,"translate"),Te(49,"translate"),I(),R(50,"div"),z(51),Te(52,"translate"),I()()()),2&e&&(N(2),Me(" ",ke(3,13,"shared.what_is_provably_fair"),"? "),N(10),Me(" Provably Fair - ",ke(13,15,"shared.modals.provably-fair.slogan")," "),N(6),Me(" ",ke(19,17,"shared.modals.provably-fair.How does it work")," "),N(9),Og(" ",ke(28,19,"shared.modals.provably-fair.text2-1")," ",ke(29,21,"shared.modals.provably-fair.text2-2")," ",ke(30,23,"shared.modals.provably-fair.text2-3")," "),N(5),Me(" ",ke(33,25,"shared.modals.provably-fair.text2-4")," "),N(5),Me(" ",ke(38,27,"shared.modals.provably-fair.video title")," "),N(4),Me("- ",ke(42,29,"shared.modals.provably-fair.stats-1"),""),N(3),Me("- ",ke(45,31,"shared.modals.provably-fair.stats-2"),""),N(3),Gi(" - ",ke(48,33,"shared.modals.provably-fair.settings-1")," ",ke(49,35,"shared.modals.provably-fair.settings-2")," "),N(4),Me("- ",ke(52,37,"shared.modals.provably-fair.settings-3"),""))},directives:[Zn],pipes:[Dn],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.77cec112dd06b391.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),Tue=(()=>{class n{constructor(e){this.seed=e,this.finish=new jt,this.isSaveBtnEnabled=!0}ngOnInit(){this.seedValue=this.seed.manualSeed}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)($(GM))},n.\u0275cmp=pt({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:26,vars:11,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["translate",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"seed-body"],["translate","",1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),z(4," shared.modals.fairness-settings.seed-change.change seed "),I(),R(5,"button",4),Ae("click",function(){return i.handlerClose()}),R(6,"span",5),z(7,"\xd7"),I()()(),R(8,"div",6)(9,"div",7),z(10," shared.modals.fairness-settings.seed-change.enter new seed "),I(),R(11,"div",8)(12,"input",9),Ae("ngModelChange",function(o){return i.seedValue=o})("ngModelChange",function(o){return i.validateSeedValue(o)}),I(),R(13,"button",10),Ae("click",function(){return i.handlerRandom()}),R(14,"span",11),z(15),Te(16,"translate"),I()()(),R(17,"div",12)(18,"button",13),Ae("click",function(){return i.handlerSave()}),R(19,"span",11),z(20),Te(21,"translate"),I()(),R(22,"button",14),Ae("click",function(){return i.handlerClose()}),R(23,"span",11),z(24),Te(25,"translate"),I()()()()()()),2&e&&(N(12),q("ngModel",i.seedValue),N(3),Et(ke(16,5,"shared.random")),N(3),q("disabled",!i.isSaveBtnEnabled),N(2),Et(ke(21,7,"shared.save")),N(4),Et(ke(25,9,"shared.cancel")))},directives:[Zn,bh,ta,As],pipes:[Dn],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function Cue(n,t){1&n&&(R(0,"div",34)(1,"div",35),z(2," shared.modals.fairness-settings.alert "),I()())}function Oue(n,t){if(1&n){const e=Ct();R(0,"app-seed-change",36),Ae("finish",function(){return dt(e),he().changeSeed=!1}),I()}}let Ah=class{constructor(t,e,i,r,o,s,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=o,this.clipboard=s,this.activeModal=a,this.changeSeed=!1,this.serverSeed=null,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(Ei.ServerSeed,null),this.connector.response(cn.ServerSeed,200).pipe(St(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Ss.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(jn.whatIsPf)}};function Mue(n,t){if(1&n){const e=Ct();R(0,"img",9),Ae("click",function(){const o=dt(e).$implicit;return he().onSaveAvatar(o.name)}),I()}if(2&n){const e=t.$implicit,i=he();ut("active",i.user.avatar===e.name),q("src",i.getAvatar(e.name),Ui)("alt",i.getAvatar(e.name))}}Ah.\u0275fac=function(t){return new(t||Ah)($(Wo),$(GM),$(_h),$(bi),$(yl),$(RL),$(zr))},Ah.\u0275cmp=pt({type:Ah,selectors:[["app-fairness-settings"]],decls:70,vars:16,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],["translate",""],["translate","",1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],["translate","",1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],["translate","",1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],["translate","",1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return e.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4),ce(8,Cue,3,0,"div",5),R(9,"div",6)(10,"p",7),z(11,"shared.modals.fairness-settings.tooltip.text"),I(),R(12,"p",8),Ae("click",function(){return e.onPFModalOpen()}),Pe(13,"i",9),z(14," shared.what_is_provably_fair "),I()(),R(15,"div",10)(16,"div",11)(17,"div",12),Pe(18,"i",13),R(19,"span",7),z(20,"shared.modals.fairness-settings.client-part.title"),I()(),R(21,"div",14)(22,"span",7),z(23,"shared.modals.fairness-settings.client-part.text"),I()()(),R(24,"div",15)(25,"label",16),Ae("click",function(){return e.onSelectClientSeedType(!0)}),R(26,"span",17),Pe(27,"i",18),I(),R(28,"span",7),z(29," shared.modals.fairness-settings.client-part.random "),I()(),R(30,"div",19)(31,"div",20)(32,"div",21)(33,"p")(34,"span",22),z(35," shared.modals.fairness-settings.client-part.current "),I(),R(36,"span"),z(37),I()()(),R(38,"i",23),Ae("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),I()()()(),R(39,"div",15)(40,"label",16),Ae("click",function(){return e.onSelectClientSeedType(!1)}),R(41,"span",17),Pe(42,"i",18),I(),R(43,"span",7),z(44," shared.modals.fairness-settings.client-part.manual "),I()(),R(45,"div",24)(46,"div",25)(47,"div",21)(48,"p")(49,"span",22),z(50," shared.modals.fairness-settings.client-part.current "),I(),R(51,"span"),z(52),I()()(),R(53,"i",23),Ae("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),I()(),R(54,"button",26),Ae("click",function(){return e.changeSeed=!0}),R(55,"span"),z(56),Te(57,"translate"),I()()()()(),R(58,"div",27)(59,"div",28),Pe(60,"i",29),R(61,"span",7),z(62,"shared.modals.fairness-settings.server seed"),I()(),R(63,"div",30)(64,"div",31)(65,"div",21),z(66),I()()()()(),R(67,"div",32),z(68,"shared.modals.fairness-settings.bottom"),I(),ce(69,Oue,1,0,"app-seed-change",33)),2&t&&(N(2),Me(" ",ke(3,12,"shared.provably_fair_settings")," "),N(6),q("ngIf",e.betSetted),N(16),ut("active",e.seed.isRandomSeed),N(13),Et(e.seed.randomSeed),N(2),ut("active",!e.seed.isRandomSeed),N(13),Et(e.seed.manualSeedWithId),N(2),q("disabled",e.seed.isRandomSeed),N(2),Et(ke(57,14,"shared.change")),N(10),Me(" ",null===e.serverSeed?"loading...":e.serverSeed," "),N(3),q("ngIf",e.changeSeed))},directives:[Kt,Zn,Tue],pipes:[Dn],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.e62efb43de5363fc.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.72620f2a0ac61808.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.14ac68b338b918d9.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.163c9ecbadb7cbd9.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),Ah=He([vi()],Ah);let wue=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let o=1;o<=72;o++)this.avatars.push({name:"av-"+o+".png"})}getAvatar(e){return zi_avatarPath+e+`?v=${zi_version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(Ei.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(bi),$(Ya))},n.\u0275cmp=pt({type:n,selectors:[["app-game-avatar"]],decls:12,vars:1,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["translate","",1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2,"shared.modals.game-avatar.title"),I(),R(3,"button",2),Ae("click",function(){return i.activeModal.close()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4)(7,"div",5),ce(8,Mue,1,4,"img",6),I()(),R(9,"div",7)(10,"button",8),Ae("click",function(){return i.activeModal.close()}),z(11," shared.close "),I()()),2&e&&(N(8),q("ngForOf",i.avatars))},directives:[Zn,Ci],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function Pue(n,t){if(1&n){const e=Ct();R(0,"div",3)(1,"div",4)(2,"span",5),Ae("click",function(){return dt(e),he().selectClick(null)}),Pe(3,"i",6),I(),R(4,"div",7),z(5," shared.modals.free-bets-management.play with cash "),I()()()}2&n&&ut("selected",he().freeBets.isActive(null))}function Aue(n,t){if(1&n){const e=Ct();R(0,"span",5),Ae("click",function(){dt(e);const r=he(2);return r.selectClick(r.freeBet.freeBetsId)}),Pe(1,"i",6),I()}}function xue(n,t){if(1&n&&(R(0,"div",18),z(1),I()),2&n){const e=he(2);N(1),Me(" ",e.freeBet.numberOfFreeBets," ")}}function Rue(n,t){if(1&n&&(R(0,"div",19),z(1),I()),2&n){const e=he(2);N(1),Et(e.freeBet.freeBetsLeft)}}function Due(n,t){if(1&n&&(R(0,"div",20)(1,"div",21)(2,"div",22),z(3," shared.modals.free-bets-management.granted "),I(),R(4,"div",23),z(5),Te(6,"date"),I()(),R(7,"div",24)(8,"div",22),z(9," shared.modals.free-bets-management.min cashout coefficient "),I(),R(10,"div",23),z(11),I()(),R(12,"div",24)(13,"div",22),z(14," shared.modals.free-bets-management.expires "),I(),R(15,"div",23),z(16),Te(17,"date"),I()()()),2&n){const e=he(2);N(5),Me(" ",an(6,3,e.freeBet.freeBetsStartDate,"dd.MM.y")," "),N(6),Et(e.freeBet.freeBetsMinCashOut),N(5),Me(" ",an(17,6,e.freeBet.freeBetsEndDate,"dd.MM.y")," ")}}function Iue(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",4),ce(2,Aue,2,0,"span",9),ce(3,xue,2,1,"div",10),ce(4,Rue,2,1,"div",11),R(5,"div",12)(6,"div",13)(7,"span"),z(8),I()()(),R(9,"div",14)(10,"div",13),z(11),I()(),R(12,"div",15),Ae("click",function(){return dt(e),he().toggleDisplayDetails()}),Pe(13,"div",16),I()(),ce(14,Due,18,9,"div",17),I()}if(2&n){const e=he();ut("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),N(2),q("ngIf",!e.isArchive),N(1),q("ngIf",e.isArchive),N(1),q("ngIf",!e.isArchive),N(4),Me(" ",e.freeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),N(3),Me(" ",e.freeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),N(2),ut("rotate",e.isDisplayedDetails),N(1),q("ngIf",e.isDisplayedDetails)}}let Nue=(()=>{class n{constructor(e,i,r,o){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=o,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)($(Yi),$(oc),$(zr),$(un))},n.\u0275cmp=pt({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],["translate","",1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],["translate","",1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(R(0,"div",0),ce(1,Pue,6,2,"div",1),ce(2,Iue,15,12,"div",2),I()),2&e&&(q("ngSwitch",i.itemType),N(1),q("ngSwitchCase","playWithCash"))},directives:[sl,Bc,Zn,jg,Kt],pipes:[al],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function kue(n,t){1&n&&Pe(0,"app-free-bet-management-item",13),2&n&&q("itemType","playWithCash")}function Fue(n,t){if(1&n){const e=Ct();R(0,"div",14)(1,"div",1),z(2,"shared.modals.free-bets-management.active free bets"),I(),R(3,"div",15),Ae("click",function(){return dt(e),he().onClickArchiveHistory()}),Pe(4,"div",16),R(5,"div",1),z(6,"shared.archive"),I()()()}}function Bue(n,t){if(1&n){const e=Ct();R(0,"div",17)(1,"div",1),z(2,"shared.archive"),I(),R(3,"div",15),Ae("click",function(){return dt(e),he().isArchive=!1}),Pe(4,"div",18),R(5,"div",1),z(6,"shared.back"),I()()()}if(2&n){const e=he();N(3),ut("disabled",!e.loaded)}}function Lue(n,t){if(1&n&&(R(0,"div",27),Pe(1,"app-free-bet-management-item",28),I()),2&n){const e=t.$implicit,i=he(2);N(1),q("isArchive",i.isArchive)("freeBet",e)}}function Uue(n,t){if(1&n){const e=Ct();R(0,"div",29)(1,"div",30),Ae("click",function(){dt(e);const r=he(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),Pe(2,"div",31),R(3,"span",32),z(4,"shared.load_more"),I()()()}}function Gue(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader",33),I())}function jue(n,t){if(1&n&&(R(0,"div",19)(1,"div",20)(2,"div",21),z(3," shared.modals.free-bets-management.quantity "),I(),R(4,"div",22),z(5),Te(6,"translate"),I(),R(7,"div",23),z(8),Te(9,"translate"),I()(),R(10,"div",24),ce(11,Lue,2,2,"div",25),ce(12,Uue,5,0,"div",26),ce(13,Gue,2,0,"div",11),I()()),2&n){const e=he();N(2),ut("archive",e.isArchive),N(3),Gi(" ",ke(6,9,"shared.bet")," ",e.app.config.currency," "),N(3),Gi(" ",ke(9,11,"shared.win")," ",e.app.config.currency," "),N(3),q("ngForOf",e.freeBetsList),N(1),q("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),N(1),q("ngIf",e.isArchive&&!e.loaded)}}function Vue(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader"),I())}function Hue(n,t){1&n&&(R(0,"div",37),z(1," shared.modals.free-bets-management.no active free bets "),I())}function Yue(n,t){1&n&&(R(0,"div",37),z(1," shared.modals.free-bets-management.nothing yet "),I())}function Wue(n,t){if(1&n&&(R(0,"div",34),Pe(1,"div",35),ce(2,Hue,2,0,"div",36),ce(3,Yue,2,0,"div",36),I()),2&n){const e=he();N(2),q("ngIf",!e.isArchive),N(1),q("ngIf",e.isArchive)}}let xh=class{constructor(t,e,i,r){this.app=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1}ngOnInit(){this.connector.response(cn.FreeBetsArchive).pipe(St(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(Ei.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};xh.\u0275fac=function(t){return new(t||xh)($(un),$(zr),$(oc),$(bi))},xh.\u0275cmp=pt({type:xh,selectors:[["app-free-bets-management"]],decls:15,vars:6,consts:[[1,"title","modal-header","canSelect"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],["translate","",1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],["translate","",1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text","translate","",4,"ngIf"],["translate","",1,"none-text"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2,"shared.modals.free-bets-management.title"),I(),R(3,"button",2),Ae("click",function(){return e.activeModal.close()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4)(7,"div",5)(8,"div",6),ce(9,kue,1,1,"app-free-bet-management-item",7),ce(10,Fue,7,0,"div",8),ce(11,Bue,7,2,"div",9),ce(12,jue,14,13,"div",10),ce(13,Vue,2,0,"div",11),ce(14,Wue,4,2,"div",12),I()()()),2&t&&(N(9),q("ngIf",!e.isArchive),N(1),q("ngIf",!e.isArchive),N(1),q("ngIf",e.isArchive),N(1),q("ngIf",e.freeBetsCount>0),N(1),q("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),N(1),q("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[Zn,Kt,Nue,Ci,wh],pipes:[Dn],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.adefaa8953b7a11e.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.a8377d083674a681.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.b2d16e043b6ad29d.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.3da436b8879be7c2.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.45bbe491bf39179a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.bf5127f9fcce9dbc.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),xh=He([vi()],xh);var ns=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es"}(ns||(ns={})),ns))();const B5=n=>{const t={};return t[ns.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1",t[ns.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1",t[ns.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1",t[ns.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1",t[ns.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1",t[ns.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1",t[ns.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1",t[ns.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1",t[ns.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1",t[ns.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1",t.hasOwnProperty(n)?t[n]:t[ns.EN]};function zue(n,t){1&n&&(R(0,"li",24),z(1," shared.modals.rules.game-rules.game-functions.bet-cashout.point2 "),I())}function $ue(n,t){1&n&&(R(0,"ul",23)(1,"li",24),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1 "),I(),R(3,"li",24),z(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2 "),I(),R(5,"li",24),z(6," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3 "),I(),R(7,"li",24),z(8," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4 "),I(),R(9,"li",24),z(10," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5 "),I()())}function Xue(n,t){if(1&n&&(R(0,"ul",23)(1,"li",24),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6 "),I(),R(3,"li",33),z(4),Te(5,"translate"),I()()),2&n){const e=he(2);N(4),Me(" ",ke(5,1,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function Kue(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title "),I(),ce(3,$ue,11,0,"ul",32),ce(4,Xue,6,3,"ul",32),I()),2&n){const e=he();N(3),q("ngIf",void 0!==e.app.config.autoBetOptions),N(1),q("ngIf",void 0===e.app.config.autoBetOptions)}}function que(n,t){1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.in-game-chat.title "),I(),R(3,"ul",23)(4,"li",24),z(5," shared.modals.rules.game-rules.game-functions.in-game-chat.point1 "),I()()())}function Jue(n,t){1&n&&(R(0,"div",27)(1,"div",34),z(2),Te(3,"translate"),I(),R(4,"ul",23)(5,"li",24),z(6," shared.modals.rules.game-rules.game-functions.free-bets.point1 "),I()()()),2&n&&(N(2),Me(" ",ke(3,1,"shared.free_bets")," "))}function Que(n,t){1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.rain-feature.title "),I(),R(3,"ul",23)(4,"li",24),z(5," shared.modals.rules.game-rules.game-functions.rain-feature.point1 "),I()()())}const Zue=function(n,t){return{minBankValue:n,currency:t}};function ehe(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.minimum_bank_value.title "),I(),R(3,"ul",23)(4,"li",33),z(5),Te(6,"translate"),I()()()),2&n){const e=he();N(5),Me(" ",an(6,1,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",xa(4,Zue,e.minBankValue,e.app.config.currency))," ")}}const the=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function nhe(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.return-to-player.title "),I(),R(3,"ul",23)(4,"li",33),z(5),Te(6,"translate"),I()()()),2&n){const e=he();N(5),Me(" ",an(6,1,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",xa(4,the,e.app.config.returnToPlayer,100-e.app.config.returnToPlayer))," ")}}function ihe(n,t){1&n&&(R(0,"li",24),z(1," shared.modals.rules.game-rules.game-functions.other.unfinished game "),I())}const rhe=function(n,t){return{maxWin:n,currency:t}};function ohe(n,t){if(1&n&&(R(0,"li",33),z(1),Te(2,"translate"),I()),2&n){const e=he();N(1),Me(" ",an(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",xa(4,rhe,e.app.config.maxUserWin,e.app.config.currency))," ")}}function she(n,t){if(1&n&&(R(0,"div",35)(1,"div")(2,"span",36),z(3," shared.modals.rules.game-rules.game-functions.version "),I(),R(4,"span"),z(5),I()()()),2&n){const e=he();N(5),Et(e.app.config.gameVersion)}}let ahe=(()=>{class n{constructor(e,i,r,o,s){this.activeModal=e,this.app=i,this.modal=r,this.urlParams=o,this.sanitizer=s,this.minBankValue=(1.01*this.app.config.minBet).toFixed(this.app.config.betPrecision),this.gameRulesAutoCashOutType=by}ngOnInit(){const e=B5(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(jn.whatIsPf)}get isShowRainFeature(){try{return this.app.config.chat.rain.isEnabled||this.app.config.chat.promo.isEnabled}catch(e){return!0}}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(un),$(Wo),$(nc),$(TT))},n.\u0275cmp=pt({type:n,selectors:[["app-rules"]],decls:117,vars:26,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["translate","",1,"text-grey"],["href","#","translate","",3,"click"],[1,"mt-4","mb-2","text-uppercase"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"steps-wrapper"],["translate","",1,"pt-5","pl-2"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],["translate","",1,"step-text","pt-2"],[1,"step","step-2"],["translate","",1,"step-text"],[1,"step","step-3"],["translate","",1,"mt-3","text-grey"],[1,"rules-list","pt-3"],["translate","",1,"rules-list-title"],[1,"list-group"],["translate","",1,"list-group-item"],[1,"icon-fair"],["translate","",1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item","translate","",4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","list-group-item",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"list-group-item"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"],["translate",""]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"p",5),z(9,"shared.modals.rules.game-rules.main-text"),I(),R(10,"a",6),Ae("click",function(o){return i.onPFModalOpen(o)}),z(11," shared.modals.rules.game-rules.link "),I(),R(12,"h6",7),z(13),Te(14,"translate"),I(),R(15,"div",8)(16,"div",9),Pe(17,"iframe",10),I()(),R(18,"div",11)(19,"h6",12),z(20," shared.modals.rules.game-rules.steps.title "),I(),R(21,"div",13)(22,"div",14)(23,"h3"),z(24,"01"),I(),Pe(25,"div",15),R(26,"div",16)(27,"span",1),z(28),Te(29,"translate"),I(),z(30," shared.modals.rules.game-rules.steps.first-step "),I()(),R(31,"div",17)(32,"h3"),z(33,"02"),I(),Pe(34,"div",15),R(35,"div",18)(36,"span",1),z(37),Te(38,"translate"),I(),z(39," shared.modals.rules.game-rules.steps.second-step "),I()(),R(40,"div",19)(41,"h3"),z(42,"03"),I(),Pe(43,"div",15),R(44,"div",18)(45,"span",1),z(46),Te(47,"translate"),I(),z(48," shared.modals.rules.game-rules.steps.third-step "),I()()(),R(49,"p",20),z(50," shared.modals.rules.game-rules.steps.text "),I(),R(51,"div",21)(52,"div",22),z(53," shared.modals.rules.game-rules.details.title "),I(),R(54,"ul",23)(55,"li",24),z(56," shared.modals.rules.game-rules.details.point1 "),I(),R(57,"li",24),z(58," shared.modals.rules.game-rules.details.point2 "),I(),R(59,"li",24),z(60," shared.modals.rules.game-rules.details.point3-1 "),Pe(61,"span",25),z(62," shared.modals.rules.game-rules.details.point3-2 "),I()()()(),R(63,"h6",26),z(64," shared.modals.rules.game-rules.game-functions.title "),I(),R(65,"div",27)(66,"div",22),z(67," shared.modals.rules.game-rules.game-functions.bet-cashout.title "),I(),R(68,"ul",23)(69,"li",24),z(70," shared.modals.rules.game-rules.game-functions.bet-cashout.point1 "),I(),ce(71,zue,2,0,"li",28),R(72,"li",24),z(73," shared.modals.rules.game-rules.game-functions.bet-cashout.point3 "),I(),R(74,"li",24),z(75," shared.modals.rules.game-rules.game-functions.bet-cashout.point4 "),I()()(),ce(76,Kue,5,2,"div",29),R(77,"div",27)(78,"div",22),z(79," shared.modals.rules.game-rules.game-functions.live-bets-statistics.title "),I(),R(80,"ul",23)(81,"li",24),z(82," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1 "),I(),R(83,"li",24),z(84," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2 "),I(),R(85,"li",24),z(86," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3 "),I()()(),ce(87,que,6,0,"div",29),ce(88,Jue,7,3,"div",29),ce(89,Que,6,0,"div",29),R(90,"div",27)(91,"div",22),z(92," shared.modals.rules.game-rules.game-functions.randomization.title "),I(),R(93,"ul",23)(94,"li",24),z(95," shared.modals.rules.game-rules.game-functions.randomization.point1 "),R(96,"a",6),Ae("click",function(o){return i.onPFModalOpen(o)}),z(97," shared.modals.rules.game-rules.link "),I()(),R(98,"li",24),z(99," shared.modals.rules.game-rules.game-functions.randomization.point2 "),I(),R(100,"li",24),z(101," shared.modals.rules.game-rules.game-functions.randomization.point3-1 "),Pe(102,"span",25),z(103," shared.modals.rules.game-rules.game-functions.randomization.point3-2 "),I()()(),ce(104,ehe,7,7,"div",29),ce(105,nhe,7,7,"div",29),R(106,"div",27)(107,"div",22),z(108," shared.modals.rules.game-rules.game-functions.other.title "),I(),R(109,"ul",23)(110,"li",24),z(111," shared.modals.rules.game-rules.game-functions.other.point1 "),I(),R(112,"li",24),z(113," shared.modals.rules.game-rules.game-functions.other.point2 "),I(),ce(114,ihe,2,0,"li",28),ce(115,ohe,3,7,"li",30),I()(),ce(116,she,6,1,"div",31),I()),2&e&&(N(2),Et(ke(3,16,"shared.game_rules")),N(11),Me(" ",ke(14,18,"shared.how_to_play")," "),N(4),q("src",i.videoURL,_v),N(11),Et(ke(29,20,"shared.bet")),N(9),Et(ke(38,22,"shared.watch")),N(9),Me(" ",ke(47,24,"shared.cash_out")," "),N(25),q("ngIf",i.app.config.isMultipleBetsEnabled),N(5),q("ngIf",i.app.isAutoBetFeatureEnabled),N(11),q("ngIf",i.app.config.chat.isEnabled),N(1),q("ngIf",i.app.isFreeBetsEnabled),N(1),q("ngIf",i.isShowRainFeature),N(15),q("ngIf",i.app.config.isGameRulesHaveMinimumBankValue),N(1),q("ngIf",i.app.config.returnToPlayer>0),N(9),q("ngIf",i.app.config.isRuleUnfinishedGame),N(1),q("ngIf",i.app.config.isGameRulesHaveMaxWin),N(1),q("ngIf",i.app.config.gameVersion))},directives:[Zn,Kt],pipes:[Dn],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.6fd455f16f929594.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.652dcfd9d89241e2.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:240px;height:140px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-1[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-01.d2bc6dfa6d5518ce.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.6aae9ac8161a78ed.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.8bd39c6ac174d9c4.png)}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"]}),n})(),lhe=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=o}ngOnInit(){const e=B5(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(jn.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(TT),$(Wo),$(nc))},n.\u0275cmp=pt({type:n,selectors:[["app-quick-help-modal"]],decls:29,vars:4,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"step"],[1,"bullet","bullet-1"],["translate",""],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],["translate","",1,"btn","btn-link","btn-sm","mx-auto",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),z(2),Te(3,"translate"),I(),R(4,"button",1),Ae("click",function(){return i.activeModal.close()}),R(5,"span",2),z(6,"\xd7"),I()()(),R(7,"div",3)(8,"div",4)(9,"div",5),Pe(10,"iframe",6),I()(),R(11,"div",7)(12,"div",8),z(13,"01"),I(),R(14,"p",9),z(15,"shared.modals.quick-help.step1"),I()(),R(16,"div",7)(17,"div",10),z(18,"02"),I(),R(19,"p",9),z(20,"shared.modals.quick-help.step2"),I()(),R(21,"div",7)(22,"div",11),z(23,"03"),I(),R(24,"p",9),z(25,"shared.modals.quick-help.step3"),I()()(),R(26,"div",12)(27,"button",13),Ae("click",function(){return i.onShowRules()}),z(28," shared.modals.quick-help.details "),I()()),2&e&&(N(2),Me("",ke(3,2,"shared.how_to_play"),"?"),N(8),q("src",i.videoURL,_v))},directives:[Zn],pipes:[Dn],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.894883471c6dcfbf.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.c3a9f1cc78219734.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var K_=(()=>(function(n){n.RealityCheck="reality_check"}(K_||(K_={})),K_))(),Rh=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(Rh||(Rh={})),Rh))();function che(n,t){1&n&&(R(0,"p",7),z(1," shared.modals.notification.alderney_message "),I())}function uhe(n,t){if(1&n&&(R(0,"p",8),z(1),I()),2&n){const e=he();N(1),Et(e.params.message)}}function hhe(n,t){if(1&n){const e=Ct();R(0,"p",9)(1,"button",10),Ae("click",function(){return dt(e),he().onOpenAccountHistory()}),z(2," shared.modals.notification.account_history "),I()()}}function dhe(n,t){if(1&n){const e=Ct();R(0,"div",11)(1,"button",12),Ae("click",function(){dt(e);const r=he();return r.onRealityCheck(r.realityCheckAction.Continue)}),z(2),Te(3,"translate"),I(),R(4,"button",13),Ae("click",function(){dt(e);const r=he();return r.onRealityCheck(r.realityCheckAction.Stop)}),z(5),Te(6,"translate"),I()()}2&n&&(N(2),Me(" ",ke(3,2,"shared.continue")," "),N(3),Me(" ",ke(6,4,"shared.stop")," "))}function fhe(n,t){if(1&n){const e=Ct();R(0,"div",11)(1,"button",14),Ae("click",function(){return dt(e),he().activeModal.close()}),z(2),Te(3,"translate"),I()()}if(2&n){const e=he();N(1),q("disabled",e.isAcknowledgeDisabled),N(1),Me(" ",ke(3,2,"shared.acknowledge")," ")}}let Dh=class{constructor(t,e,i,r,o,s,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=o,this.ifc=s,this.app=a,this.urlParams=l,this.realityCheckAction=Rh,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&Hc(5e3).pipe(St(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===$l.RealityCheck}get isInternalRealityCheck(){return this.params.type===$l.InternalRealityCheck}get isAlderney(){return this.params.type===$l.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(Ei.NotificationCallback,{notificationType:K_.RealityCheck,action:t}),t===Rh.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(ai.shutdown),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===Uf.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===t_.IfcEvent?this.ifc.emitEvent(Si.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(jn.myBetsHistory)}};function phe(n,t){if(1&n&&(R(0,"div",2),z(1),I()),2&n){const e=he();N(1),Et(e.freeBetLabel)}}function ghe(n,t){if(1&n&&(R(0,"div"),z(1),I()),2&n){const e=he();N(1),Et(e.amount.toFixed(e.app.config.betPrecision))}}Dh.\u0275fac=function(t){return new(t||Dh)($(zr),$(bi),$(Wo),$(N0),$(yl),$(rc),$(un),$(nc))},Dh.\u0275cmp=pt({type:Dh,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4","translate","",4,"ngIf"],["class","text-center p-4",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],["translate","",1,"text-center","p-4"],[1,"text-center","p-4"],[1,"text-center"],["translate","",1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I()(),R(4,"div",2),ce(5,che,2,0,"p",3),ce(6,uhe,2,1,"p",4),ce(7,hhe,3,0,"p",5),I(),ce(8,dhe,7,6,"div",6),ce(9,fhe,4,4,"div",6)),2&t&&(N(2),Et(ke(3,6,"shared.notification")),N(3),q("ngIf",e.isAlderney),N(1),q("ngIf",e.isRCButtonsVisible),N(1),q("ngIf",e.isRCButtonsVisible),N(1),q("ngIf",e.isRCButtonsVisible),N(1),q("ngIf",e.isAlderney))},directives:[Kt,Zn],pipes:[Dn],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),Dh=He([vi()],Dh);let ib=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)($(un))},n.\u0275cmp=pt({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[4,"ngIf"],[1,"free-bet"]],template:function(e,i){1&e&&(ce(0,phe,2,1,"div",0),ce(1,ghe,2,1,"div",1)),2&e&&(q("ngIf",i.isFreeBet),N(1),q("ngIf",!i.isFreeBet))},directives:[Kt],styles:[".free-bet[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}"]}),n})();function _he(n,t){if(1&n&&(R(0,"div",12),z(1),I()),2&n){const e=he();let i;N(1),Me(" ",null!==(i=null==e.bet.startBalance?null:e.bet.startBalance.toFixed(e.app.config.betPrecision))&&void 0!==i?i:""," ")}}function mhe(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he();N(1),Me(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision),"")}}let vhe=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)($(un),$(za),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:18,vars:19,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex","justify-content-end","pl-2"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"start-balance","pl-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),z(3),Te(4,"date"),I(),R(5,"div"),z(6),Te(7,"date"),I()(),ce(8,_he,2,1,"div",2),R(9,"div",3),Pe(10,"app-bet-amount",4),I(),R(11,"div",5),Pe(12,"app-bubble-multiplier",6),I(),R(13,"div",7),ce(14,mhe,2,1,"span",8),I(),R(15,"div",9)(16,"div",10),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(17,"div",11),Ae("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),I()()()),2&e&&(ut("large-width",i.app.config.isBetsHistoryStartBalanceEnabled)("celebrated",i.bet.winAmount),N(3),Et(an(4,13,i.bet.cashOutDate,"HH:mm")),N(3),Et(an(7,16,i.bet.cashOutDate,"dd-MM-yy")),N(2),q("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),N(2),q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),N(2),q("multiplier",i.bet.payout||i.bet.maxMultiplier),N(2),q("ngIf",i.bet.winAmount),N(1),ut("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[Kt,ib,El],pipes:[al],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}.large-width[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:100%}.large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"]}),n})();function yhe(n,t){if(1&n&&(R(0,"div",18),z(1),Te(2,"translate"),I()),2&n){const e=he();N(1),Gi(" ",ke(2,2,"shared.Start_balance")," ",e.app.config.currency," ")}}function bhe(n,t){1&n&&Pe(0,"app-bet-item",19),2&n&&q("bet",t.$implicit)}function Ehe(n,t){if(1&n){const e=Ct();R(0,"button",20),Ae("click",function(){return dt(e),he().onLoadMore()}),z(1," shared.load_more "),I()}2&n&&q("disabled",0===he().lastBetId)}function She(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader"),I())}let Ih=class{constructor(t,e,i,r){this.cd=t,this.app=e,this.activeModal=i,this.connector=r,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(cn.BetHistory,200).pipe(St(this),Ft(()=>!this.loaded)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges()})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(Ei.BetHistory,0===t?null:{lastBetId:t})}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}};Ih.\u0275fac=function(t){return new(t||Ih)($(wn),$(un),$(zr),$(bi))},Ih.\u0275cmp=pt({type:Ih,selectors:[["app-my-bets-history"]],decls:28,vars:17,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-1","py-2"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],["translate","",1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","pl-1"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm","translate","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"start-balance","pl-2"],[3,"bet"],["type","button","translate","",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return e.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),z(11,"game.bets-widget.date"),I(),ce(12,yhe,3,4,"div",8),R(13,"div",9),z(14),Te(15,"translate"),I(),R(16,"div",10),z(17,"X"),I(),R(18,"div",11),z(19),Te(20,"translate"),I(),Pe(21,"div",12),I(),R(22,"div",13),Vt(23),ce(24,bhe,1,1,"app-bet-item",14),Ht(),I()(),R(25,"div",15),ce(26,Ehe,2,1,"button",16),ce(27,She,2,0,"div",17),I()()),2&t&&(N(2),Et(ke(3,11,"shared.my_bet_history")),N(7),ut("large-width",e.app.config.isBetsHistoryStartBalanceEnabled),N(3),q("ngIf",e.app.config.isBetsHistoryStartBalanceEnabled),N(2),Gi(" ",ke(15,13,"shared.bet")," ",e.app.config.currency," "),N(5),Gi(" ",ke(20,15,"shared.cash_out")," ",e.app.config.currency," "),N(5),q("ngForOf",e.betHistory),N(2),q("ngIf",e.loaded),N(1),q("ngIf",!e.loaded))},directives:[Zn,Kt,Ci,vhe,wh],pipes:[Dn],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"],changeDetection:0}),Ih=He([vi()],Ih);let The=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(un))},n.\u0275cmp=pt({type:n,selectors:[["app-game-limits"]],decls:33,vars:9,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],["translate",""],[1,"badge","badge-success","px-2","font-weight-normal"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"ul",5)(9,"li",6)(10,"div")(11,"span",7),z(12,"shared.modals.game-limits.min-bet"),I(),R(13,"span"),z(14),I()(),R(15,"span",8),z(16),I()(),R(17,"li",6)(18,"div")(19,"span",7),z(20,"shared.modals.game-limits.max-bet"),I(),R(21,"span"),z(22),I()(),R(23,"span",8),z(24),I()(),R(25,"li",6)(26,"div")(27,"span",7),z(28,"shared.modals.game-limits.max-win-one-bet"),I(),R(29,"span"),z(30),I()(),R(31,"span",8),z(32),I()()()()),2&e&&(N(2),Et(ke(3,7,"shared.game_limits")),N(12),Me(" ",i.app.config.currency,":"),N(2),Me(" ",i.app.config.minBet," "),N(6),Me(" ",i.app.config.currency,":"),N(2),Me(" ",i.app.config.maxBet," "),N(6),Me(" ",i.app.config.currency,":"),N(2),Me(" ",i.app.config.maxUserWin," "))},directives:[Zn],pipes:[Dn],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom:0}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-top:0}"]}),n})(),rb=(()=>{class n{constructor(e){this.cd=e,this.toggle=new jt,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)($(wn))},n.\u0275cmp=pt({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[ti([{provide:zo,useExisting:vn(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(R(0,"div",0),Ae("click",function(){return i.onClick()}),Pe(1,"span",1),I()),2&e&&ut("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function Che(n,t){if(1&n){const e=Ct();R(0,"li",6)(1,"div")(2,"span",7),z(3),I()(),R(4,"app-ui-switcher",8),Ae("toggle",function(r){const s=dt(e).$implicit;return he().user.settings.changeOther(s,r)}),I()()}if(2&n){const e=t.$implicit,i=he();N(3),Me("shared.modals.other_settings.",i.translations.get(e),""),N(1),q("ngModel",i.user.settings.getOther(e))}}let Ohe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[Ha.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Ha.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(un),$(Ya))},n.\u0275cmp=pt({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],["translate",""],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),z(2),Te(3,"translate"),I(),R(4,"button",1),Ae("click",function(){return i.activeModal.close()}),R(5,"span",2),z(6,"\xd7"),I()()(),R(7,"div",3)(8,"ul",4),ce(9,Che,5,2,"li",5),I()()),2&e&&(N(2),Et(ke(3,2,"shared.modals.other_settings.title")),N(7),q("ngForOf",i.user.settings.otherKeys))},directives:[Ci,Zn,rb,ta,As],pipes:[Dn],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})(),Mhe=(()=>{class n{constructor(e,i){this.ngbModal=e,this.modal=i}init(){this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case jn.bugReport:break;case jn.fairness:this.ngbModal.open(Ph,{size:"lg"}).componentInstance.betId=i;break;case jn.fairnessSettings:this.ngbModal.open(Ah,{size:"lg"});break;case jn.freeBets:this.ngbModal.open(xh);break;case jn.avatar:this.ngbModal.open(wue,{size:"lg"});break;case jn.rules:this.ngbModal.open(ahe,{size:"xl"});break;case jn.whatIsPf:this.ngbModal.open(Sue,{size:"xl"});break;case jn.quickHelp:this.ngbModal.open(lhe,{size:"lg"});break;case jn.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.ngbModal.open(Dh,{backdrop:"static"}).componentInstance.params=i;break;case jn.myBetsHistory:this.ngbModal.open(Ih);break;case jn.gameLimits:this.ngbModal.open(The);break;case jn.otherSettings:this.ngbModal.open(Ohe)}}}return n.\u0275fac=function(e){return new(e||n)(Ne(nb),Ne(Wo))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function whe(n,t){if(1&n&&(R(0,"div",34),z(1),I()),2&n){const e=he(2);N(1),Me(" ",e.freeBets.freeBetsCount," ")}}function Phe(n,t){if(1&n){const e=Ct();R(0,"div",31),Ae("click",function(){return dt(e),he().onFreeBetsManagementOpen()}),R(1,"div",13)(2,"div",14),Pe(3,"div",32),I(),R(4,"div",25),z(5),Te(6,"translate"),I(),ce(7,whe,2,1,"div",33),I()()}if(2&n){const e=he();N(5),Me(" ",ke(6,2,"shared.free_bets")," "),N(2),q("ngIf",e.freeBets.freeBetsCount>0)}}function Ahe(n,t){if(1&n){const e=Ct();R(0,"div",23),Ae("click",function(){return dt(e),he().onOtherSettingsOpen()}),R(1,"div",13)(2,"div",14),Pe(3,"div",35),I(),R(4,"div",36),z(5),Te(6,"translate"),I()()()}2&n&&(N(5),Me(" ",ke(6,1,"shared.Other_Settings")," "))}function xhe(n,t){if(1&n){const e=Ct();R(0,"a",37),Ae("click",function(){return dt(e),he().onBackToHome()}),Pe(1,"div",38),R(2,"span",9),z(3,"shared.home"),I()()}}let Nh=class{constructor(t,e,i,r,o,s,a,l,c,g,E,w){this.connector=t,this.mainService=e,this.app=i,this.user=r,this.sound=o,this.betControl=s,this.freeBets=a,this.proxy=l,this.ifc=c,this.cd=g,this.modal=E,this.urlParams=w}ngOnInit(){this.ifc.command(Or.OpenHelp).pipe(St(this)).subscribe(()=>this.onRulesOpen()),this.ifc.command(Or.SetSound).pipe(St(this)).subscribe(t=>this.setSetting(Or.SetSound,t.value)),this.ifc.command(Or.SetMusic).pipe(St(this)).subscribe(t=>this.setSetting(Or.SetMusic,t.value)),this.ifc.command(Or.SetAnimation).pipe(St(this)).subscribe(t=>this.setSetting(Or.SetAnimation,t.value))}setSetting(t,e){switch(t){case Or.SetSound:this.user.settings.sound=e;break;case Or.SetMusic:this.user.settings.music=e;break;case Or.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get avatar(){return zi_avatarPath+this.user.avatar+`?v=${zi_version}`}onChangeAvatar(){this.modal.open(jn.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(jn.freeBets)}onFairnessOpen(){this.modal.open(jn.fairnessSettings)}onRulesOpen(){this.modal.open(jn.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===t_.IfcEvent?this.ifc.emitEvent(Si.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(jn.myBetsHistory)}onGameLimitsOpen(){this.modal.open(jn.gameLimits)}onOtherSettingsOpen(){this.modal.open(jn.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===Uf.IfcEvent)return this.proxy.sendBackToHome(this.urlParams.returnUrl),void this.ifc.emitEvent(Si.BackToHome,{returnUrl:this.urlParams.returnUrl});window.open(this.urlParams.returnUrl,"_top")}};function Rhe(n,t){if(1&n&&(R(0,"a",16),Pe(1,"img",17),I()),2&n){const e=he();ut("disabled",null===e.urlParams.returnUrl),q("href",e.homeUrl,Ui),N(1),q("src",e.brandLogo,Ui)}}function Dhe(n,t){if(1&n){const e=Ct();R(0,"button",18),Ae("click",function(){return dt(e),he().onOpenHelp()}),Pe(1,"div",19),R(2,"div",20),z(3),Te(4,"translate"),I()()}2&n&&(N(3),Me(" ",ke(4,1,"shared.how_to_play"),"? "))}function Ihe(n,t){if(1&n&&(R(0,"div",21),z(1),I()),2&n){const e=he();N(1),Me(" ",e.freeBets.freeBetsCount," ")}}function Nhe(n,t){if(1&n){const e=Ct();R(0,"div",22),Ae("click",function(){dt(e);const r=he();return r.chat.isOpen=!r.chat.isOpen}),Pe(1,"div",23),I()}}Nh.\u0275fac=function(t){return new(t||Nh)($(bi),$(Yi),$(un),$(Ya),$(lp),$(yl),$(oc),$(N0),$(rc),$(wn),$(Wo),$(nc))},Nh.\u0275cmp=pt({type:Nh,selectors:[["app-settings-menu"]],decls:72,vars:21,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],["translate",""],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],["translate","",1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["class","list-menu-item info-item","ngbDropdownItem","","translate","",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","fair-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","rule-icon"],[1,"icon","history-icon"],[1,"icon","limits-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","","translate","",1,"list-menu-item","info-item",3,"click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Pe(4,"img",4),I(),R(5,"div",5),z(6),I()(),R(7,"div",6),Ae("click",function(){return e.onChangeAvatar()}),Pe(8,"div",7),R(9,"div",8)(10,"div",9),z(11,"shared.change"),I(),R(12,"div",9),z(13,"shared.avatar"),I()()()(),R(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),Pe(19,"div",15),I(),R(20,"span",16),z(21,"shared.sound"),I()(),R(22,"div",17)(23,"app-ui-switcher",18),Ae("ngModelChange",function(r){return e.user.settings.sound=r}),I()()(),R(24,"div",12)(25,"div",13)(26,"div",14),Pe(27,"div",19),I(),R(28,"span",16),z(29,"shared.music"),I()(),R(30,"div",17)(31,"app-ui-switcher",18),Ae("ngModelChange",function(r){return e.user.settings.music=r}),I()()(),R(32,"div",12)(33,"div",13)(34,"div",14),Pe(35,"div",20),I(),R(36,"span",16),z(37,"shared.animation"),I()(),R(38,"div",17)(39,"app-ui-switcher",18),Ae("ngModelChange",function(r){return e.user.settings.animation=r}),I()()()(),R(40,"div",21),ce(41,Phe,8,4,"div",22),R(42,"div",23),Ae("click",function(){return e.onFairnessOpen()}),R(43,"div",13)(44,"div",14),Pe(45,"div",24),I(),R(46,"div",25),z(47),Te(48,"translate"),I()()(),R(49,"div",23),Ae("click",function(){return e.onRulesOpen()}),R(50,"div",13)(51,"div",14),Pe(52,"div",26),I(),R(53,"div",25),z(54),Te(55,"translate"),I()()(),R(56,"div",23),Ae("click",function(){return e.onMyBetsHistoryOpen()}),R(57,"div",13)(58,"div",14),Pe(59,"div",27),I(),R(60,"div",25),z(61),Te(62,"translate"),I()()(),R(63,"div",23),Ae("click",function(){return e.onGameLimitsOpen()}),R(64,"div",13)(65,"div",14),Pe(66,"div",28),I(),R(67,"div",25),z(68),Te(69,"translate"),I()()(),ce(70,Ahe,7,3,"div",29),I()(),ce(71,xhe,4,0,"a",30),I()),2&t&&(N(4),q("src",e.avatar,Ui)("alt",e.avatar),N(2),Et(e.app.getFormattedUsername(e.user.username)),N(17),q("ngModel",e.user.settings.sound),N(8),q("ngModel",e.user.settings.music),N(8),q("ngModel",e.user.settings.animation),N(2),q("ngIf",e.app.isFreeBetsEnabled),N(6),Me(" ",ke(48,13,"shared.provably_fair_settings")," "),N(7),Me(" ",ke(55,15,"shared.game_rules")," "),N(7),Me(" ",ke(62,17,"shared.my_bet_history")," "),N(7),Me(" ",ke(69,19,"shared.game_limits")," "),N(2),q("ngIf",e.user.settings.isOtherEnabled),N(1),q("ngIf",e.urlParams.returnUrl))},directives:[Ew,Zn,rb,ta,As,Kt],pipes:[Dn],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.7de2fa68db9e693f.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.bab0db6ddc4f0013.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.b84ddfd4bbbc03e5.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.2420fd6cd7e47259.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.3cce29a379dde9c5.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.700839c06e198a2e.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42156111146ca273.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.31c7a66c425df21e.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.62e86bcf2523195c.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.8ea300e6c072aab3.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),Nh=He([vi()],Nh);let kh=class{constructor(t,e,i,r,o,s,a,l,c,g){this.mainService=t,this.chat=e,this.modal=i,this.cd=r,this.connector=o,this.freeBets=s,this.ifc=a,this.userService=l,this.app=c,this.urlParams=g}ngOnInit(){this.chat.isOpen$.pipe(St(this)).subscribe(()=>this.cd.detectChanges()),this.connector.response(cn.NewBalance,200).pipe(St(this)).subscribe(t=>{this.userService.balance=t.newBalance,this.ifc.emitEvent(Si.UpdateBalance,{amount:this.userService.balance,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}),this.freeBets.onUpdate$.pipe(St(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.command(Or.SetBalance).pipe(St(this)).subscribe(t=>{this.userService.balance=t.value,this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${zi_brandPath}${this.app.clientConfig.brandLogo}?v=${zi_version}`}onOpenHelp(){this.modal.open(jn.quickHelp)}};kh.\u0275fac=function(t){return new(t||kh)($(Yi),$(za),$(Wo),$(wn),$(bi),$(oc),$(rc),$(Ya),$(un),$(nc))},kh.\u0275cmp=pt({type:kh,selectors:[["app-header"]],decls:20,vars:11,consts:[[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],["class","btn btn-sm btn-quick-help disabled-on-game-focused shadow-none p-0 px-1",3,"click",4,"ngIf"],[1,"second-block","d-flex"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"badge","badge-danger","badge-notification","position-absolute"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),ce(2,Rhe,2,4,"a",2),Pe(3,"div",3),ce(4,Dhe,5,3,"button",4),I(),R(5,"div",5)(6,"div",6)(7,"div",7)(8,"div")(9,"span",8),z(10),I(),R(11,"span",9),z(12),I()()(),R(13,"div",10)(14,"div",11),Pe(15,"div",12),ce(16,Ihe,2,1,"div",13),R(17,"div",14),Pe(18,"app-settings-menu"),I()()()(),ce(19,Nhe,2,0,"div",15),I()()),2&t&&(N(2),q("ngIf",e.app.clientConfig.brandLogo),N(1),ut("game-logo-ab",e.app.isBrandAdjarabet),N(1),q("ngIf",!0===e.app.config.quickHelp),N(3),ut("long-precision",e.app.isLongPrecision),N(3),Me(" ",e.userService.formattedBalance," "),N(2),Et(e.app.config.currency),N(1),q("placement","bottom-right"),N(3),q("ngIf",e.freeBets.freeBetsCount>0),N(3),q("ngIf",!e.chat.isOpen&&e.app.config.chat.isEnabled))},directives:[Kt,gp,Sw,eb,Nh],pipes:[Dn],styles:[".header[_ngcontent-%COMP%]{background-color:#1b1c1d}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.cafbd29233306bf7.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.83de67e984debc60.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;margin-left:2px}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{margin-left:20px;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(question-brown.7770399d23b5438d.svg)}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.2dd58692fde31c48.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0px;right:0px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.b016cf6877c43f2e.svg) no-repeat center center}"],changeDetection:0}),kh=He([vi()],kh);var mp=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(mp||(mp={})),mp))();const khe=["slider"],Fhe=function(n){return{width:n}};function Bhe(n,t){if(1&n){const e=Ct();Vt(0),R(1,"button",4),Ae("click",function(){const o=dt(e).$implicit;return he().onClickTab(o)}),z(2),I(),Ht()}if(2&n){const e=t.$implicit,i=he();N(1),ut("active",i.activeTab===e),q("ngStyle",vs(5,Fhe,i.tabWidth+"px")),N(1),Gi(" ",i.translatePath,".",e," ")}}const Lhe=function(n,t){return{width:n,background:t}};let Mw=(()=>{class n{constructor(e,i){this.renderer=e,this.cd=i,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="rgb(44, 45, 48)",this.toggle=new jt,this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,i,r){return i*r.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(r=>{this.renderer.setStyle(this.slider.nativeElement,r,`translate(${e})`)})}writeValue(e){this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)($(To),$(wn))},n.\u0275cmp=pt({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,i){if(1&e&&Jo(khe,7),2&e){let r;qn(r=Jn())&&(i.slider=r.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[ti([{provide:zo,useExisting:vn(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],["translate","",1,"tab",3,"ngStyle","click"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1,2),ce(3,Bhe,3,7,"ng-container",3),I()),2&e&&(ut("disabled",i.disabled),N(1),q("ngStyle",xa(4,Lhe,i.tabWidth+"px",i.slidingColor)),N(2),q("ngForOf",i.tabs))},directives:[Vg,Ci,Zn],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141516;border-radius:10px;border:solid 1px #141516;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function Uhe(n,t){if(1&n){const e=Ct();R(0,"div",11),Ae("click",function(){dt(e);const r=he();return r.main.checkFairness(r.roundInfo.roundId)}),Pe(1,"app-bubble-multiplier",12),I()}if(2&n){const e=he();N(1),q("multiplier",e.roundInfo.multiplier)}}let Ghe=(()=>{class n{constructor(e,i){this.app=e,this.main=i,this.previousHand=new jt}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}}return n.\u0275fac=function(e){return new(e||n)($(un),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand"},outputs:{previousHand:"previousHand"},decls:24,vars:15,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],["translate","",1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div")(2,"div",1),z(3),Te(4,"translate"),I(),R(5,"div"),z(6),I()(),ce(7,Uhe,2,1,"div",2),R(8,"div",3),Ae("click",function(){return i.setPreviousHand()}),Pe(9,"div",4),R(10,"span",5),z(11,"game.bets-widget.previous hand"),I()()(),Pe(12,"div",6),R(13,"div",7)(14,"span",8),z(15,"game.bets-widget.user"),I(),R(16,"span",9),z(17),Te(18,"translate"),I(),R(19,"span"),z(20,"X"),I(),R(21,"span",10),z(22),Te(23,"translate"),I()()),2&e&&(N(3),Me(" ",ke(4,9,"game.bets-widget.All Bets")," "),N(3),Et(i.total),N(1),q("ngIf",i.isPreviousHand&&!!i.roundInfo),N(1),ut("on",i.isPreviousHand),N(9),Gi(" ",ke(18,11,"shared.bet")," ",i.app.config.currency," "),N(5),Gi(" ",ke(23,13,"shared.cash_out")," ",i.app.config.currency," "))},directives:[Kt,El,Zn],pipes:[Dn],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.f62b9233d6078bd1.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function ob(n,t=0){return function Vhe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const q_={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=q_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new f(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=q_;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=q_;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},zhe=new class Whe extends zT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Yhe extends YT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=q_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(q_.cancelAnimationFrame(e),t._scheduled=void 0)}});let ww,$he=1;const sb={};function L5(n){return n in sb&&(delete sb[n],!0)}const Xhe={setImmediate(n){const t=$he++;return sb[t]=!0,ww||(ww=Promise.resolve()),ww.then(()=>L5(t)&&n()),t},clearImmediate(n){L5(n)}},{setImmediate:Khe,clearImmediate:qhe}=Xhe,ab={setImmediate(...n){const{delegate:t}=ab;return((null==t?void 0:t.setImmediate)||Khe)(...n)},clearImmediate(n){const{delegate:t}=ab;return((null==t?void 0:t.clearImmediate)||qhe)(n)},delegate:void 0},Zhe=new class Qhe extends zT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Jhe extends YT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ab.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ab.clearImmediate(e),t._scheduled=void 0)}});let Pw;try{Pw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Pw=!1}let lb,Fh,U5=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Hg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Ne(Bu))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q_(){if("object"!=typeof document||!document)return 0;if(null==lb){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),lb=0,0===n.scrollLeft&&(n.scrollLeft=1,lb=0===n.scrollLeft?1:2),n.remove()}return lb}const rde=new Qt("cdk-dir-doc",{providedIn:"root",factory:function ode(){return lx(Di)}}),sde=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let j5=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new jt,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function ade(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?sde.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Ne(rde,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();class ude extends class lde{}{constructor(t){super(),this._data=t}connect(){return vl(this._data)?this._data:Yt(this._data)}disconnect(){}}class hde{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((s,a,l)=>{let c,g;null==s.previousIndex?(c=this._insertView(()=>i(s,a,l),l,e,r(s)),g=c?1:0):null==l?(this._detachAndCacheView(a,e),g=3):(c=this._moveView(a,l,e,r(s)),g=2),o&&o({context:null==c?void 0:c.context,operation:g,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const s=t();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const H5=new Qt("_ViewRepeater"),dde=["contentWrapper"],fde=["*"],Y5=new Qt("VIRTUAL_SCROLL_STRATEGY");class pde{constructor(t,e,i){this._scrolledIndexChange=new Le,this.scrolledIndexChange=this._scrolledIndexChange.pipe(hp()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(s,r-l));s!=c&&(s=c,o=c*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(o+i);if(l<this._minBufferPx&&e.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function gde(n){return n._scrollStrategy}let _de=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new pde(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=ob(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=ob(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=ob(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ti([{provide:Y5,useFactory:gde,deps:[vn(()=>n)]}]),Jr]}),n})(),W5=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new oe(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Wa(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ft(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function Hhe(n){return n instanceof si?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Ne(Mn),Ne(U5),Ne(Di,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z5=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Le,this._elementScrolled=new oe(s=>this.ngZone.runOutsideAngular(()=>Vi(this.elementRef.nativeElement,"scroll").pipe(Zi(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Q_()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Q_()?e.left=e.right:1==Q_()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function nde(){if(null==Fh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fh=!1,Fh;if("scrollBehavior"in document.documentElement.style)Fh=!0;else{const n=Element.prototype.scrollTo;Fh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fh}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Q_()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Q_()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)($(si),$(W5),$(Mn),$(j5,8))},n.\u0275dir=mt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),yde=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Le,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Wa(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Ne(U5),Ne(Mn),Ne(Di,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ede="undefined"!=typeof requestAnimationFrame?zhe:Zhe;let $5=(()=>{class n extends z5{constructor(e,i,r,o,s,a,l){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Le,this._renderedRangeSubject=new Le,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new oe(c=>this._scrollStrategy.scrolledIndexChange.subscribe(g=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(g))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=f.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function jhe(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(up(null),Wa(0,Ede)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Zi(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function bde(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)($(si),$(wn),$(Mn),$(Y5,8),$(j5,8),$(W5),$(yde))},n.\u0275cmp=pt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Jo(dde,7),2&e){let r;qn(r=Jn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&ut("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ti([{provide:z5,useExisting:n}]),hi],ngContentSelectors:fde,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(Sg(),R(0,"div",0,1),Tg(2),I(),Pe(3,"div",2)),2&e&&(N(3),Dc("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function X5(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let Sde=(()=>{class n{constructor(e,i,r,o,s,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new Le,this._dataSourceChanges=new Le,this.dataStream=this._dataSourceChanges.pipe(up(null),function ede(){return je((n,t)=>{let e,i=!1;n.subscribe(ie(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),ea(([l,c])=>this._changeDataSource(l,c)),x0(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Le,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Zi(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function cde(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new ude(vl(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=ob(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let l=0;l<o;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?X5(i,"end",a)-X5(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Yt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)($(ys),$(ji),$(Bg),$(H5),$($5,4),$(Mn))},n.\u0275dir=mt({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ti([{provide:H5,useClass:hde}])]}),n})(),K5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})(),Tde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[V5,K5],V5,K5]}),n})();function Cde(n,t){1&n&&Pe(0,"app-bubble-multiplier",9),2&n&&q("multiplier",he().bet.payout)}let Ode=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)($(un))},n.\u0275cmp=pt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:11,vars:9,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Pe(2,"img",2),R(3,"div",3),z(4),I()(),R(5,"div",4),Pe(6,"app-bet-amount",5),I(),R(7,"div",6),ce(8,Cde,1,1,"app-bubble-multiplier",7),I(),R(9,"div",8),z(10),I()()),2&e&&(ut("celebrated",i.bet.winAmount),N(2),q("src",i.app.getAvatarUrl(i.bet.profileImage),Ui)("alt",i.app.getAvatarUrl(i.bet.profileImage)),N(2),Et(i.app.getFormattedUsername(i.bet.username)),N(2),q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),N(2),q("ngIf",i.bet.payout),N(2),Me(" ",null==i.bet.winAmount?null:i.bet.winAmount.toFixed(i.app.config.betPrecision)," "))},directives:[ib,Kt,El],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function Mde(n,t){1&n&&Pe(0,"app-loader")}function wde(n,t){1&n&&Pe(0,"app-bet-item",6),2&n&&q("bet",t.$implicit)}function Pde(n,t){if(1&n&&(R(0,"cdk-virtual-scroll-viewport",4),ce(1,wde,1,1,"app-bet-item",5),I()),2&n){const e=he();q("itemSize",e.betItemTotalHeight),N(1),q("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let Bh=class{constructor(t,e,i,r,o){this.mainService=t,this.cd=e,this.connector=i,this.user=r,this.app=o,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(cn.Bet,200).pipe(St(this),Ft(()=>!this.isPreviousHand),Ft(()=>!this.isUpdateCurrentBetsReceived),Ft(()=>!this.user.settings.getOther(Ha.HideMyActivity)),Ki(t=>this._bets.push(t)),Wa(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(cn.CancelBet,200).pipe(St(this),Ft(()=>!this.isPreviousHand),Ft(()=>!this.isUpdateCurrentBetsReceived),Ft(()=>!this.user.settings.getOther(Ha.HideMyActivity)),Ki(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),Wa(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(cn.CashOut,200).pipe(St(this),Ft(()=>!this.isPreviousHand),Ft(()=>!this.isUpdateCurrentBetsReceived),Ft(()=>!this.user.settings.getOther(Ha.HideMyActivity)),Ki(t=>this.displayCashOuts(t.cashouts,t.multiplier)),Wa(this.auditDuration)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response(cn.UpdateCurrentBets,200).pipe(St(this),Ft(()=>!this.isPreviousHand),Ki(t=>this._bets=t.bets),Wa(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response(cn.UpdateCurrentCashOuts,200).pipe(St(this),Ft(()=>!this.isPreviousHand),Wa(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t.cashouts),this.cd.detectChanges()}),this.connector.response(cn.CurrentBetsInfo).pipe(St(this)).subscribe(t=>{var e;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),"cashOuts"in t&&this.displayCashOuts(t.cashOuts),this.sortBets(),this.cd.detectChanges()}),this.connector.response(cn.PreviousRoundInfo).pipe(St(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState($i.Bet).pipe(St(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(i=>i.bet>=t&&i.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(Ei.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(Ei.CurrentBetsInfo,null)}displayCashOuts(t,e){t.forEach(i=>{this._bets.forEach(r=>{r.player_id===i.player_id&&r.betId===i.betId&&(r.payout="multiplier"in i?i.multiplier:e,r.winAmount=i.winAmount)})})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function Ade(n,t){if(1&n&&(R(0,"div",11),z(1),I()),2&n){const e=he();N(1),Me(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}Bh.\u0275fac=function(t){return new(t||Bh)($(Yi),$(wn),$(bi),$(Ya),$(un))},Bh.\u0275cmp=pt({type:Bh,selectors:[["app-all-bets-tab"]],decls:4,vars:5,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"app-header",1),Ae("previousHand",function(r){return e.onPreviousHand(r)}),I(),ce(2,Mde,1,0,"app-loader",2),ce(3,Pde,2,3,"cdk-virtual-scroll-viewport",3),I()),2&t&&(N(1),q("total",e.numberOfBets)("roundInfo",e.roundInfo)("isPreviousHand",e.isPreviousHand),N(1),q("ngIf",!e.loaded),N(1),q("ngIf",e.loaded))},directives:[Ghe,Kt,wh,$5,_de,Sde,Ode],styles:[""],changeDetection:0}),Bh=He([vi()],Bh);let xde=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)($(un),$(za),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:14,vars:12,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"cash-out"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),z(3),Te(4,"date"),I()(),R(5,"div",2)(6,"div",3),Pe(7,"app-bet-amount",4),I(),R(8,"div",5),Pe(9,"app-bubble-multiplier",6),I(),ce(10,Ade,2,1,"div",7),I(),R(11,"div",8)(12,"div",9),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(13,"div",10),Ae("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),I()()()),2&e&&(ut("celebrated",i.bet.winAmount),N(3),Et(an(4,9,i.bet.cashOutDate,"HH:mm")),N(4),q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),N(2),q("multiplier",i.bet.payout||i.bet.maxMultiplier),N(1),q("ngIf",i.bet.winAmount),N(1),ut("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[ib,El,Kt],pipes:[al],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function Rde(n,t){1&n&&Pe(0,"app-bet-item",9),2&n&&q("bet",t.$implicit)}function Dde(n,t){if(1&n&&(Vt(0),ce(1,Rde,1,1,"app-bet-item",8),Ht()),2&n){const e=he();N(1),q("ngForOf",e.betHistory)}}function Ide(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader"),I())}let Lh=class{constructor(t,e,i,r,o){this.connector=t,this.mainService=e,this.app=i,this.cd=r,this.user=o,this.isRequested=!1,this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(cn.BetHistory,200).pipe(St(this),Ft(()=>this.isRequested)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges()}),this.mainService.getState($i.Bet).pipe(St(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(cn.CashOut,200).pipe(St(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(Ei.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};Lh.\u0275fac=function(t){return new(t||Lh)($(bi),$(Yi),$(un),$(wn),$(Ya))},Lh.\u0275cmp=pt({type:Lh,selectors:[["app-my-bets-tab"]],decls:16,vars:10,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],["translate","",1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),z(2,"game.bets-widget.date"),I(),R(3,"div",2)(4,"span",3),z(5),Te(6,"translate"),I(),R(7,"span"),z(8,"X"),I(),R(9,"span",4),z(10),Te(11,"translate"),I()(),Pe(12,"div",5),I(),R(13,"div",6),ce(14,Dde,2,1,"ng-container",7),ce(15,Ide,2,0,"div",7),I()),2&t&&(N(5),Gi(" ",ke(6,6,"shared.bet")," ",e.app.config.currency," "),N(5),Gi(" ",ke(11,8,"shared.cash_out")," ",e.app.config.currency," "),N(4),q("ngIf",e.loaded),N(1),q("ngIf",!e.loaded))},directives:[Zn,Kt,Ci,xde,wh],pipes:[Dn],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:48px;max-width:48px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),Lh=He([vi()],Lh);var Ro=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(Ro||(Ro={})),Ro))(),Z_=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(Z_||(Z_={})),Z_))(),yp=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(yp||(yp={})),yp))(),em=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}(em||(em={})),em))();function Nde(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),z(3),Te(4,"translate"),I()(),R(5,"span",21),z(6),I()()),2&n){const e=he();N(3),Gi("",ke(4,3,"shared.win")," ",e.app.config.currency,":"),N(3),Me(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}function kde(n,t){1&n&&(R(0,"span"),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"shared.cashed_out"),": "))}function Fde(n,t){1&n&&(R(0,"span"),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"shared.multiplier"),": "))}function Bde(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),z(3),Te(4,"translate"),I()(),R(5,"span",9),z(6),I()()),2&n){const e=he();N(3),Gi("",ke(4,3,"shared.win")," ",e.app.config.currency,":"),N(3),Me(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}let Lde=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r,this.winsTab=em}isTab(e){return this.tab===e}}return n.\u0275fac=function(e){return new(e||n)($(un),$(za),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:40,vars:25,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],["translate",""],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Pe(3,"img",3),R(4,"div",4),z(5),I()(),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),z(11),Te(12,"translate"),I()(),R(13,"span",9),z(14),I()(),ce(15,Nde,7,5,"div",10),R(16,"div",7)(17,"div",8),ce(18,kde,3,3,"span",11),ce(19,Fde,3,3,"span",11),I(),Pe(20,"app-bubble-multiplier",12),I(),ce(21,Bde,7,5,"div",10),I()(),R(22,"div",13),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),I()(),R(23,"div",14)(24,"div",15)(25,"div",16)(26,"span"),z(27),Te(28,"date"),I(),R(29,"span",17),z(30),Te(31,"date"),I()(),R(32,"div")(33,"span"),z(34),Te(35,"translate"),I(),R(36,"span",18),z(37),I()()(),R(38,"div",19),Ae("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),Pe(39,"div",20),I()()()),2&e&&(N(3),q("src",i.app.getAvatarUrl(i.bet.profileImage),Ui)("alt",i.app.getAvatarUrl(i.bet.profileImage)),N(2),Et(i.app.getFormattedUsername(i.bet.username)),N(6),Gi("",ke(12,15,"shared.bet")," ",i.app.config.currency,":"),N(3),Me(" ",i.bet.bet.toFixed(i.app.config.betPrecision)," "),N(1),q("ngIf",i.isTab(i.winsTab.BiggestWins)),N(3),q("ngIf",i.isTab(i.winsTab.HugeWins)),N(1),q("ngIf",i.isTab(i.winsTab.BiggestWins)),N(1),q("multiplier",i.bet.payout),N(1),q("ngIf",i.isTab(i.winsTab.HugeWins)),N(6),Et(an(28,17,i.bet.endDate,"dd ")),N(3),Me(" shared.date.month.",an(31,20,i.bet.endDate,"LLL")," "),N(4),Me("",ke(35,23,"shared.round"),":"),N(3),Me(" ",i.bet.maxMultiplier,"x"))},directives:[Kt,El,Zn],pipes:[Dn,al],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.eeb21ff9eb22b3b5.svg) no-repeat center center/contain;width:34px;height:14px}"]}),n})(),Ude=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)($(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:16,vars:15,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],["translate",""],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(2,"div")(3,"div",2)(4,"div")(5,"span"),z(6),Te(7,"date"),I(),R(8,"span",3),z(9),Te(10,"date"),I(),R(11,"span"),z(12),Te(13,"date"),I()()(),R(14,"div",4),Pe(15,"app-bubble-multiplier",5),I()()()),2&e&&(N(6),Et(an(7,6,i.bet.endDate,"dd ")),N(3),Me(" shared.date.month.",an(10,9,i.bet.endDate,"LLL")," "),N(3),Et(an(13,12,i.bet.endDate," HH:mm:ss")),N(3),q("padding","2px 16px")("borderRadius","16px")("multiplier",i.bet.maxMultiplier))},directives:[Zn,El],pipes:[al],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),Gde=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)($(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:14,vars:13,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],["translate",""],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),z(3),Te(4,"date"),I(),R(5,"span",2),z(6),Te(7,"date"),I(),R(8,"span"),z(9),Te(10,"date"),I()(),R(11,"div",3),Pe(12,"app-bubble-multiplier",4),R(13,"div",5),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),I()()()),2&e&&(N(3),Et(an(4,4,i.bet.endDate,"dd ")),N(3),Me("shared.date.month.",an(7,7,i.bet.endDate,"LLL"),""),N(3),Et(an(10,10,i.bet.endDate," HH:mm:ss")),N(3),q("multiplier",i.bet.maxMultiplier))},directives:[Zn,El],pipes:[al],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function jde(n,t){if(1&n&&(R(0,"div"),Pe(1,"app-wins-bet-item",3),I()),2&n){const e=t.$implicit,i=he(3);N(1),q("tab",i.winsTab.BiggestWins)("bet",e)}}function Vde(n,t){if(1&n&&(R(0,"div"),ce(1,jde,2,2,"div",2),I()),2&n){const e=he(2);N(1),q("ngForOf",e.topWins)}}function Hde(n,t){if(1&n&&(R(0,"div"),Pe(1,"app-wins-bet-item",3),I()),2&n){const e=t.$implicit,i=he(3);N(1),q("tab",i.winsTab.HugeWins)("bet",e)}}function Yde(n,t){if(1&n&&(R(0,"div"),ce(1,Hde,2,2,"div",2),I()),2&n){const e=he(2);N(1),q("ngForOf",e.topWins)}}function Wde(n,t){if(1&n&&(R(0,"div"),Pe(1,"app-multipliers-bet-item",4),I()),2&n){const e=t.$implicit;N(1),q("bet",e)}}function zde(n,t){if(1&n&&(R(0,"div"),Pe(1,"app-multipliers-bet-item-first",4),ce(2,Wde,2,1,"div",2),Te(3,"slice"),I()),2&n){const e=he(2);N(1),q("bet",e.topRounds[0]),N(1),q("ngForOf",an(3,2,e.topRounds,1))}}function $de(n,t){if(1&n&&(R(0,"div"),ce(1,Vde,2,1,"div",1),ce(2,Yde,2,1,"div",1),ce(3,zde,4,5,"div",1),I()),2&n){const e=he();N(1),q("ngIf",e.isBiggestWins),N(1),q("ngIf",e.isHugeWins),N(1),q("ngIf",e.isCoefficients&&e.topRounds.length>0)}}function Xde(n,t){1&n&&(R(0,"div"),Pe(1,"app-loader"),I())}let Uh=class{constructor(t,e,i,r){this.connector=t,this.cd=e,this.mainService=i,this.app=r,this.options={type:Ro.HugeWins,period:yp.Day},this.loaded=!1,this.winsTab=em,this.topRounds=[],this._topWins=[],this.responses={[Ro.HugeWins]:cn.GetHugeWinsInfo,[Ro.BiggestWins]:cn.GetTopWinsInfo,[Ro.Multipliers]:cn.GetTopRoundsInfo},this.requests={[Ro.HugeWins]:Ei.GetHugeWinsInfo,[Ro.BiggestWins]:Ei.GetTopWinsInfo,[Ro.Multipliers]:Ei.GetTopRoundsInfo}}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(this.requests[this.options.type],{period:this.options.period}),this.statistics$=this.connector.response(this.responses[this.options.type]).pipe(St(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topWins(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isHugeWins(){return this.options.type===Ro.HugeWins}get isBiggestWins(){return this.options.type===Ro.BiggestWins}get isCoefficients(){return this.options.type===Ro.Multipliers}};function Kde(n,t){1&n&&(R(0,"div",9)(1,"span",10),z(2,"game.bets-widget.date"),I(),R(3,"div",11)(4,"span",12),z(5,"X"),I(),R(6,"span",13),z(7,"game.bets-widget.fairness"),I()()())}Uh.\u0275fac=function(t){return new(t||Uh)($(bi),$(wn),$(Yi),$(un))},Uh.\u0275cmp=pt({type:Uh,selectors:[["app-top-list"]],inputs:{options:"options"},features:[Jr],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0),ce(1,$de,4,3,"div",1),ce(2,Xde,2,0,"div",1),I()),2&t&&(N(1),q("ngIf",e.loaded),N(1),q("ngIf",!e.loaded))},directives:[Kt,Ci,Lde,Ude,Gde,wh],pipes:[lN],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),Uh=He([vi()],Uh);let qde=(()=>{class n{constructor(){this.activeTab=Ro.HugeWins,this.topTab=Ro,this.activePeriodTab=Z_.Day,this.periodTabs=Object.values(Z_),this.topListOptions={type:Ro.HugeWins,period:yp.Day}}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:yp[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-top-tab"]],decls:12,vars:11,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],["translate","",1,"first-type",3,"click"],["translate","",1,"second-type",3,"click"],["translate","",1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],["translate","",1,"fairness"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Ae("click",function(){return i.onShowTab(i.topTab.HugeWins)}),z(4," game.bets-widget.top.huge wins "),I(),R(5,"button",4),Ae("click",function(){return i.onShowTab(i.topTab.BiggestWins)}),z(6," game.bets-widget.top.biggest wins "),I(),R(7,"button",5),Ae("click",function(){return i.onShowTab(i.topTab.Multipliers)}),z(8," game.bets-widget.top.coefficients "),I()()(),R(9,"app-navigation-switcher",6),Ae("toggle",function(o){return i.onChangePeriodTab(o)}),I(),ce(10,Kde,8,0,"div",7),Pe(11,"app-top-list",8),I()),2&e&&(N(3),ut("active",i.isActiveTab(i.topTab.HugeWins)),N(2),ut("active",i.isActiveTab(i.topTab.BiggestWins)),N(2),ut("active",i.isActiveTab(i.topTab.Multipliers)),N(2),q("ngModel",i.activePeriodTab)("tabs",i.periodTabs)("translatePath","game.bets-widget.top"),N(1),q("ngIf",i.isActiveTab(i.topTab.Multipliers)),N(1),q("options",i.topListOptions))},directives:[Zn,Mw,ta,As,Kt,Uh],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function Jde(n,t){if(1&n){const e=Ct();R(0,"div",7),Ae("click",function(){dt(e);const r=he(2);return r.modal.open(r.modalKey.otherSettings)}),R(1,"u"),z(2),Te(3,"translate"),I()()}2&n&&(N(2),Me(" ",ke(3,1,"shared.Settings")," "))}function Qde(n,t){if(1&n&&(Vt(0),R(1,"div",4),Pe(2,"div",5),R(3,"span"),z(4),Te(5,"translate"),I(),ce(6,Jde,4,3,"div",6),I(),Ht()),2&n){const e=he();N(4),Me(" ",ke(5,2,"shared.This_functionality_is_disabled"),""),N(2),q("ngIf",e.isTabsHiddenByUser)}}function Zde(n,t){1&n&&Pe(0,"app-all-bets-tab",9)}function efe(n,t){1&n&&Pe(0,"app-my-bets-tab",9)}function tfe(n,t){1&n&&Pe(0,"app-top-tab",9)}function nfe(n,t){if(1&n&&(Vt(0),ce(1,Zde,1,0,"app-all-bets-tab",8),ce(2,efe,1,0,"app-my-bets-tab",8),ce(3,tfe,1,0,"app-top-tab",8),Ht()),2&n){const e=he();N(1),q("ngIf",e.isActive(e.betsWidgetTab.AllBets)),N(1),q("ngIf",e.isActive(e.betsWidgetTab.MyBets)),N(1),q("ngIf",e.isActive(e.betsWidgetTab.Top))}}let ife=(()=>{class n{constructor(e,i,r,o){this.app=e,this.user=i,this.modal=r,this.cd=o,this.activeTab=mp.AllBets,this.betsWidgetTab=mp,this.betsWidgetTabs=Object.values(mp),this.isTabsHiddenByUser=this.user.settings.getOther(Ha.HideLiveBetsAndStatistics),this.modalKey=jn}ngOnInit(){this.user.settings.other$.pipe(Ft(e=>e.name===Ha.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.app.config.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)($(un),$(Ya),$(Wo),$(wn))},n.\u0275cmp=pt({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Ae("ngModelChange",function(o){return i.activeTab=o}),I()(),ce(3,Qde,7,4,"ng-container",3),ce(4,nfe,4,3,"ng-container",3),I()),2&e&&(N(2),q("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),N(1),q("ngIf",i.isTabsHidden),N(1),q("ngIf",!i.isTabsHidden))},directives:[Mw,ta,As,Kt,Bh,Lh,qde],pipes:[Dn],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c1d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.e9f2fd657844e251.svg) no-repeat center center/contain}"],changeDetection:0}),n})(),rfe=(()=>{class n{constructor(e){this.modal=e}onWhatIsPf(){this.modal.open(jn.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)($(Wo))},n.\u0275cmp=pt({type:n,selectors:[["app-spribe-footer"]],decls:13,vars:1,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],["translate",""],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href"],[1,"i-logo"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),z(3,"shared.ui-components.spribe-footer.this game is"),I(),R(4,"div",3),Ae("click",function(){return i.onWhatIsPf()}),Pe(5,"div",4),R(6,"span",5),z(7,"Provably Fair"),I()()(),R(8,"div",6)(9,"span"),z(10,"Powered by"),I(),R(11,"a",7),Pe(12,"div",8),I()()()),2&e&&(N(11),q("href","https://spribe.co",Ui))},directives:[Zn],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#000;border:1px solid #2a2b2e;font-size:11px;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.eba496b407593c0e.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}"],changeDetection:0}),n})();var ho=(()=>(function(n){n.Init="/user/queue/init",n.Join="/user/queue/join",n.TakePrize="/user/queue/take.prize",n.Winners="/user/queue/winners",n.MissionStatus="/user/queue/mission.status",n.PlayerStatus="/user/queue/player.status",n.Prize="/user/queue/prize",n.Progress="/user/queue/progress",n.JoinCount="/user/queue/join.count"}(ho||(ho={})),ho))(),Do=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(Do||(Do={})),Do))(),ofe=M(209);function q5(n,t,e,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function J5(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(l){q5(o,i,r,s,a,"next",l)}function a(l){q5(o,i,r,s,a,"throw",l)}s(void 0)})}}const tm_LF="\n",tm_NULL="\0";class ru{constructor(t){const{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const a=r(o[0]);let l=r(o[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=ru.hdrValueUnEscape(l)),i[a]=l}return new ru({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?ru.toUnit8Array(t,this._binaryBody).buffer:t+this._body+tm_NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${ru.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(tm_LF)+tm_LF+tm_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new ru(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class afe{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var lc,ia;!function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(lc=lc||(lc={})),function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(ia=ia||(ia={}));class Ko{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Ko.V1_0="1.0",Ko.V1_1="1.1",Ko.V1_2="1.2",Ko.default=new Ko([Ko.V1_2,Ko.V1_1,Ko.V1_0]);class cfe{constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Ko.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const o=r.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===Ko.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(g={})=>l.ack(c,o,g),a.nack=(g={})=>l.nack(c,o,g),s(a)},RECEIPT:r=>{const o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new afe(e=>{const i=ru.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==Ko.V1_1&&t.version!==Ko.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===lc.OPEN&&(this._webSocket.send(tm_LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>2*r&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===lc.CONNECTING||this._webSocket.readyState===lc.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function lfe(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),null==o||o.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=new ru({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const g=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(g),this.debug(`chunk sent = ${g.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===lc.CONNECTING||this._webSocket.readyState===lc.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:o=>r.unsubscribe(i.id,o)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===Ko.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===Ko.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class ufe{constructor(t={}){this.stompVersions=Ko.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ia.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ia.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(ia.ACTIVE),this._connect())};this.state===ia.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return J5(function*(){if(yield t.beforeConnect(),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new cfe(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===ia.DEACTIVATING&&t._changeState(ia.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(t={}){var e=this;return J5(function*(){var s;const i=t.force||!1,r=e.active;let o;if(e.state===ia.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(ia.DEACTIVATING),e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===lc.CLOSED)return e._changeState(ia.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;o=new Promise((l,c)=>{e._stompHandler.onWebSocketClose=g=>{a(g),l()}})}return i?null==(s=e._stompHandler)||s.discardWebsocket():r&&e._disposeStompHandler(),o})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var Gh=(()=>(function(n){n.Init="/app/init",n.Join="/app/join",n.TakePrize="/app/take.prize",n.Winners="/app/winners"}(Gh||(Gh={})),Gh))(),hb=(()=>(function(n){n.KickUser="Kick user"}(hb||(hb={})),hb))();let Sl=(()=>{class n{constructor(){this.responseSubject=new EL(1),this.stateSubject=new ei({state:Do.None}),this.state$=this.stateSubject.asObservable(),this.maxReconnectCount=5,this.reconnectCount=0}response(e){return this.responseSubject.pipe(Ft(i=>i.response===e),pe(i=>i.data))}request(e,i){console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var o;(null===(o=this.stompClient)||void 0===o?void 0:o.active)&&this.stompClient.deactivate(),console.log({host:e}),this.stompClient=new ufe({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:1e3}),this.stompClient.webSocketFactory=()=>new ofe(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.beforeConnect=()=>{if(this.reconnectCount>=this.maxReconnectCount)return this.stompClient.deactivate(),void this.stateSubject.next({state:Do.Disconnected});this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:Do.Connected}),r.forEach(s=>{this.stompClient.subscribe(s,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp RESPONSE ] "+s,"background: #222; color: #bada55",l),this.responseSubject.next({response:s,data:l})},{id:s})}),this.request(Gh.Init,null)},this.stompClient.onWebSocketClose=s=>(console.log("[ Stomp ] onWebSocketClose",s),this.stateSubject.getValue().state===Do.None||s.reason===hb.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:Do.Disconnected})):void this.stateSubject.next({state:Do.Reconnecting})),this.stompClient.onDisconnect=s=>{console.log("[ Stomp ] onDisconnect",s),this.stateSubject.next({state:Do.Disconnected})}}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();var jh=1e6,nm="[big.js] ",Vh=nm+"Invalid ",db=Vh+"decimal places",e4=nm+"Division by zero",gi={},Tl=void 0,mfe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Hh(n,t,e,i){var r=n.c;if(e===Tl&&(e=n.constructor.RM),0!==e&&1!==e&&2!==e&&3!==e)throw Error("[big.js] Invalid rounding mode");if(t<1)i=3===e&&(i||!!r[0])||0===t&&(1===e&&r[0]>=5||2===e&&(r[0]>5||5===r[0]&&(i||r[1]!==Tl))),r.length=1,i?(n.e=n.e-t+1,r[0]=1):r[0]=n.e=0;else if(t<r.length){if(i=1===e&&r[t]>=5||2===e&&(r[t]>5||5===r[t]&&(i||r[t+1]!==Tl||1&r[t-1]))||3===e&&(i||!!r[0]),r.length=t,i)for(;++r[--t]>9;)if(r[t]=0,0===t){++n.e,r.unshift(1);break}for(t=r.length;!r[--t];)r.pop()}return n}function bp(n,t,e){var i=n.e,r=n.c.join(""),o=r.length;if(t)r=r.charAt(0)+(o>1?"."+r.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)r="0"+r;r="0."+r}else if(i>0)if(++i>o)for(i-=o;i--;)r+="0";else i<o&&(r=r.slice(0,i)+"."+r.slice(i));else o>1&&(r=r.charAt(0)+"."+r.slice(1));return n.s<0&&e?"-"+r:r}gi.abs=function(){var n=new this.constructor(this);return n.s=1,n},gi.cmp=function(n){var t,e=this,i=e.c,r=(n=new e.constructor(n)).c,o=e.s,s=n.s,a=e.e,l=n.e;if(!i[0]||!r[0])return i[0]?o:r[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=l)return a>l^t?1:-1;for(s=(a=i.length)<(l=r.length)?a:l,o=-1;++o<s;)if(i[o]!=r[o])return i[o]>r[o]^t?1:-1;return a==l?0:a>l^t?1:-1},gi.div=function(n){var t=this,e=t.constructor,i=t.c,r=(n=new e(n)).c,o=t.s==n.s?1:-1,s=e.DP;if(s!==~~s||s<0||s>jh)throw Error(db);if(!r[0])throw Error(e4);if(!i[0])return n.s=o,n.c=[n.e=0],n;var a,l,c,g,E,w=r.slice(),P=a=r.length,A=i.length,D=i.slice(0,a),B=D.length,Y=n,K=Y.c=[],re=0,ae=s+(Y.e=t.e-n.e)+1;for(Y.s=o,o=ae<0?0:ae,w.unshift(0);B++<a;)D.push(0);do{for(c=0;c<10;c++){if(a!=(B=D.length))g=a>B?1:-1;else for(E=-1,g=0;++E<a;)if(r[E]!=D[E]){g=r[E]>D[E]?1:-1;break}if(!(g<0))break;for(l=B==a?r:w;B;){if(D[--B]<l[B]){for(E=B;E&&!D[--E];)D[E]=9;--D[E],D[B]+=10}D[B]-=l[B]}for(;!D[0];)D.shift()}K[re++]=g?c:++c,D[0]&&g?D[B]=i[P]||0:D=[i[P]]}while((P++<A||D[0]!==Tl)&&o--);return!K[0]&&1!=re&&(K.shift(),Y.e--,ae--),re>ae&&Hh(Y,ae,e.RM,D[0]!==Tl),Y},gi.eq=function(n){return 0===this.cmp(n)},gi.gt=function(n){return this.cmp(n)>0},gi.gte=function(n){return this.cmp(n)>-1},gi.lt=function(n){return this.cmp(n)<0},gi.lte=function(n){return this.cmp(n)<1},gi.minus=gi.sub=function(n){var t,e,i,r,o=this,s=o.constructor,a=o.s,l=(n=new s(n)).s;if(a!=l)return n.s=-l,o.plus(n);var c=o.c.slice(),g=o.e,E=n.c,w=n.e;if(!c[0]||!E[0])return E[0]?n.s=-l:c[0]?n=new s(o):n.s=1,n;if(a=g-w){for((r=a<0)?(a=-a,i=c):(w=g,i=E),i.reverse(),l=a;l--;)i.push(0);i.reverse()}else for(e=((r=c.length<E.length)?c:E).length,a=l=0;l<e;l++)if(c[l]!=E[l]){r=c[l]<E[l];break}if(r&&(i=c,c=E,E=i,n.s=-n.s),(l=(e=E.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;e>a;){if(c[--e]<E[e]){for(t=e;t&&!c[--t];)c[t]=9;--c[t],c[e]+=10}c[e]-=E[e]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--w;return c[0]||(n.s=1,c=[w=0]),n.c=c,n.e=w,n},gi.mod=function(n){var t,e=this,i=e.constructor,r=e.s,o=(n=new i(n)).s;if(!n.c[0])throw Error(e4);return e.s=n.s=1,t=1==n.cmp(e),e.s=r,n.s=o,t?new i(e):(r=i.DP,o=i.RM,i.DP=i.RM=0,e=e.div(n),i.DP=r,i.RM=o,this.minus(e.times(n)))},gi.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n},gi.plus=gi.add=function(n){var t,e,i,r=this,o=r.constructor;if(n=new o(n),r.s!=n.s)return n.s=-n.s,r.minus(n);var s=r.e,a=r.c,l=n.e,c=n.c;if(!a[0]||!c[0])return c[0]||(a[0]?n=new o(r):n.s=r.s),n;if(a=a.slice(),t=s-l){for(t>0?(l=s,i=c):(t=-t,i=a),i.reverse();t--;)i.push(0);i.reverse()}for(a.length-c.length<0&&(i=c,c=a,a=i),t=c.length,e=0;t;a[t]%=10)e=(a[--t]=a[t]+c[t]+e)/10|0;for(e&&(a.unshift(e),++l),t=a.length;0===a[--t];)a.pop();return n.c=a,n.e=l,n},gi.pow=function(n){var t=this,e=new t.constructor("1"),i=e,r=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(Vh+"exponent");for(r&&(n=-n);1&n&&(i=i.times(t)),n>>=1;)t=t.times(t);return r?e.div(i):i},gi.prec=function(n,t){if(n!==~~n||n<1||n>jh)throw Error(Vh+"precision");return Hh(new this.constructor(this),n,t)},gi.round=function(n,t){if(n===Tl)n=0;else if(n!==~~n||n<-jh||n>jh)throw Error(db);return Hh(new this.constructor(this),n+this.e+1,t)},gi.sqrt=function(){var n,t,e,i=this,r=i.constructor,o=i.s,s=i.e,a=new r("0.5");if(!i.c[0])return new r(i);if(o<0)throw Error(nm+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),n=new r(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):n=new r(o+""),s=n.e+(r.DP+=4);do{n=a.times((e=n).plus(i.div(e)))}while(e.c.slice(0,s).join("")!==n.c.slice(0,s).join(""));return Hh(n,(r.DP-=4)+n.e+1,r.RM)},gi.times=gi.mul=function(n){var t,e=this,r=e.c,o=(n=new(0,e.constructor)(n)).c,s=r.length,a=o.length,l=e.e,c=n.e;if(n.s=e.s==n.s?1:-1,!r[0]||!o[0])return n.c=[n.e=0],n;for(n.e=l+c,s<a&&(t=r,r=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(l=a;l--;){for(a=0,c=s+l;c>l;)a=t[c]+o[l]*r[c-l-1]+a,t[c--]=a%10,a=a/10|0;t[c]=a}for(a?++n.e:t.shift(),l=t.length;!t[--l];)t.pop();return n.c=t,n},gi.toExponential=function(n,t){var e=this,i=e.c[0];if(n!==Tl){if(n!==~~n||n<0||n>jh)throw Error(db);for(e=Hh(new e.constructor(e),++n,t);e.c.length<n;)e.c.push(0)}return bp(e,!0,!!i)},gi.toFixed=function(n,t){var e=this,i=e.c[0];if(n!==Tl){if(n!==~~n||n<0||n>jh)throw Error(db);for(n=n+(e=Hh(new e.constructor(e),n+e.e+1,t)).e+1;e.c.length<n;)e.c.push(0)}return bp(e,!1,!!i)},gi[Symbol.for("nodejs.util.inspect.custom")]=gi.toJSON=gi.toString=function(){var n=this,t=n.constructor;return bp(n,n.e<=t.NE||n.e>=t.PE,!!n.c[0])},gi.toNumber=function(){var n=Number(bp(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(n.toString()))throw Error(nm+"Imprecise conversion");return n},gi.toPrecision=function(n,t){var e=this,i=e.constructor,r=e.c[0];if(n!==Tl){if(n!==~~n||n<1||n>jh)throw Error(Vh+"precision");for(e=Hh(new i(e),n,t);e.c.length<n;)e.c.push(0)}return bp(e,n<=e.e||e.e<=i.NE||e.e>=i.PE,!!r)},gi.valueOf=function(){var n=this,t=n.constructor;if(!0===t.strict)throw Error(nm+"valueOf disallowed");return bp(n,n.e<=t.NE||n.e>=t.PE,!0)};var Ep=function t4(){function n(t){var e=this;if(!(e instanceof n))return t===Tl?t4():new n(t);if(t instanceof n)e.s=t.s,e.e=t.e,e.c=t.c.slice();else{if("string"!=typeof t){if(!0===n.strict&&"bigint"!=typeof t)throw TypeError(Vh+"value");t=0===t&&1/t<0?"-0":String(t)}!function vfe(n,t){var e,i,r;if(!mfe.test(t))throw Error(Vh+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),r=t.length,i=0;i<r&&"0"==t.charAt(i);)++i;if(i==r)n.c=[n.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(n.e=e-i-1,n.c=[],e=0;i<=r;)n.c[e++]=+t.charAt(i++)}}(e,t)}e.constructor=n}return n.prototype=gi,n.DP=20,n.RM=1,n.NE=-7,n.PE=21,n.strict=!1,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}(),Yh=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won"}(Yh||(Yh={})),Yh))();let fb=(()=>{class n{constructor(e,i){this.translate=e,this.bsMessage=i}getTranslation(e,i={}){const r=`game.engagement-tool.toast-message.${e}`;return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],r)?this.translate.instant(r,i):e}getTranslationTask(e){var i,r,o,s,a;const l=`game.engagement-tool.tasks.${e.taskName}`,c=this.translate.instant(l,{x:e.params.x,rounds:null===(i=e.params)||void 0===i?void 0:i.rounds,amount:null===(r=e.params)||void 0===r?void 0:r.amount,minBet:null===(o=e.params)||void 0===o?void 0:o.minBet,times:null===(s=e.params)||void 0===s?void 0:s.times,currency:null===(a=e.params)||void 0===a?void 0:a.currency});return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],l)?c:e.taskName}show(e,i,r={},o){const s=o?this.getTranslation(e,r)+" "+this.getTranslationTask(o):this.getTranslation(e,r);this.bsMessage.add({value:s,context:i})}}return n.\u0275fac=function(e){return new(e||n)(Ne(Zc),Ne(_h))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),cc=(()=>{class n{constructor(e){this.stomp=e,this.update=new ei({joinCount:0}),this.update$=this.update.asObservable(),this._config={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isUseMaskedUsername:!1},this.stomp.response(ho.Init).subscribe(i=>{this.update.next({joinCount:i.joinCount}),this._config={name:i.config.name,startDate:i.config.startDate,endDate:i.config.endDate,minBet:i.config.minBet,isCurrencyNameHidden:i.config.isCurrencyNameHidden,currency:i.config.isCurrencyNameHidden?"":i.config.currency,currencyPrecision:i.config.currencyPrecision,isUseMaskedUsername:i.config.isUseMaskedUsername}}),this.stomp.response(ho.JoinCount).subscribe(i=>{this.update.next({joinCount:i})})}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(Ne(Sl))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),pb=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.mission=r,this.tasks=new Map,this.updateSubject=new ei(null),this.update$=this.updateSubject.asObservable(),this.stomp.response(ho.Init).subscribe(o=>{this.tasks.clear(),o.tasks.forEach(s=>{this.tasks.set(s.name,Object.assign(Object.assign({},s),{nameParams:Object.assign(Object.assign({},s.nameParams),{currency:this.mission.config.currency})}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:this.totalProgress})}),this.stomp.response(ho.Progress).subscribe(o=>{o.taskProgress.forEach(s=>{this.tasks.set(s.taskName,Object.assign(Object.assign({},this.tasks.get(s.taskName)),{progress:s.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:this.totalProgress}),this.tasks.get(s.taskName).progress===this.tasks.get(s.taskName).goal&&this.notification.show(Yh.TaskCompleted,Ss.success,{},{taskName:s.taskName,params:this.tasks.get(s.taskName).nameParams})})})}get totalProgress(){const e=Array.from(this.tasks.values()).reduce((i,r)=>i.plus(Ep(r.progress).div(r.goal)),Ep(0));return Math.floor(e.div(this.tasks.size).times(100).toNumber())}}return n.\u0275fac=function(e){return new(e||n)(Ne(Sl),Ne(fb),Ne(cc))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function yfe(n,t){if(1&n&&(Vt(0),R(1,"div",12),z(2),Te(3,"translate"),I(),R(4,"div"),z(5),Te(6,"translate"),I(),Ht()),2&n){const e=t.$implicit;N(2),Me(" ",an(3,2,"game.engagement-tool.tasks."+e.name,e.nameParams)," "),N(3),Me(" ",an(6,5,"game.engagement-tool.mission_rules.xRace.tasks."+e.name,e.nameParams)," ")}}function bfe(n,t){if(1&n){const e=Ct();Vt(0),R(1,"div",1)(2,"span"),z(3),Te(4,"translate"),I(),R(5,"button",2),Ae("click",function(){return dt(e),he().close()}),Pe(6,"span",3),I()(),R(7,"div",4)(8,"div"),z(9),Te(10,"translate"),I(),R(11,"section",5)(12,"div",6),z(13),Te(14,"translate"),I(),R(15,"ul",7)(16,"li"),z(17),Te(18,"translate"),I(),R(19,"li"),z(20),Te(21,"translate"),I(),R(22,"li"),z(23),Te(24,"translate"),I(),R(25,"li"),z(26),Te(27,"translate"),I(),R(28,"li"),z(29),Te(30,"translate"),I(),R(31,"li"),z(32),Te(33,"translate"),I(),R(34,"li"),z(35),Te(36,"translate"),I()()(),R(37,"section",8)(38,"div",6),z(39),Te(40,"translate"),I(),R(41,"div"),z(42),Te(43,"translate"),I(),ce(44,yfe,7,8,"ng-container",9),Te(45,"async"),R(46,"div",10),z(47),Te(48,"translate"),I()(),R(49,"section",11)(50,"div",6),z(51),Te(52,"translate"),I(),R(53,"ul",7)(54,"li"),z(55),Te(56,"translate"),I(),R(57,"li"),z(58),Te(59,"translate"),I(),R(60,"li"),z(61),Te(62,"translate"),I(),R(63,"li"),z(64),Te(65,"translate"),I(),R(66,"li"),z(67),Te(68,"translate"),I(),R(69,"li"),z(70),Te(71,"translate"),I()()()(),Ht()}if(2&n){const e=he();N(3),Et(ke(4,21,"game.engagement-tool.mission_rules.xRace.title")),N(6),Me(" ",ke(10,23,"game.engagement-tool.mission_rules.xRace.Step_into")," "),N(4),Me(" ",ke(14,25,"game.engagement-tool.mission_rules.xRace.rules.title")," "),N(4),Me(" ",ke(18,27,"game.engagement-tool.mission_rules.xRace.rules.point1")," "),N(3),Me(" ",ke(21,29,"game.engagement-tool.mission_rules.xRace.rules.point2")," "),N(3),Me(" ",ke(24,31,"game.engagement-tool.mission_rules.xRace.rules.point3")," "),N(3),Me(" ",ke(27,33,"game.engagement-tool.mission_rules.xRace.rules.point4")," "),N(3),Me(" ",ke(30,35,"game.engagement-tool.mission_rules.xRace.rules.point5")," "),N(3),Me(" ",ke(33,37,"game.engagement-tool.mission_rules.xRace.rules.point6")," "),N(3),Me(" ",ke(36,39,"game.engagement-tool.mission_rules.xRace.rules.point7")," "),N(4),Me(" ",ke(40,41,"game.engagement-tool.mission_rules.xRace.tasks.title")," "),N(3),Me(" ",ke(43,43,"game.engagement-tool.mission_rules.xRace.tasks.Before_you_begin")," "),N(2),q("ngForOf",ke(45,45,e.task.update$).tasks),N(3),Me(" ",ke(48,47,"game.engagement-tool.mission_rules.xRace.Please_note")," "),N(4),Me(" ",ke(52,49,"game.engagement-tool.mission_rules.xRace.prizes.title")," "),N(4),Me(" ",ke(56,51,"game.engagement-tool.mission_rules.xRace.prizes.point1")," "),N(3),Me(" ",ke(59,53,"game.engagement-tool.mission_rules.xRace.prizes.point2")," "),N(3),Me(" ",ke(62,55,"game.engagement-tool.mission_rules.xRace.prizes.point3")," "),N(3),Me(" ",ke(65,57,"game.engagement-tool.mission_rules.xRace.prizes.point4")," "),N(3),Me(" ",ke(68,59,"game.engagement-tool.mission_rules.xRace.prizes.point5")," "),N(3),Me(" ",ke(71,61,"game.engagement-tool.mission_rules.xRace.prizes.point6")," ")}}let ou=class{constructor(t,e,i){this.activeModal=t,this.stomp=e,this.task=i,this.isXRace=!0}ngOnInit(){this.stomp.state$.pipe(St(this),Ft(t=>t.state===Do.Disconnected)).subscribe(()=>{this.close()})}close(){this.activeModal.close()}};ou.\u0275fac=function(t){return new(t||ou)($(zr),$(Sl),$(pb))},ou.\u0275cmp=pt({type:ou,selectors:[["app-mission-rules"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","px-2","py-3"],[1,"rules","pt-3","pb-2"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"pt-2"],[1,"prizes","pt-3","pb-2"],[1,"task-name","pt-2"]],template:function(t,e){1&t&&ce(0,bfe,72,63,"ng-container",0),2&t&&q("ngIf",e.isXRace)},directives:[Kt,Ci],pipes:[Dn,Lc],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]{color:#a4a4a4}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;line-height:18px;padding-bottom:10px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ff9f00;font-weight:600}"],changeDetection:0}),ou=He([vi()],ou);let gb=(()=>{class n{constructor(e){this.ngbModal=e}open(e){this.ngbModal.open(e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(nb))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const uc=function(){return{challenge:"xRace"}};let Wh=class{constructor(t,e,i){this.activeModal=t,this.stomp=e,this.modal=i}ngOnInit(){this.stomp.state$.pipe(St(this),Ft(t=>t.state===Do.Disconnected)).subscribe(()=>{this.close()})}getFullImgPath(t){return"assets/images/engagement-tools/"+t}getSrcSet(t,e,i){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(e)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open(ou)}close(){this.activeModal.close()}};Wh.\u0275fac=function(t){return new(t||Wh)($(zr),$(Sl),$(gb))},Wh.\u0275cmp=pt({type:Wh,selectors:[["app-how-it-works"]],decls:48,vars:65,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","p-0","px-2"],[1,"py-3"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["alt","join",1,"img","img-join","my-2",3,"srcset","src"],[1,"title","w-100"],["alt","progress",1,"img","img-progress","my-2",3,"srcset","src"],["alt","big-prize",1,"img","img-prize","my-2",3,"srcset","src"],["alt","mission-completion",1,"img","img-mission-completion","my-2",3,"srcset","src"],[1,"btn-link","pb-4","text-center",3,"click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return e.close()}),Pe(5,"span",3),I()(),R(6,"div",4)(7,"div",5),z(8),Te(9,"translate"),I(),R(10,"div",6),z(11),Te(12,"translate"),I(),R(13,"ol",7),Pe(14,"img",8),R(15,"li",9),z(16),Te(17,"translate"),I(),R(18,"div"),z(19),Te(20,"translate"),I(),Pe(21,"img",10),R(22,"li",9),z(23),Te(24,"translate"),I(),R(25,"div"),z(26),Te(27,"translate"),I(),Pe(28,"img",11),R(29,"li",9),z(30),Te(31,"translate"),I(),R(32,"div"),z(33),Te(34,"translate"),I(),Pe(35,"img",12),R(36,"li",9),z(37),Te(38,"translate"),I(),R(39,"div"),z(40),Te(41,"translate"),I()(),R(42,"div",5),z(43),Te(44,"translate"),I(),R(45,"div",13),Ae("click",function(){return e.showMissionRules()}),z(46),Te(47,"translate"),I()()),2&t&&(N(2),Et(ke(3,21,"game.engagement-tool.how_it_works.title")),N(6),Me(" ",an(9,23,"game.engagement-tool.how_it_works.Welcome",Aa(56,uc))," "),N(3),Me(" ",ke(12,26,"game.engagement-tool.how_it_works.Here\u2019s_how_it_works")," "),N(3),q("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),Ui)("src",e.getFullImgPath("join.png"),Ui),N(2),Me(" ",an(17,28,"game.engagement-tool.how_it_works.join_the_mission.title",Aa(57,uc))," "),N(3),Me(" ",an(20,31,"game.engagement-tool.how_it_works.join_the_mission.text",Aa(58,uc))," "),N(2),q("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),Ui)("src",e.getFullImgPath("progress.png"),Ui),N(2),Me(" ",ke(24,34,"game.engagement-tool.how_it_works.task_progress.title")," "),N(3),Me(" ",an(27,36,"game.engagement-tool.how_it_works.task_progress.text",Aa(59,uc))," "),N(2),q("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),Ui)("src",e.getFullImgPath("big-prize.png"),Ui),N(2),Me(" ",ke(31,39,"game.engagement-tool.how_it_works.fight_for_your_prize.title")," "),N(3),Me(" ",an(34,41,"game.engagement-tool.how_it_works.fight_for_your_prize.text",Aa(60,uc))," "),N(2),q("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),Ui)("src",e.getFullImgPath("mission-completion.png"),Ui),N(2),Me(" ",an(38,44,"game.engagement-tool.how_it_works.mission_completion.title",Aa(61,uc))," "),N(3),Me(" ",an(41,47,"game.engagement-tool.how_it_works.mission_completion.text",Aa(62,uc))," "),N(3),Me(" ",an(44,50,"game.engagement-tool.how_it_works.Join_the_mission",Aa(63,uc))," "),N(3),Me(" ",an(47,53,"game.engagement-tool.how_it_works.Detailed_Mission_rules",Aa(64,uc))," "))},pipes:[Dn],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]{color:#a4a4a4}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:100px;width:320px;border-radius:10px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:40px;color:#ff9f00}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:16px;color:#fec223;text-decoration:underline}"]}),Wh=He([vi()],Wh);var Sp=(()=>(function(n){n.FreeBet="freeBet",n.Special="special"}(Sp||(Sp={})),Sp))();let _b=(()=>{class n{constructor(e,i){this.stomp=e,this.notification=i,this.activeChallenge="xRace",this.updateSubject=new ei(null),this.update$=this.updateSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.stomp.response(ho.Init).subscribe(r=>{this.total=r.prize.total,this.items=[...r.prize.items],this.potentialPrizeAmount=this.items.reduce((o,s)=>s.type===Sp.FreeBet?o.plus(Ep(s.cost).times(s.quantity)):o,Ep(0)).toNumber(),this.updateSubject.next({left:r.prize.left})}),this.stomp.response(ho.Prize).subscribe(r=>{this.updateSubject.next({left:r.left}),0===r.left&&this.notification.show(Yh.PrizesEnded,Ss.danger,{challenge:this.activeChallenge})})}}return n.\u0275fac=function(e){return new(e||n)(Ne(Sl),Ne(fb))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-free-bet-badge"]],decls:2,vars:0,consts:[[1,"free-bet-badge","d-flex","flex-center"]],template:function(e,i){1&e&&(R(0,"div",0),z(1,"FREE BET"),I())},styles:[".free-bet-badge[_ngcontent-%COMP%]{width:56px;height:18px;font-size:10px;color:#a4a4a4;border:solid 1px #a4a4a4;border-radius:11px;line-height:12px}"],changeDetection:0}),n})(),Sfe=(()=>{class n{constructor(e){this.missionService=e}transform(e){return this.missionService.config.isUseMaskedUsername?e&&function Efe(n){return"string"==typeof n||n instanceof String}(e)?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)($(cc,16))},n.\u0275pipe=Kr({name:"maskedUsername",type:n,pure:!0}),n})(),xw=(()=>{class n{constructor(e){this.mission=e}transform(e){return"number"!=typeof e?"":new Ep(e).toFixed(this.mission.config.currencyPrecision,0)}}return n.\u0275fac=function(e){return new(e||n)($(cc,16))},n.\u0275pipe=Kr({name:"currencyPrecision",type:n,pure:!0}),n})();function Tfe(n,t){if(1&n&&Pe(0,"img",24),2&n){const e=he().$implicit;q("src",he(3).pathAvatars+e.avatar,Ui)("alt",e.name)}}function Cfe(n,t){1&n&&Pe(0,"div",25)}function Ofe(n,t){if(1&n&&(R(0,"li",14)(1,"div",15)(2,"div",16),z(3),Te(4,"date"),I(),ce(5,Tfe,1,2,"img",17),ce(6,Cfe,1,0,"div",18),R(7,"div",19),z(8),Te(9,"maskedUsername"),I()(),R(10,"div",20),Pe(11,"div",21),R(12,"div",22)(13,"span",23),z(14),Te(15,"currencyPrecision"),I(),Pe(16,"app-free-bet-badge"),I()()()),2&n){const e=t.$implicit,i=he(3);N(3),Et(an(4,6,e.date,"HH:mm:ss")),N(2),q("ngIf",e.avatar),N(1),q("ngIf",!e.avatar),N(2),Me(" ",ke(9,9,e.name)," "),N(6),Gi("",ke(15,11,i.prize.potentialPrizeAmount)," ",i.mission.config.currency," ")}}function Mfe(n,t){if(1&n&&(R(0,"div",11)(1,"ul",12),ce(2,Ofe,17,13,"li",13),I()()),2&n){const e=he().ngIf;N(2),q("ngForOf",e)}}function wfe(n,t){if(1&n&&(R(0,"div",5)(1,"div",6),Pe(2,"div",7),R(3,"div",8),z(4),Te(5,"translate"),I(),R(6,"div",9),z(7),Te(8,"translate"),I()(),ce(9,Mfe,3,1,"div",10),I()),2&n){const e=t.ngIf;ut("no-winners",!e.length),N(4),Me(" ",ke(5,5,"game.engagement-tool.Our_Winners")," (TOP 20) "),N(3),Me(" ",ke(8,7,"game.engagement-tool.no_winners")," "),N(2),q("ngIf",e.length)}}let zh=class{constructor(t,e,i,r){this.activeModal=t,this.stomp=e,this.mission=i,this.prize=r,this.winners$=this.stomp.response(ho.Winners).pipe(pe(o=>o.winners)),this.pathAvatars="assets/static/avatars/v2/"}ngOnInit(){this.stomp.state$.pipe(St(this),Ft(t=>t.state===Do.Disconnected)).subscribe(()=>{this.close()})}close(){this.activeModal.close()}};zh.\u0275fac=function(t){return new(t||zh)($(zr),$(Sl),$(cc),$(_b))},zh.\u0275cmp=pt({type:zh,selectors:[["app-winners"]],decls:8,vars:6,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",3,"no-winners",4,"ngIf"],[1,"modal-body"],[1,"winners-heading","text-center"],[1,"trophy"],[1,"winners-text","font-weight-bold"],[1,"no-winners-text"],["class","winners-list-holder",4,"ngIf"],[1,"winners-list-holder"],[1,"winners-list"],["class","d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],[1,"user-info","d-flex","align-items-center"],[1,"win-date"],[3,"src","alt",4,"ngIf"],["class","user-icon",4,"ngIf"],[1,"winner-name"],[1,"prize-info","d-flex","align-items-center"],[1,"prize-box"],[1,"prize-amount","d-flex"],[1,"amount"],[3,"src","alt"],[1,"user-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Te(3,"translate"),I(),R(4,"button",2),Ae("click",function(){return e.close()}),Pe(5,"span",3),I()(),ce(6,wfe,10,9,"div",4),Te(7,"async")),2&t&&(N(2),Et(ke(3,2,"game.engagement-tool.Mission")),N(4),q("ngIf",ke(7,4,e.winners$)))},directives:[Kt,Ci,n4],pipes:[Dn,Lc,al,Sfe,xw],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]{margin:10px 0}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .trophy[_ngcontent-%COMP%]{background:url(trophy.a583c02557565401.svg) no-repeat center center/contain;width:42px;height:42px;margin:0 auto 5px}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .winners-text[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .no-winners-text[_ngcontent-%COMP%]{display:none}.modal-body.no-winners[_ngcontent-%COMP%]{display:flex;min-height:285px}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]{margin:auto;max-width:184px}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .no-winners-text[_ngcontent-%COMP%]{display:block}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .winners-text[_ngcontent-%COMP%], .modal-body.no-winners[_ngcontent-%COMP%]   .winners-list-holder[_ngcontent-%COMP%]{display:none}.winners-list-holder[_ngcontent-%COMP%]{background-color:#2c2e30;padding:10px;border-radius:10px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;padding-bottom:5px;margin-bottom:5px;border-bottom:1px solid rgba(154,154,154,.25)}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{padding-bottom:0;margin-bottom:0;border-bottom:none}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{white-space:nowrap;min-width:40%}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .win-date[_ngcontent-%COMP%]{font-size:10px;color:#a4a4a4}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:22px;height:22px;min-width:22px;border-radius:50%;overflow:hidden;margin:0 5px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .winner-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]{max-width:60%}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:14px;width:14px;min-width:14px;margin-right:5px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-amount[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{padding-right:3px}"],changeDetection:0}),zh=He([vi()],zh);var mb=(()=>(function(n){n.MinBet="Min_bet",n.PrizesEnded="Prizes_ended"}(mb||(mb={})),mb))(),su=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED"}(su||(su={})),su))(),ra=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED"}(ra||(ra={})),ra))();let vb=(()=>{class n{constructor(e,i){this.stomp=e,this.notification=i,this.activeChallenge="xRace",this.update=new ei({mission:{status:su.Announced},player:{status:ra.None}}),this.update$=this.update.asObservable(),this.stomp.response(ho.Init).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:r.status.mission.status,finishDate:r.status.mission.finishDate||r.config.endDate},player:{status:r.status.player.status}}))}),this.stomp.response(ho.PlayerStatus).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:{status:r.status}})),r.status===ra.Won&&this.notification.show(Yh.ChallengeCompleted,Ss.success,{challenge:this.activeChallenge}),r.status===ra.Rewarded&&this.notification.show(Yh.PrizePaid,Ss.success,{challenge:this.activeChallenge})}),this.stomp.response(ho.MissionStatus).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:r.status,finishDate:r.finishDate||this.update.getValue().mission.finishDate}}))})}}return n.\u0275fac=function(e){return new(e||n)(Ne(Sl),Ne(fb))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),yb=(()=>{class n{constructor(e,i){this.mission=e,this.status=i,this.stakes=new Map([]),this.missionStatus=su.Announced,this.playerStatus=ra.None,this.updateSubject=new ei(!1),this.update$=this.updateSubject.asObservable().pipe(hp()),this.status.update$.subscribe(r=>{this.missionStatus=r.mission.status,this.playerStatus=r.player.status,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.mission.config.minBet)&&this.missionStatus===su.Active&&this.playerStatus===ra.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(Ne(cc),Ne(vb))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Pfe=(()=>{class n{constructor(){this.messageParams={}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-alert-message"]],inputs:{alertMessage:"alertMessage",messageParams:"messageParams"},decls:5,vars:4,consts:[[1,"alert-message","d-flex","justify-content-center","mb-2","p-2"],[1,"icon","flex-shrink-0"],[1,"text","pl-1"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1),R(2,"span",2),z(3),Te(4,"translate"),I()()),2&e&&(N(3),Me(" ",an(4,1,"game.engagement-tool.alert-message."+i.alertMessage,i.messageParams)," "))},pipes:[Dn],styles:[".alert-message[_ngcontent-%COMP%]{background-color:#71172b;border:1px solid #9f1434;border-radius:10px}.alert-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px;background:url(alert-circle.ef614c2cb05c7771.svg) no-repeat center center/contain}.alert-message[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),n})(),Afe=(()=>{class n{constructor(){this.challengeName="",this.challengeType="xRace"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-challenge-header"]],inputs:{challengeName:"challengeName",challengeType:"challengeType"},decls:7,vars:2,consts:[[1,"header-modal","d-flex","pb-2","my-2"],[1,"container"],["src","assets/challenges/images/xrace-icon.png","alt","","srcset","\n        assets/challenges/images/xrace-icon.png,\n        assets/challenges/images/xrace-icon@2x.png 2x,\n        assets/challenges/images/xrace-icon@3x.png 3x\n      "],[1,"challenge-type"],[1,"challenge-name"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Pe(2,"img",2),R(3,"span",3),z(4),I(),R(5,"span",4),z(6),I()()()),2&e&&(N(4),Et(i.challengeType),N(2),Et(i.challengeName))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;justify-content:center;align-self:stretch;border-radius:10px;background:#2c2e30;width:100%}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px;-o-object-fit:cover;object-fit:cover;margin-bottom:8px}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow-wrap:break-word;max-width:100%;font-style:normal;line-height:normal;text-align:center;font-size:14px}.container[_ngcontent-%COMP%]   span.challenge-type[_ngcontent-%COMP%]{color:#fec223;font-weight:700;margin-bottom:5px}.container[_ngcontent-%COMP%]   span.challenge-name[_ngcontent-%COMP%]{color:#fff;font-weight:400}"],changeDetection:0}),n})();function i4(n=0,t=Qg){return n<0&&(n=0),Hc(n,n,t)}function xfe(n,t){if(1&n&&(Vt(0),Pe(1,"img",2),R(2,"span",3),z(3),Te(4,"number"),Te(5,"number"),Te(6,"number"),I(),Ht()),2&n){const e=t.ngIf;N(3),Og(" ",an(4,3,e.hours,"2.0"),":",an(5,6,e.minutes,"2.0"),":",an(6,9,e.seconds,"2.0")," ")}}let au=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=i4(1e3).pipe(St(this),pe(()=>this.calcDateDiff()),x0(1))}calcDateDiff(){const t=this.startDate-Date.now();return t<=0?{seconds:0,minutes:0,hours:0}:{hours:Math.floor(t/(this.milSecInSec*this.minInH*this.secInMin)%this.hInDay),minutes:Math.floor(t/(this.milSecInSec*this.minInH)%this.secInMin),seconds:Math.floor(t/this.milSecInSec)%this.secInMin}}};au.\u0275fac=function(t){return new(t||au)},au.\u0275cmp=pt({type:au,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],["src","assets/challenges/images/timer-icon.png","srcset","\n        assets/challenges/images/timer-icon.png,\n        assets/challenges/images/timer-icon@2x.png 2x,\n        assets/challenges/images/timer-icon@3x.png 3x\n      ","alt","",1,"timer-icon"],[1,"timer-value"]],template:function(t,e){1&t&&(R(0,"div",0),ce(1,xfe,7,12,"ng-container",1),Te(2,"async"),I()),2&t&&(N(1),q("ngIf",ke(2,1,e.timeLeft$)))},directives:[Kt],pipes:[Lc,pT],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:86px;height:20px}.timer-container[_ngcontent-%COMP%]   .timer-icon[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{margin-left:5px;text-align:center;font-size:14px;font-style:normal;font-weight:400;line-height:normal}"],changeDetection:0}),au=He([vi()],au);let Rfe=(()=>{class n{constructor(e){this.mission=e}}return n.\u0275fac=function(e){return new(e||n)($(cc))},n.\u0275cmp=pt({type:n,selectors:[["app-challenge-upcoming"]],decls:6,vars:4,consts:[[1,"upcoming-container"],["src","assets/challenges/images/plane.png","srcset","\n      assets/challenges/images/plane.png,\n      assets/challenges/images/plane@2x.png 2x,\n      assets/challenges/images/plane@3x.png 3x\n    ","alt","",1,"upcoming-image"],[1,"upcoming-title"],[1,"timer-value",3,"startDate"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"img",1),R(2,"span",2),z(3),Te(4,"translate"),I(),Pe(5,"app-upcoming-timer",3),I()),2&e&&(N(3),Et(ke(4,2,"game.engagement-tool.You are joined! Start in:")),N(2),q("startDate",i.mission.config.startDate))},directives:[au],pipes:[Dn],styles:[".upcoming-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;min-width:320px;min-height:150px;margin:20px 0;border-radius:10px;background:linear-gradient(251deg,#3b2560 0%,#2d2e32 51.24%,#582533 100%)}.upcoming-container[_ngcontent-%COMP%]   .upcoming-image[_ngcontent-%COMP%]{width:64px;height:64px}.upcoming-container[_ngcontent-%COMP%]   .upcoming-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:14px;font-weight:400;margin:10px 0 5px}.upcoming-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{color:#fec223}"],changeDetection:0}),n})();var ir=(()=>(function(n){n.CatchMultiplier="CATCH_MULTIPLIER",n.CatchMultiplierTimes="CATCH_MULTIPLIER_TIMES",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.WinRoundsCustomMinBet="WIN_ROUNDS_CUSTOM_MIN_BET",n.BetInTotal="BET_IN_TOTAL",n.BetInRoundMaxReachedMultiplier="BET_IN_ROUND_MAX_REACHED_MULTIPLIER",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM"}(ir||(ir={})),ir))(),xs=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(xs||(xs={})),xs))();const Dfe={[ir.PlayRounds]:xs.PlayRounds,[ir.CatchMultiplier]:xs.CatchX,[ir.CatchMultiplierTimes]:xs.CatchX,[ir.WinRounds]:xs.WinRounds,[ir.WinRoundsCustomMinBet]:xs.WinRounds,[ir.BetInRoundMaxReachedMultiplier]:xs.MakeBets,[ir.PlayRoundsMaxReachedMultiplier]:xs.PlayRounds,[ir.WinMoneyInTotal]:xs.WinMoney,[ir.BetInTotal]:xs.MakeBets,[ir.CollectCashOutsMultiplierSum]:xs.CollectCashouts};let Ife=(()=>{class n{get groupName(){return Dfe[this.task.name]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-task"]],inputs:{task:"task"},decls:5,vars:5,consts:[[1,"task-holder","d-flex","align-items-center","pb-1"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1),R(2,"div",2),z(3),Te(4,"translate"),I()()),2&e&&(N(1),q("ngClass",i.groupName),N(2),Me(" ",an(4,2,"game.engagement-tool.tasks."+i.task.name,i.task.nameParams)," "))},directives:[Cf],pipes:[Dn],styles:[".task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background:url(win-rounds.fb255786ec80bbac.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background:url(win-money.8a6c5b205fcc8ceb.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background:url(play-rounds.274cb5d798e59525.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background:url(collect-cashouts.bcac814996ac471a.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background:url(catch-x.e3e95d64dbab4213.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background:url(make-bets.9b323891b41c3a17.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),n})();var is=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(is||(is={})),is))();const Nfe={[ir.PlayRounds]:is.OnlyNumbers,[ir.CatchMultiplier]:is.OnlyNumbers,[ir.CatchMultiplierTimes]:is.OnlyNumbers,[ir.WinRounds]:is.OnlyNumbers,[ir.WinRoundsCustomMinBet]:is.OnlyNumbers,[ir.BetInRoundMaxReachedMultiplier]:is.OnlyNumbers,[ir.PlayRoundsMaxReachedMultiplier]:is.OnlyNumbers,[ir.WinMoneyInTotal]:is.Currency,[ir.BetInTotal]:is.Currency,[ir.CollectCashOutsMultiplierSum]:is.Multiplier};function kfe(n,t){if(1&n&&(Vt(0),R(1,"div",6),z(2),I(),Ht()),2&n){const e=he();N(2),Gi(" ",e.task.progress,"/",e.task.goal," ")}}function Ffe(n,t){if(1&n&&(Vt(0),R(1,"div",6),z(2),I(),Ht()),2&n){const e=he();N(2),Og(" ",e.task.progress,"/",e.task.goal," ",e.currency," ")}}function Bfe(n,t){if(1&n&&(Vt(0),R(1,"div",6),z(2),I(),Ht()),2&n){const e=he();N(2),Gi(" ",e.task.progress,"x/",e.task.goal,"x ")}}let Lfe=(()=>{class n{constructor(){this.group=is}get currentGroupName(){return Nfe[this.task.name]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnded:"isEnded",isMinBetError:"isMinBetError"},decls:8,vars:8,consts:[[1,"progress-box","w-100"],[1,"counter-box","w-100","h-100","flex-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"counter","flex-center"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Vt(2,2),ce(3,kfe,3,2,"ng-container",3),ce(4,Ffe,3,3,"ng-container",3),ce(5,Bfe,3,2,"ng-container",3),Ht(),I(),R(6,"div",4),Pe(7,"div",5),I()()),2&e&&(N(2),q("ngSwitch",i.currentGroupName),N(1),q("ngSwitchCase",i.group.OnlyNumbers),N(1),q("ngSwitchCase",i.group.Currency),N(1),q("ngSwitchCase",i.group.Multiplier),N(2),Dc("width",i.task.progress/i.task.goal*100+"%"),ut("frozen",i.isEnded||i.isMinBetError))},directives:[sl,Bc],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]{z-index:1;position:absolute;font-size:12px}.progress-box[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{min-width:40px;height:16px;border-radius:10px;background:rgba(27,28,29,.5);color:#fff;padding:1px 5px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:24px;width:100%;background-color:#1b1c1d;border:solid 2px transparent;border-radius:100px;overflow:hidden}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-size:30px 30px;background-image:linear-gradient(135deg,#5da71d 25%,#64b61d 25%,#64b61d 50%,#5da71d 50%,#5da71d 75%,#64b61d 75%,#64b61d)}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .frozen[_ngcontent-%COMP%]{background-image:none;background-color:#a4a4a4}"],changeDetection:0}),n})();function Ufe(n,t){if(1&n&&(R(0,"div",2)(1,"div",3),z(2,"FreeBet"),I(),R(3,"div",4)(4,"span",5),z(5),Te(6,"translate"),I(),R(7,"span"),z(8),I()(),R(9,"div",4)(10,"span",5),z(11),Te(12,"translate"),I(),R(13,"div")(14,"span"),z(15),Te(16,"currencyPrecision"),I(),R(17,"span",6),z(18),I()()(),R(19,"div",4)(20,"span",5),z(21),Te(22,"translate"),I(),R(23,"div")(24,"span"),z(25),Te(26,"currencyPrecision"),I(),R(27,"span",6),z(28),I()()()()),2&n){const e=he().$implicit,i=he();N(5),Et(ke(6,8,"game.engagement-tool.Quantity")),N(3),Et(e.quantity),N(3),Et(ke(12,10,"game.engagement-tool.Cost")),N(4),Et(ke(16,12,e.cost)),N(3),Me(" ",i.currency,""),N(3),Et(ke(22,14,"game.engagement-tool.Prize_amount")),N(4),Et(ke(26,16,i.getPrizeAmount(e.cost,e.quantity))),N(3),Me(" ",i.currency,"")}}function Gfe(n,t){if(1&n&&(R(0,"div",3),z(1),I()),2&n){const e=he(2).$implicit;N(1),Me(" ",e.name," ")}}function jfe(n,t){if(1&n&&(R(0,"div",3),z(1),Te(2,"translate"),I(),R(3,"div",9)(4,"span",10),z(5),I()()),2&n){const e=he(2).$implicit;N(1),Me(" ",ke(2,2,"game.engagement-tool.Detailed information")," "),N(4),Et(e.description)}}function Vfe(n,t){if(1&n&&(R(0,"div",2),ce(1,Gfe,2,1,"div",7),ce(2,jfe,6,4,"ng-template",null,8,Qo),I()),2&n){const e=So(3),i=he().$implicit;N(1),q("ngIf",!i.description)("ngIfElse",e)}}function Hfe(n,t){if(1&n&&(Vt(0),ce(1,Ufe,29,18,"div",1),ce(2,Vfe,4,2,"div",1),Ht()),2&n){const e=t.$implicit,i=he();N(1),q("ngIf",e.type===i.PrizeType.FreeBet),N(1),q("ngIf",e.type===i.PrizeType.Special)}}let Yfe=(()=>{class n{constructor(){this.PrizeType=Sp}getPrizeAmount(e,i){return Ep(e).times(i).toNumber()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-prize-popover-content"]],inputs:{prizes:"prizes",currency:"currency"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","prize-popover pt-2 pb-1",4,"ngIf"],[1,"prize-popover","pt-2","pb-1"],[1,"prize-type","pb-1"],[1,"prize-detail","d-flex","justify-content-between","align-items-center","pb-1"],[1,"title"],[1,"currency"],["class","prize-type pb-1",4,"ngIf","ngIfElse"],["witDescription",""],[1,"prize-detail","d-flex","align-items-center","pb-1"],[1,"prize-description"]],template:function(e,i){1&e&&ce(0,Hfe,3,2,"ng-container",0),2&e&&q("ngForOf",i.prizes)},directives:[Ci,Kt],pipes:[Dn,xw],styles:[".engagment-tools-prize-popover{font-family:Roboto,sans-serif;background:#2c2e30;border-radius:10px}.engagment-tools-prize-popover .popover-body{padding:0 10px;max-height:285px;overflow-y:auto;white-space:pre-wrap}.engagment-tools-prize-popover .popover-body .prize-popover{font-size:12px;min-width:200px;color:#fff;border-bottom:1px solid rgba(154,154,154,.25);line-height:14px}.engagment-tools-prize-popover .popover-body .prize-popover .prize-type{font-weight:600}.engagment-tools-prize-popover .popover-body .prize-popover .prize-detail .title{color:#a4a4a4}.engagment-tools-prize-popover .popover-body .prize-popover .prize-detail .currency{font-size:10px;color:#a4a4a4}.engagment-tools-prize-popover .popover-body .prize-popover:last-of-type{border-bottom:none}.engagment-tools-prize-popover .arrow:after{border-top-color:#2c2e30}.engagment-tools-prize-popover .prize-description{max-width:100%;text-wrap:normal;word-wrap:break-word}\n"],encapsulation:2,changeDetection:0}),n})();const r4=function(n){return{challenge:n}};function Wfe(n,t){if(1&n&&Pe(0,"app-alert-message",55),2&n){const e=he(2);q("alertMessage",e.alertMessage.MinBet)("messageParams",vs(2,r4,e.activeChallenge))}}function zfe(n,t){1&n&&(R(0,"div",56),z(1," Upcoming "),I())}function $fe(n,t){1&n&&(R(0,"div",57),z(1," Waiting "),I())}function Xfe(n,t){1&n&&(R(0,"div",58),z(1," LIVE "),I())}function Kfe(n,t){1&n&&(R(0,"div",59),z(1," Finished "),I())}function qfe(n,t){1&n&&(R(0,"div",60),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"game.engagement-tool.Starts")," "))}function Jfe(n,t){1&n&&(R(0,"div",60),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"game.engagement-tool.Started")," "))}function Qfe(n,t){1&n&&Pe(0,"app-challenge-upcoming")}function Zfe(n,t){if(1&n&&(Pe(0,"app-task-progress",67),Te(1,"async")),2&n){const e=he().$implicit,i=he(2).ngIf,r=he();q("task",e)("currency",r.mission.config.currency)("isEnded",i.mission.status===r.missionStatus.Finished&&i.player.status===r.playerStatus.Joined)("isMinBetError",ke(1,4,r.minBetError.update$))}}function epe(n,t){if(1&n&&(R(0,"li",64),Pe(1,"app-task",65),ce(2,Zfe,2,6,"app-task-progress",66),I()),2&n){const e=t.$implicit,i=t.index,r=he(2).ngIf,o=he();N(1),function KD(n,t,e){Pa(ps,rl,rf(ot(),n,t,e),!0)}("task-item-",i,""),q("task",e),N(1),q("ngIf",r.player.status!==o.playerStatus.None)}}function tpe(n,t){if(1&n&&(R(0,"div",61)(1,"ul",62),ce(2,epe,3,5,"li",63),I()()),2&n){const e=t.ngIf;N(2),q("ngForOf",e)}}function npe(n,t){if(1&n&&(Vt(0),R(1,"span",71),z(2),I(),Ht()),2&n){const e=he().$implicit;N(2),Me(" ",e.name," ")}}function ipe(n,t){if(1&n&&(Vt(0),R(1,"div",72)(2,"span",51),z(3),Te(4,"currencyPrecision"),I(),R(5,"span",52),z(6),I()(),Pe(7,"app-free-bet-badge"),Ht()),2&n){const e=he(3);N(3),Me("",ke(4,2,e.prize.potentialPrizeAmount)," "),N(3),Me(" ",e.mission.config.currency,"")}}function rpe(n,t){if(1&n&&Pe(0,"app-prize-popover-content",73),2&n){const e=he(3);q("prizes",e.prize.items)("currency",e.mission.config.currency)}}function ope(n,t){if(1&n&&(R(0,"div",68),Pe(1,"div",42),ce(2,npe,3,1,"ng-container",23),ce(3,ipe,8,4,"ng-container",23),ce(4,rpe,1,2,"ng-template",null,69,Qo),Pe(6,"button",70),I()),2&n){const e=t.$implicit,i=So(5),r=he(2);N(2),q("ngIf",e.type===r.PrizeType.Special),N(1),q("ngIf",e.type===r.PrizeType.FreeBet),N(3),q("ngbPopover",i)}}const spe=function(){return{challenge:"xRace"}};function ape(n,t){if(1&n){const e=Ct();R(0,"div",74)(1,"button",75),Ae("click",function(){return dt(e),he(2).joinToMission()}),z(2),Te(3,"translate"),I(),R(4,"div",76),z(5),Te(6,"translate"),R(7,"strong",77),Ae("click",function(){return dt(e),he(2).showRules()}),z(8),Te(9,"translate"),I(),z(10,". "),I()()}if(2&n){const e=he(2);N(1),q("disabled",e.waitingForResponse.join),N(1),Me(" ",ke(3,4,"game.engagement-tool.Join")," "),N(3),Me(" ",ke(6,6,"game.engagement-tool.mission_policy")," "),N(3),Et(an(9,8,"game.engagement-tool.Mission_Rules",Aa(11,spe)))}}function lpe(n,t){if(1&n){const e=Ct();R(0,"div",78)(1,"button",79),Ae("click",function(){return dt(e),he(2).takePrize()}),Pe(2,"span",80),z(3),Te(4,"translate"),I()()}if(2&n){const e=he(2);N(1),q("disabled",e.waitingForResponse.takePrize),N(2),Me(" ",ke(4,2,"game.engagement-tool.Take_My_Prize")," ")}}function cpe(n,t){if(1&n&&Pe(0,"app-alert-message",55),2&n){const e=he(2);q("alertMessage",e.alertMessage.PrizesEnded)("messageParams",vs(2,r4,e.activeChallenge))}}function upe(n,t){1&n&&(R(0,"div",49),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"game.engagement-tool.Ends")," "))}function hpe(n,t){1&n&&(R(0,"div",49),z(1),Te(2,"translate"),I()),2&n&&(N(1),Me(" ",ke(2,1,"game.engagement-tool.Ended")," "))}function dpe(n,t){if(1&n){const e=Ct();R(0,"div",4),ce(1,Wfe,1,4,"app-alert-message",5),Te(2,"async"),Pe(3,"app-challenge-header",6),R(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10),z(8),Te(9,"translate"),I(),ce(10,zfe,2,0,"div",11),ce(11,$fe,2,0,"div",12),ce(12,Xfe,2,0,"div",13),ce(13,Kfe,2,0,"div",14),I(),R(14,"div",15),Pe(15,"div",16),R(16,"div"),z(17),Te(18,"async"),I()()(),R(19,"div",17),ce(20,qfe,3,3,"div",18),ce(21,Jfe,3,3,"div",18),R(22,"div",19),Pe(23,"div",20),R(24,"span",21),z(25),Te(26,"date"),I(),R(27,"span",22),z(28),Te(29,"date"),I()()()(),ce(30,Qfe,1,0,"app-challenge-upcoming",23),R(31,"div",24)(32,"span",25),z(33),Te(34,"translate"),I(),R(35,"button",26),Ae("click",function(){return dt(e),he().showHowItWorks()}),Pe(36,"span",27),R(37,"span",28),z(38),Te(39,"translate"),I()()(),ce(40,tpe,3,1,"div",29),Te(41,"async"),R(42,"div",30)(43,"div",31)(44,"span",32),z(45),Te(46,"translate"),I(),R(47,"button",33),Ae("click",function(){return dt(e),he().showWinners()}),Pe(48,"span",34),R(49,"span",28),z(50),Te(51,"translate"),I()()(),R(52,"div",35),ce(53,ope,7,3,"div",36),I()(),R(54,"div",37)(55,"div",31)(56,"span"),z(57),Te(58,"translate"),I()(),R(59,"div",38)(60,"div",39),z(61,"0"),I(),R(62,"div",40)(63,"div",41),Te(64,"async"),Pe(65,"div",42),R(66,"div",43),Te(67,"async"),z(68),Te(69,"async"),I()()(),R(70,"div",44),z(71),I()()(),ce(72,ape,11,12,"div",45),ce(73,lpe,5,4,"div",46),ce(74,cpe,1,4,"app-alert-message",5),Te(75,"async"),R(76,"div",47)(77,"div",48)(78,"div",49),z(79),Te(80,"translate"),I(),R(81,"div",50)(82,"span",51),z(83),Te(84,"currencyPrecision"),I(),R(85,"span",52),z(86),I()()(),R(87,"div",53),ce(88,upe,3,3,"div",54),ce(89,hpe,3,3,"div",54),R(90,"div",19),Pe(91,"div",20),R(92,"span",21),z(93),Te(94,"date"),I(),R(95,"span",22),z(96),Te(97,"date"),I()()()()()}if(2&n){const e=t.ngIf,i=he();N(1),q("ngIf",ke(2,39,i.minBetError.update$)),N(2),q("challengeType","xRACE")("challengeName",i.mission.config.name),N(5),Me(" ",ke(9,41,"game.engagement-tool.Status")," "),N(2),q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status!==i.playerStatus.Joined),N(1),q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status===i.playerStatus.Joined),N(1),q("ngIf",e.mission.status===i.missionStatus.Active),N(1),q("ngIf",e.mission.status===i.missionStatus.Finished),N(4),Et(ke(18,43,i.mission.update$).joinCount),N(3),q("ngIf",e.mission.status===i.missionStatus.Announced),N(1),q("ngIf",e.mission.status!==i.missionStatus.Announced),N(1),ut("mission-upcoming",e.mission.status===i.missionStatus.Announced),N(3),Me(" ",an(26,45,i.mission.config.startDate,"HH:mm"),""),N(3),Me(", ",an(29,48,i.mission.config.startDate,"dd.MM.yy")," "),N(2),q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status===i.playerStatus.Joined),N(3),Et(ke(34,51,"game.engagement-tool.Tasks")),N(5),Et(ke(39,53,"game.engagement-tool.how_it_works.title")),N(2),q("ngIf",ke(41,55,i.task.update$).tasks),N(5),Me(" ",ke(46,57,"game.engagement-tool.Prize:")," "),N(5),Et(ke(51,59,"game.engagement-tool.Leaderboard")),N(3),q("ngForOf",i.prize.items),N(4),Et(ke(58,61,"game.engagement-tool.Prizes left:")),N(6),Dc("width",ke(64,63,i.prize.update$).left/i.prize.total*100+"%"),N(3),ut("no-prize",0===ke(67,65,i.prize.update$).left),N(2),Me(" ",ke(69,67,i.prize.update$).left," "),N(3),Me(" ",i.prize.total," "),N(1),q("ngIf",e.player.status===i.playerStatus.None),N(1),q("ngIf",e.player.status===i.playerStatus.Won),N(1),q("ngIf",0===ke(75,69,i.prize.update$).left),N(5),Me(" ",ke(80,71,"game.engagement-tool.Min_bet")," "),N(4),Me(" ",ke(84,73,i.mission.config.minBet)," "),N(3),Et(i.mission.config.currency),N(2),q("ngIf",e.mission.status!==i.missionStatus.Finished),N(1),q("ngIf",e.mission.status===i.missionStatus.Finished),N(4),Me(" ",an(94,75,e.mission.finishDate,"HH:mm"),""),N(3),Me(", ",an(97,78,e.mission.finishDate,"dd.MM.yy")," ")}}let $h=class{constructor(t,e,i,r,o,s,a,l,c){this.stomp=t,this.activeModal=e,this.modalService=i,this.cd=r,this.status=o,this.task=s,this.prize=a,this.mission=l,this.minBetError=c,this.activeChallenge="xRace",this.missionStatus=su,this.playerStatus=ra,this.alertMessage=mb,this.PrizeType=Sp,this.waitingForResponse={takePrize:!1,join:!1}}ngOnInit(){this.stomp.state$.pipe(St(this),Ft(t=>t.state===Do.Disconnected)).subscribe(()=>{this.close()}),this.stomp.response(ho.TakePrize).pipe(Ft(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(ho.Join).pipe(Ft(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}close(){this.activeModal.close()}showHowItWorks(){this.modalService.open(Wh)}showRules(){this.modalService.open(ou)}showWinners(){this.stomp.request(Gh.Winners,null),this.modalService.open(zh)}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(Gh.Join,null)}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(Gh.TakePrize,null)}};$h.\u0275fac=function(t){return new(t||$h)($(Sl),$(zr),$(gb),$(wn),$(vb),$(pb),$(_b),$(cc),$(yb))},$h.\u0275cmp=pt({type:$h,selectors:[["app-mission-details"]],decls:7,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body py-3 px-2",4,"ngIf"],[1,"modal-body","py-3","px-2"],[3,"alertMessage","messageParams",4,"ngIf"],[3,"challengeType","challengeName"],[1,"header-modal","d-flex","pb-2","mb-2"],[1,"left-part","w-50","pr-2"],[1,"status","d-flex"],[1,"cell-title","flex-center","pr-1"],["class","upcoming-badge",4,"ngIf"],["class","waiting-badge",4,"ngIf"],["class","live-badge",4,"ngIf"],["class","finished-badge",4,"ngIf"],[1,"players","d-flex","pt-1"],[1,"logo","mr-1"],[1,"right-part","w-50","pl-2"],["class","cell-title",4,"ngIf"],[1,"d-flex","align-items-baseline"],[1,"clock"],[1,"time"],[1,"day"],[4,"ngIf"],[1,"heading","title-tasks","d-flex","justify-content-between","mt-2"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"question-mark"],[1,"button-text"],["class","tasks-list",4,"ngIf"],[1,"prize-info"],[1,"heading","d-flex","justify-content-between"],[1,"btn-prize-info","title","d-flex","my-2","pl-0"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"users-icon"],[1,"prize-list"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-counter","pt-2"],[1,"prize-progress-container","d-flex","justify-content-between","align-items-center"],[1,"zero"],[1,"prize-progress-bar-container"],[1,"prize-bar"],[1,"prize-box"],[1,"prize-left","font-weight-bold","text-uppercase"],[1,"prize-total-amount"],["class","action-button-container d-flex flex-column",4,"ngIf"],["class","action-button-container",4,"ngIf"],[1,"footer-modal","d-flex","pt-2"],[1,"min-bet-container","w-50","pr-2"],[1,"cell-title","pb-1"],[1,"min-bet"],[1,"amount"],[1,"currency"],[1,"end-date-container","w-50","pl-2"],["class","cell-title pb-1",4,"ngIf"],[3,"alertMessage","messageParams"],[1,"upcoming-badge"],[1,"waiting-badge"],[1,"live-badge"],[1,"finished-badge"],[1,"cell-title"],[1,"tasks-list"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[1,"task"],[3,"task"],[3,"task","currency","isEnded","isMinBetError",4,"ngIf"],[3,"task","currency","isEnded","isMinBetError"],[1,"prize-card"],["prizeDetailsPopover",""],["placement","top-right","popoverClass","engagment-tools-prize-popover",1,"btn-prize-info",3,"ngbPopover"],[1,"special-prize-name"],[1,"prize-name"],[3,"prizes","currency"],[1,"action-button-container","d-flex","flex-column"],["type","button",1,"btn","btn-join","text-uppercase",3,"disabled","click"],[1,"policy","text-center"],[3,"click"],[1,"action-button-container"],["type","button",1,"btn","btn-get-prize","d-flex","w-100","justify-content-center","align-items-center",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span"),z(2,"xRACE"),I(),R(3,"button",1),Ae("click",function(){return e.close()}),Pe(4,"span",2),I()(),ce(5,dpe,98,81,"div",3),Te(6,"async")),2&t&&(N(5),q("ngIf",ke(6,1,e.status.update$)))},directives:[Kt,Pfe,Afe,Rfe,Ci,Ife,Lfe,n4,Yfe,cue],pipes:[Lc,Dn,al,xw],styles:['.close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]{font-size:12px;color:#a4a4a4;line-height:14px}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#fec223}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fec223}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text){width:14px;height:14px;margin-right:6px}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text).question-mark{background:url(question-yellow.5874d945b81c841c.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text).users-icon{background:url(users.6f0daaa47731b124.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{text-decoration:underline}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]:hover{font-weight:600}.title-tasks[_ngcontent-%COMP%], .link-how-it-works[_ngcontent-%COMP%]{font-size:14px}.cell-title[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#a4a4a4}.header-modal[_ngcontent-%COMP%]{border-bottom:1px solid #2c2e30;color:#a4a4a4}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]{font-size:14px;width:50%;border-right:1px solid #2c2e30}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .upcoming-badge[_ngcontent-%COMP%]{width:80px;border-radius:100px;font-weight:500;line-height:16px;background-color:#fec223;color:#111;padding:4px 8px}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]{position:relative;width:83px;border-radius:100px;font-weight:500;line-height:16px;background-color:#1236b1;color:#fff;padding:4px 8px 4px 27px}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:8px;width:14px;height:14px;content:"";background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{position:relative;width:56px;height:25px;border-radius:100px;font-weight:500;line-height:16px;background-color:#e50539;color:#fff;padding:4px 8px 4px 18px}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:9px;left:8px;width:5px;height:5px;border-radius:50%;content:"";background-color:#fff}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .finished-badge[_ngcontent-%COMP%]{width:70px;border-radius:100px;font-weight:500;line-height:16px;background-color:#2c2e30;color:#fff;padding:4px 8px}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{line-height:17px}.header-modal[_ngcontent-%COMP%]   .left-part[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background-image:url(users-gray.e89c275a3017afa8.svg);width:16px;height:16px}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{padding-bottom:8px}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px;align-self:center}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#fff;line-height:16px}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:12px;align-self:end;line-height:14px}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .mission-upcoming[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-green.d352a3ac8a0e2f85.svg) no-repeat center center/contain}.header-modal[_ngcontent-%COMP%]   .right-part[_ngcontent-%COMP%]   .mission-upcoming[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#6ab32b}.tasks-list[_ngcontent-%COMP%]{padding:0 10px;border-radius:10px;background:linear-gradient(250.96deg,#3b2560 0%,#2d2e32 51.24%,#582533 100%);margin-top:10px}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{border-bottom:1px solid rgba(154,154,154,.25);padding:12px 0 10px}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   app-progress-bar[_ngcontent-%COMP%]{display:block;margin-top:10px}.prize-info[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{height:46px;border-radius:10px;background-color:#2c2e30}.prize-info[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:12px;line-height:14px;align-self:end}.action-button-container[_ngcontent-%COMP%]{padding-bottom:10px}.action-button-container[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-weight:600;line-height:28px;border-radius:100px;padding-bottom:8px;padding-top:8px}.action-button-container[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:focus{box-shadow:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-join[_ngcontent-%COMP%]{background:#fec223;box-shadow:4px 4px 25px #f7bc2080}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-join[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]{background-color:#e50539;color:#fff}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]   .prize-icon[_ngcontent-%COMP%]{background:url(prize.4789324fc000fe89.svg) no-repeat center center/contain;width:18px;height:18px;margin-right:5px}.action-button-container[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]{font-size:12px;color:#a4a4a4;padding:10px 42px 0}.action-button-container[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.prize-progress-container[_ngcontent-%COMP%]{padding:10px 0 42px;margin-left:10px;font-size:14px;font-style:normal;font-weight:600;line-height:normal}.prize-progress-container[_ngcontent-%COMP%]   .zero[_ngcontent-%COMP%]{color:#a4a4a4}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]{background-color:#2c2e30;flex-grow:1;margin:0 10px;height:8px;border-radius:10px}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]{background-size:15px 15px;background-image:linear-gradient(135deg,#e50539 25%,#f14d73 25%,#f14d73 50%,#e50539 50%,#e50539 75%,#f14d73 75%,#f14d73);border-radius:10px;height:8px;position:relative}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:20px;width:20px;position:absolute;right:0;top:-6px;transform:translate(50%)}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left[_ngcontent-%COMP%]{background-color:#2c2e30;border-radius:10px;position:absolute;padding:5px 8px;top:calc(100% + 10px);right:0;transform:translate(50%);white-space:nowrap}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left[_ngcontent-%COMP%]:after{content:"";border:4px solid transparent;position:absolute;border-bottom-color:#2c2e30;border-top:0;top:-4px;left:50%;margin-left:-4px}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left.no-prize[_ngcontent-%COMP%]{color:#a4a4a4}.prize-progress-container[_ngcontent-%COMP%]   .prize-total-amount[_ngcontent-%COMP%]{font-size:14px;font-style:normal;font-weight:600;line-height:normal}.footer-modal[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#a4a4a4;border-top:1px solid #2c2e30}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]{border-right:1px solid #2c2e30}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]   .min-bet[_ngcontent-%COMP%]{color:#fec223}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]   .min-bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:12px;line-height:14px;align-self:end;margin-left:3px}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px;align-self:center}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#fff;line-height:16px}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.waiting-info[_ngcontent-%COMP%]{display:none}.mission-waiting[_ngcontent-%COMP%]   .waiting-info[_ngcontent-%COMP%]{display:flex;width:100%;height:150px;border-radius:10px;background:linear-gradient(250.96deg,#3b2560 0%,#2d2e32 51.24%,#582533 100%)}.mission-waiting[_ngcontent-%COMP%]   .waiting-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#fec223;font-size:16px;line-height:19px;text-align:center}.mission-waiting[_ngcontent-%COMP%]   .tasks-list[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .prize-counter[_ngcontent-%COMP%]{opacity:.3}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:nowrap;justify-content:center;align-items:center;gap:5px;width:100%;min-height:46px;padding:10px;border-radius:10px;background:#292929;font-style:normal;font-weight:400;line-height:normal}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:12px}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .special-prize-name[_ngcontent-%COMP%]{max-width:100%;padding-right:25px;text-wrap:normal;word-wrap:break-word}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{width:20px;height:20px;content:"";background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;transform:rotate(-15deg)}.prize-list[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .btn-prize-info[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:13px;right:10px;border:0;background:transparent;color:#a4a4a4;background:url(question-white.4427b32b5d9e4f56.svg) no-repeat center center/contain}'],changeDetection:0}),$h=He([vi()],$h);let fpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-progress-bar"]],inputs:{isEnded:"isEnded",currentProgress:"currentProgress"},decls:2,vars:4,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1),I()),2&e&&(N(1),Dc("width",i.currentProgress+"%"),ut("frozen",i.isEnded))},styles:[".bar-holder[_ngcontent-%COMP%]{background-color:#1b1c1d80;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background-color:#6ab32b;border-radius:10px;transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.frozen[_ngcontent-%COMP%]{background-color:#a4a4a4}"],changeDetection:0}),n})(),ppe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress",totalTasks:"totalTasks",isEnded:"isEnded",isMinBetError:"isMinBetError"},decls:8,vars:3,consts:[[1,"progress-count","d-flex","align-items-center"],[1,"count-star"],[1,"progress-result"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1),R(2,"div",2)(3,"span"),z(4),I(),z(5,"/"),R(6,"span"),z(7,"100%"),I()()()),2&e&&(N(2),ut("frozen",i.isEnded||i.isMinBetError),N(2),Et(i.currentProgress))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .count-star[_ngcontent-%COMP%]{background:url(star-fill.2fe62dee7a69e0dc.svg) no-repeat center center/contain;width:12px;height:12px}[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .progress-result[_ngcontent-%COMP%]{padding:0 5px 0 2px;font-size:12px;font-weight:600}[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .progress-result.frozen[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function gpe(n,t){1&n&&Pe(0,"div",10)}function _pe(n,t){1&n&&(R(0,"div",11),z(1," Min Bet "),I())}function mpe(n,t){if(1&n&&(Pe(0,"app-progress-bar",12),Te(1,"async")),2&n){const e=he(2).ngIf,i=he();q("currentProgress",ke(1,2,i.task.update$).totalProgress)("isEnded",e.mission.status===i.missionStatus.Finished&&e.player.status===i.playerStatus.Joined)}}function vpe(n,t){if(1&n&&(R(0,"div",4)(1,"div",5),ce(2,gpe,1,0,"div",6),I(),ce(3,_pe,2,0,"div",7),Te(4,"async"),ce(5,mpe,2,4,"app-progress-bar",8),Te(6,"async"),I(),Pe(7,"app-progress-counter",9),Te(8,"async"),Te(9,"async")),2&n){const e=he().ngIf,i=he();N(2),q("ngIf",e.player.status===i.playerStatus.Won),N(1),q("ngIf",ke(4,7,i.minBetError.update$)),N(2),q("ngIf",!1===ke(6,9,i.minBetError.update$)),N(2),q("isEnded",e.mission.status===i.missionStatus.Finished&&e.player.status===i.playerStatus.Joined)("isMinBetError",ke(8,11,i.minBetError.update$))("currentProgress",ke(9,13,i.task.update$).totalProgress)("totalTasks",i.prize.total)}}function ype(n,t){1&n&&(Vt(0),R(1,"div",16),z(2,"Upcoming"),I(),R(3,"div",17),Pe(4,"div",18),z(5),Te(6,"translate"),I(),Ht()),2&n&&(N(5),Me(" ",ke(6,1,"game.engagement-tool.Grab your prize!")," "))}function bpe(n,t){if(1&n&&(Vt(0),R(1,"div",19),z(2,"Waiting"),I(),R(3,"div",17),Pe(4,"app-upcoming-timer",20),I(),Ht()),2&n){const e=he(3);N(4),q("startDate",e.mission.config.startDate)}}function Epe(n,t){1&n&&(Vt(0),R(1,"div",21),z(2,"LIVE"),I(),R(3,"div",17),Pe(4,"div",18),z(5),Te(6,"translate"),I(),Ht()),2&n&&(N(5),Me(" ",ke(6,1,"game.engagement-tool.Grab your prize!")," "))}function Spe(n,t){if(1&n&&(R(0,"div",13),ce(1,ype,7,3,"ng-container",14),ce(2,bpe,5,1,"ng-container",14),ce(3,Epe,7,3,"ng-container",14),Pe(4,"div",15),I()),2&n){const e=he().ngIf,i=he();N(1),q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status!==i.playerStatus.Joined),N(1),q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status===i.playerStatus.Joined),N(1),q("ngIf",e.mission.status===i.missionStatus.Active)}}function Tpe(n,t){if(1&n&&(R(0,"div",1),Te(1,"async"),ce(2,vpe,10,15,"ng-template",2),ce(3,Spe,5,3,"ng-template",null,3,Qo),I()),2&n){const e=t.ngIf,i=So(4),r=he();ut("gradient-bg",r.getIsGradientClass(e.mission.status,e.player.status))("min-bet-error",ke(1,6,r.minBetError.update$)),N(2),q("ngIf",e.player.status!==r.playerStatus.None&&e.mission.status!==r.missionStatus.Announced)("ngIfElse",i)}}let Cpe=(()=>{class n{constructor(e,i,r,o,s){this.task=e,this.prize=i,this.mission=r,this.minBetError=o,this.status=s,this.missionStatus=su,this.playerStatus=ra}getIsGradientClass(e,i){return e!==this.missionStatus.Finished&&i===ra.None||e===this.missionStatus.Announced&&i===ra.Joined}}return n.\u0275fac=function(e){return new(e||n)($(pb),$(_b),$(cc),$(yb),$(vb))},n.\u0275cmp=pt({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[["class","progress-container d-flex align-items-center justify-content-between",3,"gradient-bg","min-bet-error",4,"ngIf"],[1,"progress-container","d-flex","align-items-center","justify-content-between"],[3,"ngIf","ngIfElse"],["notPlaying",""],[1,"progress-bar-container"],[1,"progress-star"],["class","circle-take-my-prize",4,"ngIf"],["class","min-bet-error-title",4,"ngIf"],[3,"currentProgress","isEnded",4,"ngIf"],[3,"isEnded","isMinBetError","currentProgress","totalTasks"],[1,"circle-take-my-prize"],[1,"min-bet-error-title"],[3,"currentProgress","isEnded"],[1,"mission-status-container","w-100","d-flex","justify-content-between","align-items-center"],[4,"ngIf"],[1,"mission-arrow"],[1,"upcoming-badge"],[1,"mission-prize","d-flex","align-items-center"],[1,"prize-icon"],[1,"waiting-badge"],[3,"startDate"],[1,"live-badge"]],template:function(e,i){1&e&&(ce(0,Tpe,5,8,"div",0),Te(1,"async")),2&e&&q("ngIf",ke(1,1,i.status.update$))},directives:[Kt,fpe,ppe,au],pipes:[Lc,Dn],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:#2c2d30;border-radius:100px;padding:8px;border:1px solid transparent}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]{position:relative;font-size:12px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .upcoming-badge[_ngcontent-%COMP%]{border-radius:100px;font-weight:500;line-height:14px;background-color:#fec223;color:#111;padding:3px 5px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]{min-width:72px;border-radius:100px;font-weight:500;line-height:14px;background-color:#1236b1;color:#fff;padding:3px 8px 3px 23px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:8px;width:12px;height:12px;content:"";background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{border-radius:100px;font-weight:500;line-height:14px;background-color:#e50539;color:#fff;padding:3px 8px 3px 18px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:7px;left:8px;width:5px;height:5px;border-radius:50%;content:"";background-color:#fff}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(90deg,#553843,#342a47,#342a47,#553843);background-size:200% 200%;-webkit-animation:gradient 4s ease infinite;animation:gradient 4s ease infinite}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:5px 6px 5px 10px;position:relative;flex-grow:1}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]{background:url(star-rounded.74e00ba81d852b64.svg) no-repeat center center/contain;width:26px;height:30px;position:absolute;left:0;top:0;z-index:1}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]   .circle-take-my-prize[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:25px;width:8px;height:8px;background-color:#e50539;border-radius:50%}.progress-container.min-bet-error[_ngcontent-%COMP%]{border-color:#e50539}.progress-container.min-bet-error[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:0 6px 0 10px}.progress-container.min-bet-error[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]{background:url(min-bet-error-icon.06ac9baaf6f61702.svg) no-repeat;left:5px}.progress-container.min-bet-error[_ngcontent-%COMP%]   .min-bet-error-title[_ngcontent-%COMP%]{position:relative;left:20px;font-size:14px;height:18px}.progress-container[_ngcontent-%COMP%]   .mission-prize[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap;text-overflow:ellipsis;max-width:50%;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .mission-prize[_ngcontent-%COMP%]   .prize-icon[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:18px;width:18px;margin-right:3px}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{background:url(arrow-right.575f813e45224577.svg) no-repeat center center/contain;width:18px;height:18px}@-webkit-keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}@keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}'],changeDetection:0}),n})(),Ope=(()=>{class n{constructor(e,i){this.window=e,this.modalService=i}ngOnInit(){this.window.manualEmitResizeEvent()}showMissionDetails(){this.modalService.open($h)}}return n.\u0275fac=function(e){return new(e||n)($(L_),$(gb))},n.\u0275cmp=pt({type:n,selectors:[["app-mission"]],decls:3,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-mission-progress",2),Ae("click",function(){return i.showMissionDetails()}),I()()())},directives:[Cpe],styles:["[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}"],changeDetection:0}),n})();function Mpe(n,t){1&n&&Pe(0,"app-mission")}let Xh=class{constructor(t,e,i,r){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.connectorState=Do,this.inited=!1}ngOnInit(){this.stomp.response(ho.Init).pipe(St(this)).subscribe(()=>{this.inited=!0,this.cd.detectChanges()});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/et-stomp",t,Object.values(ho))}};Xh.\u0275fac=function(t){return new(t||Xh)($(un),$(Sl),$(nc),$(wn))},Xh.\u0275cmp=pt({type:Xh,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(ce(0,Mpe,1,0,"app-mission",0),Te(1,"async")),2&t&&q("ngIf",ke(1,1,e.stomp.state$).state!==e.connectorState.Disconnected&&e.inited)},directives:[Kt,Ope],pipes:[Lc],encapsulation:2,changeDetection:0}),Xh=He([vi()],Xh);class Rw{}const hc="*";function Dw(n,t){return{type:7,name:n,definitions:t,options:{}}}function Tp(n,t=null){return{type:4,styles:t,timings:n}}function o4(n,t=null){return{type:2,steps:n,options:t}}function Xa(n){return{type:6,styles:n,offset:null}}function Ape(n,t,e){return{type:0,name:n,styles:t,options:e}}function im(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function s4(n){Promise.resolve(null).then(n)}class rm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){s4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class a4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?s4(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Dpe(n,t){if(1&n){const e=Ct();R(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Ae("click",function(){const o=dt(e).$implicit;return he().mainService.checkFairness(o.roundId)}),I()()()}if(2&n){const e=t.$implicit;N(2),q("multiplier",e.maxMultiplier)}}let Ipe=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)($(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],[3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),z(3),Te(4,"translate"),I()(),R(5,"div",3),ce(6,Dpe,3,1,"div",4),I()()),2&e&&(N(3),Me(" ",ke(4,2,"shared.round_history")," "),N(3),q("ngForOf",i.history))},directives:[Ci,El],pipes:[Dn],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}"],changeDetection:0}),n})();const Npe=["payoutsBlock"];function kpe(n,t){if(1&n){const e=Ct();Vt(0),R(1,"app-bubble-multiplier",12),Ae("click",function(){const o=dt(e).$implicit;return he().mainService.checkFairness(o.roundId)}),I(),Ht()}if(2&n){const e=t.$implicit;N(1),q("multiplier",e.maxMultiplier)}}let Fpe=(()=>{class n{constructor(e,i,r,o,s){this.statsService=e,this.mainService=i,this.connector=r,this.builder=o,this.cd=s}ngOnInit(){this.history=this.statsService.history,this.chartInfo$=this.connector.response(cn.RoundChartInfo,200).subscribe(e=>{this.history&&(this.history=[e,...this.history]),this.history.length>60&&this.history.pop(),this.animate()})}animate(){var e,i;null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(i=this.playerContainer)||void 0===i||i.destroy(),this.cd.detectChanges();const r=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,o=this.builder.build([Xa({transform:"scale(2)"}),Tp("1s ease-in-out",Xa({transform:"scale(1)"}))]),s=this.builder.build([Xa({transform:`translateX(-${r}px)`}),Tp("1s ease-in-out",Xa({transform:"translate(0)"}))]);this.playerPayout=o.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var e,i;this.chartInfo$.unsubscribe(),null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(i=this.playerContainer)||void 0===i||i.destroy()}}return n.\u0275fac=function(e){return new(e||n)($(xL),$(Yi),$(bi),$(Rw),$(wn))},n.\u0275cmp=pt({type:n,selectors:[["app-stats-widget"]],viewQuery:function(e,i){if(1&e&&Jo(Npe,7),2&e){let r;qn(r=Jn())&&(i.payoutsBlock=r.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2,3),ce(4,kpe,2,1,"ng-container",4),I()(),Pe(5,"div",5),R(6,"div",6)(7,"div",7)(8,"div",8),Pe(9,"div",9)(10,"div",10),I()()(),Pe(11,"app-stats-dropdown",11),I()),2&e&&(N(4),q("ngForOf",i.history),N(7),q("history",i.history))},directives:[gp,Ci,El,Sw,Ipe,eb],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:56px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),n})();function Bpe(n,t){if(1&n&&(R(0,"div",14)(1,"div",15),z(2," shared.ui-components.free-bet.Free bets available: "),I(),R(3,"div",7)(4,"div",16),z(5),I(),R(6,"div",17)(7,"div"),z(8," ( "),R(9,"span"),z(10),I(),R(11,"span",18),z(12),I(),z(13," ) "),I()()()()),2&n){const e=he();N(5),Me(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),N(5),Me(" ",e.freeBets.activeFreeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),N(2),Et(e.app.config.currency)}}function Lpe(n,t){if(1&n){const e=Ct();R(0,"div",19)(1,"div",20),z(2," shared.ui-components.free-bet.All free bets spent! "),I(),R(3,"div",21),Ae("click",function(){return dt(e),he().onFinishFreeBets()}),z(4),Te(5,"translate"),I()()}if(2&n){const e=he();N(3),ut("disabled",e.uiDisabled),N(1),Me(" ",ke(5,3,"shared.claim")," ")}}function Upe(n,t){if(1&n&&(Vt(0),R(1,"span",15),z(2," shared.ui-components.free-bet.Minimum cashout multiplier: "),I(),R(3,"span",22),z(4),I(),Ht()),2&n){const e=he();N(4),Me(" ",e.freeBets.activeFreeBet.freeBetsMinCashOut.toFixed(e.app.config.multiplierPrecision)," X ")}}let Kh=class{constructor(t,e,i,r,o){this.app=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.connector=o,this.uiDisabled=!1,this.connector.response(cn.FreeBetFinish).pipe(St(this),Ft(s=>200!==s.code)).subscribe(()=>{this.uiDisabled=!1})}get isSpent(){return 0===this.freeBets.activeFreeBet.freeBetsLeft}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){return this.freeBets.activeFreeBet.freeBetsMinCashOut>1.01}get manageDisabled(){return this.betControl.isBetSetted||this.uiDisabled}};function dc(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l4(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}Kh.\u0275fac=function(t){return new(t||Kh)($(un),$(Yi),$(oc),$(yl),$(bi))},Kh.\u0275cmp=pt({type:Kh,selectors:[["app-free-bet"]],decls:21,vars:7,consts:[[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],["translate",""],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],["translate","",1,"label"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],["translate","",1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),ce(2,Bpe,14,3,"div",2),ce(3,Lpe,6,5,"div",3),R(4,"div",4)(5,"div",5)(6,"span",6),z(7,"shared.win"),I(),R(8,"span"),z(9),I()(),R(10,"div",7)(11,"span"),z(12),I()()()(),R(13,"div",8)(14,"div",9)(15,"div",10),ce(16,Upe,5,1,"ng-container",11),I(),R(17,"div",12),Ae("click",function(){return e.onManagementClick()}),R(18,"span",6),z(19,"shared.ui-components.free-bet.Manage"),I(),Pe(20,"div",13),I()()()()),2&t&&(N(2),q("ngIf",!e.isSpent),N(1),q("ngIf",e.isSpent),N(6),Me(" ",e.app.config.currency,""),N(3),Me(" ",e.freeBets.activeFreeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),N(4),q("ngIf",e.isShowMinCashOut),N(1),ut("disabled",e.manageDisabled))},directives:[Kt,Zn],pipes:[Dn],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:320px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.9cfee43f29b6ac94.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b676beda1782e280.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"]}),Kh=He([vi()],Kh);var Nw,rr,Cl,Uw,Gw,g4,v4,Ap,Ab,Rs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Cp={duration:.5,overwrite:!1,delay:0},oa=1e8,Oi=1e-8,kw=2*Math.PI,Gpe=kw/4,jpe=0,c4=Math.sqrt,Vpe=Math.cos,Hpe=Math.sin,no=function(t){return"string"==typeof t},io=function(t){return"function"==typeof t},fc=function(t){return"number"==typeof t},Fw=function(t){return void 0===t},pc=function(t){return"object"==typeof t},rs=function(t){return!1!==t},u4=function(){return"undefined"!=typeof window},bb=function(t){return io(t)||no(t)},h4="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Io=Array.isArray,Bw=/(?:-?\.?\d|\.)+/gi,d4=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Op=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Lw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,f4=/[+-]=-?[.\d]+/,p4=/[^,'"\[\]\s]+/gi,Ype=/[\d.+\-=]+(?:e[-+]\d*)*/i,Ds={},Eb={},_4=function(t){return(Eb=Mp(t,Ds))&&Ml},jw=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Sb=function(t,e){return!e&&console.warn(t)},m4=function(t,e){return t&&(Ds[t]=e)&&Eb&&(Eb[t]=e)||Ds},om=function(){return 0},Vw={},lu=[],Hw={},Is={},Yw={},y4=30,Tb=[],Ww="",zw=function(t){var i,r,e=t[0];if(pc(e)||io(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=Tb.length;r--&&!Tb[r].targetTest(e););i=Tb[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new z4(t[r],i)))||t.splice(r,1);return t},qh=function(t){return t._gsap||zw(la(t))[0]._gsap},b4=function(t,e,i){return(i=t[e])&&io(i)?t[e]():Fw(i)&&t.getAttribute&&t.getAttribute(e)||i},os=function(t,e){return(t=t.split(",")).forEach(e)||t},kr=function(t){return Math.round(1e5*t)/1e5||0},No=function(t){return Math.round(1e7*t)/1e7||0},Wpe=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},Cb=function(){var i,r,t=lu.length,e=lu.slice(0);for(Hw={},lu.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},E4=function(t,e,i,r){lu.length&&Cb(),t.render(e,i,r),lu.length&&Cb()},S4=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(p4).length<2?e:no(t)?t.trim():t},T4=function(t){return t},sa=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Mp=function(t,e){for(var i in e)t[i]=e[i];return t},C4=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=pc(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},Ob=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},sm=function(t){var e=t.parent||rr,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(Io(t.keyframes)):sa;if(rs(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},Mb=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o=e._prev,s=e._next;o?o._next=s:t[i]===e&&(t[i]=s),s?s._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},gc=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Jh=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Kpe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},qpe=function n(t){return!t||t._ts&&n(t.parent)},O4=function(t){return t._repeat?wp(t._tTime,t=t.duration()+t._rDelay)*t:0},wp=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},wb=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Pb=function(t){return t._end=No(t._start+(t._tDur/Math.abs(t._ts||t._rts||Oi)||0))},M4=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=No(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Pb(t),i._dirty||Jh(i,t)),t},w4=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=wb(t.rawTime(),e),(!e._dur||lm(0,e.totalDuration(),i)-e._tTime>Oi)&&e.render(i,!0)),Jh(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Oi}},Ol=function(t,e,i,r){return e.parent&&gc(e),e._start=No((fc(i)?i:i||t!==rr?aa(t,i,e):t._time)+e._delay),e._end=No(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,o){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,s=t[r];if(o)for(a=e[o];s&&s[o]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),$w(e)||(t._recent=e),r||w4(t,e),t},P4=function(t,e){return(Ds.ScrollTrigger||jw("scrollTrigger",e))&&Ds.ScrollTrigger.create(e,t)},A4=function(t,e,i,r){return yge(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&v4!==ua.frame?(lu.push(t),t._lazy=[e,r],1):void 0:1},Jpe=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},$w=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Pp=function(t,e,i,r){var o=t._repeat,s=No(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:No(s*(o+1)+t._rDelay*o):s,a>0&&!r?M4(t,t._tTime=t._tDur*a):t.parent&&Pb(t),i||Jh(t.parent,t),t},x4=function(t){return t instanceof as?Jh(t):Pp(t,t._dur)},ege={_start:0,endTime:om,totalDuration:om},aa=function n(t,e,i){var a,l,c,r=t.labels,o=t._recent||ege,s=t.duration()>=oa?o.endTime(!1):t._dur;return no(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),c="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?o:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=s),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(Io(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:s+l)):null==e?s:+e},am=function(t,e,i){var a,l,r=fc(e[1]),o=(r?2:1)+(t<2?0:1),s=e[o];if(r&&(s.duration=e[1]),s.parent=i,t){for(a=s,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=rs(l.vars.inherit)&&l.parent;s.immediateRender=rs(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return new ro(e[0],s,e[o+1])},cu=function(t,e){return t||0===t?e(t):e},lm=function(t,e,i){return i<t?t:i>e?e:i},ss=function(t,e){return no(t)&&(e=Ype.exec(t))?t.substr(e.index+e[0].length):""},Xw=[].slice,R4=function(t,e){return t&&pc(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&pc(t[0]))&&!t.nodeType&&t!==Cl},la=function(t,e,i){return!no(t)||i||!Uw&&xp()?Io(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var o;return no(r)&&!e||R4(r,1)?(o=i).push.apply(o,la(r)):i.push(r)})||i}(t,i):R4(t)?Xw.call(t,0):t?[t]:[]:Xw.call((e||Gw).querySelectorAll(t),0)},D4=function(t){return t.sort(function(){return.5-Math.random()})},I4=function(t){if(io(t))return t;var e=pc(t)?t:{each:t},i=Qh(e.ease),r=e.from||0,o=parseFloat(e.base)||0,s={},a=r>0&&r<1,l=isNaN(r)||a,c=e.axis,g=r,E=r;return no(r)?g=E={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(g=r[0],E=r[1]),function(w,P,A){var Y,K,re,ae,te,ne,Oe,Ie,ye,D=(A||e).length,B=s[D];if(!B){if(!(ye="auto"===e.grid?0:(e.grid||[1,oa])[1])){for(Oe=-oa;Oe<(Oe=A[ye++].getBoundingClientRect().left)&&ye<D;);ye--}for(B=s[D]=[],Y=l?Math.min(ye,D)*g-.5:r%ye,K=ye===oa?0:l?D*E/ye-.5:r/ye|0,Oe=0,Ie=oa,ne=0;ne<D;ne++)re=ne%ye-Y,ae=K-(ne/ye|0),B[ne]=te=c?Math.abs("y"===c?ae:re):c4(re*re+ae*ae),te>Oe&&(Oe=te),te<Ie&&(Ie=te);"random"===r&&D4(B),B.max=Oe-Ie,B.min=Ie,B.v=D=(parseFloat(e.amount)||parseFloat(e.each)*(ye>D?D-1:c?"y"===c?D/ye:ye:Math.max(ye,D/ye))||0)*("edges"===r?-1:1),B.b=D<0?o-D:o,B.u=ss(e.amount||e.each)||0,i=i&&D<0?H4(i):i}return D=(B[w]-B.min)/B.max||0,No(B.b+(i?i(D):D)*B.v)+B.u}},Kw=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(fc(i)?0:ss(i))}},N4=function(t,e){var r,o,i=Io(t);return!i&&pc(t)&&(r=i=t.radius||oa,t.values?(t=la(t.values),(o=!fc(t[0]))&&(r*=r)):t=Kw(t.increment)),cu(e,i?io(t)?function(s){return o=t(s),Math.abs(o-s)<=r?o:s}:function(s){for(var w,P,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),c=oa,g=0,E=t.length;E--;)(w=o?(w=t[E].x-a)*w+(P=t[E].y-l)*P:Math.abs(t[E]-a))<c&&(c=w,g=E);return g=!r||c<=r?t[g]:s,o||g===s||fc(s)?g:g+ss(s)}:Kw(t))},k4=function(t,e,i,r){return cu(Io(t)?!e:!0===i?!!(i=0):!r,function(){return Io(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},F4=function(t,e,i){return cu(i,function(r){return t[~~e(r)]})},cm=function(t){for(var r,o,s,a,e=0,i="";~(r=t.indexOf("random(",e));)s=t.indexOf(")",r),a="["===t.charAt(r+7),o=t.substr(r+7,s-r-7).match(a?p4:Bw),i+=t.substr(e,r-e)+k4(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},B4=function(t,e,i,r,o){var s=e-t,a=r-i;return cu(o,function(l){return i+((l-t)/s*a||0)})},L4=function(t,e,i){var s,a,l,r=t.labels,o=oa;for(s in r)(a=r[s]-e)<0==!!i&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},ca=function(t,e,i){var s,a,r=t.vars,o=r[e];if(o)return s=r[e+"Params"],a=r.callbackScope||t,i&&lu.length&&Cb(),s?o.apply(a,s):o.call(a)},um=function(t){return gc(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ca(t,"onInterrupt"),t},uge=function(t){var e=(t=!t.name&&t.default||t).name,i=io(t),r=e&&!i&&t.init?function(){this._props=[]}:t,o={init:om,render:nP,add:Zw,kill:Mge,modifier:Oge,rawVars:0},s={targetTest:0,get:0,getSetter:tP,aliases:{},register:0};if(xp(),t!==r){if(Is[e])return;sa(r,sa(Ob(t,o),s)),Mp(r.prototype,Mp(o,Ob(t,s))),Is[r.prop=e]=r,t.targetTest&&(Tb.push(r),Vw[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}m4(e,r),t.register&&t.register(Ml,r,ls)},Mi=255,hm={aqua:[0,Mi,Mi],lime:[0,Mi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mi],navy:[0,0,128],white:[Mi,Mi,Mi],olive:[128,128,0],yellow:[Mi,Mi,0],orange:[Mi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mi,0,0],pink:[Mi,192,203],cyan:[0,Mi,Mi],transparent:[Mi,Mi,Mi,0]},qw=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Mi+.5|0},U4=function(t,e,i){var o,s,a,l,c,g,E,w,P,A,r=t?fc(t)?[t>>16,t>>8&Mi,t&Mi]:0:hm.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),hm[t])r=hm[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&Mi,r&Mi,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&Mi,t&Mi]}else if("hsl"===t.substr(0,3))if(r=A=t.match(Bw),e){if(~t.indexOf("="))return r=t.match(d4),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,o=2*(g=+r[2]/100)-(s=g<=.5?g*(c+1):g+c-g*c),r.length>3&&(r[3]*=1),r[0]=qw(l+1/3,o,s),r[1]=qw(l,o,s),r[2]=qw(l-1/3,o,s);else r=t.match(Bw)||hm.transparent;r=r.map(Number)}return e&&!A&&(o=r[0]/Mi,s=r[1]/Mi,a=r[2]/Mi,g=((E=Math.max(o,s,a))+(w=Math.min(o,s,a)))/2,E===w?l=c=0:(P=E-w,c=g>.5?P/(2-E-w):P/(E+w),l=E===o?(s-a)/P+(s<a?6:0):E===s?(a-o)/P+2:(o-s)/P+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*g+.5)),i&&r.length<4&&(r[3]=1),r},G4=function(t){var e=[],i=[],r=-1;return t.split(uu).forEach(function(o){var s=o.match(Op)||[];e.push.apply(e,s),i.push(r+=s.length+1)}),e.c=i,e},j4=function(t,e,i){var l,c,g,E,r="",o=(t+r).match(uu),s=e?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(w){return(w=U4(w,e,1))&&s+(e?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),i&&(g=G4(t),(l=i.c).join(r)!==g.c.join(r)))for(E=(c=t.replace(uu,"1").split(Op)).length-1;a<E;a++)r+=c[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(g.length?g:o.length?o:i).shift());if(!c)for(E=(c=t.split(uu)).length-1;a<E;a++)r+=c[a]+o[a];return r+c[E]},uu=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in hm)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),hge=/hsl[a]?\(/,V4=function(t){var i,e=t.join(" ");if(uu.lastIndex=0,uu.test(e))return i=hge.test(e),t[1]=j4(t[1],i),t[0]=j4(t[0],i,G4(t[1])),!0},ua=function(){var l,c,g,E,w,P,n=Date.now,t=500,e=33,i=n(),r=i,o=1e3/240,s=o,a=[],A=function D(B){var re,ae,te,ne,Y=n()-r,K=!0===B;if(Y>t&&(i+=Y-e),((re=(te=(r+=Y)-i)-s)>0||K)&&(ne=++E.frame,w=te-1e3*E.time,E.time=te/=1e3,s+=re+(re>=o?4:o-re),ae=1),K||(l=c(D)),ae)for(P=0;P<a.length;P++)a[P](te,w,ne,B)};return E={time:0,frame:0,tick:function(){A(!0)},deltaRatio:function(B){return w/(1e3/(B||60))},wake:function(){g4&&(!Uw&&u4()&&(Cl=Uw=window,Gw=Cl.document||{},Ds.gsap=Ml,(Cl.gsapVersions||(Cl.gsapVersions=[])).push(Ml.version),_4(Eb||Cl.GreenSockGlobals||!Cl.gsap&&Cl||{}),g=Cl.requestAnimationFrame),l&&E.sleep(),c=g||function(B){return setTimeout(B,s-1e3*E.time+1|0)},Ab=1,A(2))},sleep:function(){(g?Cl.cancelAnimationFrame:clearTimeout)(l),Ab=0,c=om},lagSmoothing:function(B,Y){t=B||1/Oi,e=Math.min(Y,t,0)},fps:function(B){s=1e3*E.time+(o=1e3/(B||240))},add:function(B){a.indexOf(B)<0&&a.push(B),xp()},remove:function(B,Y){~(Y=a.indexOf(B))&&a.splice(Y,1)&&P>=Y&&P--},_listeners:a}}(),xp=function(){return!Ab&&ua.wake()},Hn={},dge=/^[\d.\-M][\d.\-,\s]/,fge=/["']/g,pge=function(t){for(var a,l,c,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],o=1,s=i.length;o<s;o++)l=i[o],a=o!==s-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[r]=isNaN(c)?c.replace(fge,"").trim():+c,r=l.substr(a+1).trim();return e},H4=function(t){return function(e){return 1-t(1-e)}},Y4=function n(t,e){for(var r,i=t._first;i;)i instanceof as?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},Qh=function(t,e){return t&&(io(t)?t:Hn[t]||function(t){var e=(t+"").split("("),i=Hn[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[pge(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(S4)):Hn._CE&&dge.test(t)?Hn._CE("",t):i}(t))||e},Zh=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var s,o={easeIn:e,easeOut:i,easeInOut:r};return os(t,function(a){for(var l in Hn[a]=Ds[a]=o,Hn[s=a.toLowerCase()]=i,o)Hn[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Hn[a+"."+l]=o[l]}),o},W4=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Jw=function n(t,e,i){var r=e>=1?e:1,o=(i||(t?.3:.45))/(e<1?e:1),s=o/kw*(Math.asin(1/r)||0),a=function(g){return 1===g?1:r*Math.pow(2,-10*g)*Hpe((g-s)*o)+1},l="out"===t?a:"in"===t?function(c){return 1-a(1-c)}:W4(a);return o=kw/o,l.config=function(c,g){return n(t,c,g)},l},Qw=function n(t,e){void 0===e&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},r="out"===t?i:"in"===t?function(o){return 1-i(1-o)}:W4(i);return r.config=function(o){return n(t,o)},r};os("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Zh(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),Hn.Linear.easeNone=Hn.none=Hn.Linear.easeIn,Zh("Elastic",Jw("in"),Jw("out"),Jw()),function(n,t){var o=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Zh("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),Zh("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Zh("Circ",function(n){return-(c4(1-n*n)-1)}),Zh("Sine",function(n){return 1===n?1:1-Vpe(n*Gpe)}),Zh("Back",Qw("in"),Qw("out"),Qw()),Hn.SteppedEase=Hn.steps=Ds.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),o=e?1:0;return function(a){return((r*lm(0,.99999999,a)|0)+o)*i}}},Cp.ease=Hn["quad.out"],os("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Ww+=n+","+n+"Params,"});var z4=function(t,e){this.id=jpe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:b4,this.set=e?e.getSetter:tP},dm=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Pp(this,+e.duration,1,1),this.data=e.data,Ab||ua.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Pp(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(xp(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(M4(this,i),!o._dp||o.parent||w4(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Ol(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Oi||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),E4(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+O4(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+O4(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?wp(this._tTime,o)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-Oi?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?wb(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Oi?0:this._rts,Kpe(this.totalTime(lm(-this._delay,this._tDur,r),!0)),Pb(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Oi&&(this._tTime-=Oi)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ol(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(rs(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?wb(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(r._ts||1),r=r._dp;return o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,x4(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,x4(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(aa(this,i),rs(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,rs(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Oi:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Oi,this},t.isActive=function(){var o,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-Oi))},t.eventCallback=function(i,r,o){var s=this.vars;return arguments.length>1?(r?(s[i]=r,o&&(s[i+"Params"]=o),"onUpdate"===i&&(this._onUpdate=r)):delete s[i],this):s[i]},t.then=function(i){var r=this;return new Promise(function(o){var s=io(i)?i:T4,a=function(){var c=r.then;r.then=null,io(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=c),o(s),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){um(this)},n}();sa(dm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Oi,_prom:0,_ps:!1,_rts:1});var as=function(n){function t(i,r){var o;return void 0===i&&(i={}),(o=n.call(this,i)||this).labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=rs(i.sortChildren),rr&&Ol(i.parent||rr,dc(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&P4(dc(o),i.scrollTrigger),o}l4(t,n);var e=t.prototype;return e.to=function(r,o,s){return am(0,arguments,this),this},e.from=function(r,o,s){return am(1,arguments,this),this},e.fromTo=function(r,o,s,a){return am(2,arguments,this),this},e.set=function(r,o,s){return o.duration=0,o.parent=this,sm(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new ro(r,o,aa(this,s),1),this},e.call=function(r,o,s){return Ol(this,ro.delayedCall(0,r,o),s)},e.staggerTo=function(r,o,s,a,l,c,g){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=c,s.onCompleteParams=g,s.parent=this,new ro(r,s,aa(this,l)),this},e.staggerFrom=function(r,o,s,a,l,c,g){return s.runBackwards=1,sm(s).immediateRender=rs(s.immediateRender),this.staggerTo(r,o,s,a,l,c,g)},e.staggerFromTo=function(r,o,s,a,l,c,g,E){return a.startAt=s,sm(a).immediateRender=rs(a.immediateRender),this.staggerTo(r,o,a,l,c,g,E)},e.render=function(r,o,s){var w,P,A,D,B,Y,K,re,ae,te,ne,Oe,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,g=r<=0?0:No(r),E=this._zTime<0!=r<0&&(this._initted||!c);if(this!==rr&&g>l&&r>=0&&(g=l),g!==this._tTime||s||E){if(a!==this._time&&c&&(g+=this._time-a,r+=this._time-a),w=g,ae=this._start,Y=!(re=this._ts),E&&(c||(a=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(ne=this._yoyo,B=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*B+r,o,s);if(w=No(g%B),g===l?(D=this._repeat,w=c):((D=~~(g/B))&&D===g/B&&(w=c,D--),w>c&&(w=c)),te=wp(this._tTime,B),!a&&this._tTime&&te!==D&&(te=D),ne&&1&D&&(w=c-w,Oe=1),D!==te&&!this._lock){var Ie=ne&&1&te,ye=Ie===(ne&&1&D);if(D<te&&(Ie=!Ie),a=Ie?0:c,this._lock=1,this.render(a||(Oe?0:No(D*B)),o,!c)._lock=0,this._tTime=g,!o&&this.parent&&ca(this,"onRepeat"),this.vars.repeatRefresh&&!Oe&&(this.invalidate()._lock=1),a&&a!==this._time||Y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,ye&&(this._lock=2,this.render(a=Ie?c:-1e-4,!0),this.vars.repeatRefresh&&!Oe&&this.invalidate()),this._lock=0,!this._ts&&!Y)return this;Y4(this,Oe)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(K=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,No(a),No(w)),K&&(g-=w-(w=K._start))),this._tTime=g,this._time=w,this._act=!re,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&w&&!o&&(ca(this,"onStart"),this._tTime!==g))return this;if(w>=a&&r>=0)for(P=this._first;P;){if(A=P._next,(P._act||w>=P._start)&&P._ts&&K!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(w-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(w-P._start)*P._ts,o,s),w!==this._time||!this._ts&&!Y){K=0,A&&(g+=this._zTime=-Oi);break}}P=A}else{P=this._last;for(var Ve=r<0?r:w;P;){if(A=P._prev,(P._act||Ve<=P._end)&&P._ts&&K!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(Ve-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(Ve-P._start)*P._ts,o,s),w!==this._time||!this._ts&&!Y){K=0,A&&(g+=this._zTime=Ve?-Oi:Oi);break}}P=A}}if(K&&!o&&(this.pause(),K.render(w>=a?0:-Oi)._zTime=w>=a?1:-1,this._ts))return this._start=ae,Pb(this),this.render(r,o,s);this._onUpdate&&!o&&ca(this,"onUpdate",!0),(g===l&&l>=this.totalDuration()||!g&&a)&&(ae===this._start||Math.abs(re)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(g===l&&this._ts>0||!g&&this._ts<0)&&gc(this,1),!o&&(!(r<0)||a)&&(g||a||!l)&&(ca(this,g===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,o){var s=this;if(fc(o)||(o=aa(this,o,r)),!(r instanceof dm)){if(Io(r))return r.forEach(function(a){return s.add(a,o)}),this;if(no(r))return this.addLabel(r,o);if(!io(r))return this;r=ro.delayedCall(0,r)}return this!==r?Ol(this,r,o):this},e.getChildren=function(r,o,s,a){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-oa);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof ro?o&&l.push(c):(s&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,o,s)))),c=c._next;return l},e.getById=function(r){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===r)return o[s]},e.remove=function(r){return no(r)?this.removeLabel(r):io(r)?this.killTweensOf(r):(Mb(this,r),r===this._recent&&(this._recent=this._last),Jh(this))},e.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=No(ua.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},e.addLabel=function(r,o){return this.labels[r]=aa(this,o),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,o,s){var a=ro.delayedCall(0,o||om,s);return a.data="isPause",this._hasPause=1,Ol(this,a,aa(this,r))},e.removePause=function(r){var o=this._first;for(r=aa(this,r);o;)o._start===r&&"isPause"===o.data&&gc(o),o=o._next},e.killTweensOf=function(r,o,s){for(var a=this.getTweensOf(r,s),l=a.length;l--;)hu!==a[l]&&a[l].kill(r,o);return this},e.getTweensOf=function(r,o){for(var g,s=[],a=la(r),l=this._first,c=fc(o);l;)l instanceof ro?Wpe(l._targets,a)&&(c?(!hu||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(g=l.getTweensOf(a,o)).length&&s.push.apply(s,g),l=l._next;return s},e.tweenTo=function(r,o){o=o||{};var P,s=this,a=aa(s,r),c=o.startAt,g=o.onStart,E=o.onStartParams,w=o.immediateRender,A=ro.to(s,sa({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale())||Oi,onStart:function(){if(s.pause(),!P){var B=o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale());A._dur!==B&&Pp(A,B,0,1).render(A._time,!0,!0),P=1}g&&g.apply(A,E||[])}},o));return w?A.render(0):A},e.tweenFromTo=function(r,o,s){return this.tweenTo(o,sa({startAt:{time:aa(this,r)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),L4(this,aa(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),L4(this,aa(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Oi)},e.shiftChildren=function(r,o,s){void 0===s&&(s=0);for(var c,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=r,a._end+=r),a=a._next;if(o)for(c in l)l[c]>=s&&(l[c]+=r);return Jh(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Jh(this)},e.totalDuration=function(r){var c,g,E,o=0,s=this,a=s._last,l=oa;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(E=s.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(g=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Ol(s,a,g-a._delay,1)._lock=0):l=g,g<0&&a._ts&&(o-=g,(!E&&!s._dp||E&&E.smoothChildTiming)&&(s._start+=g/s._ts,s._time-=g,s._tTime-=g),s.shiftChildren(-g,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=c;Pp(s,s===rr&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(r){if(rr._ts&&(E4(rr,wb(r,rr)),v4=ua.frame),ua.frame>=y4){y4+=Rs.autoSleep||120;var o=rr._first;if((!o||!o._ts)&&Rs.autoSleep&&ua._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||ua.sleep()}}},t}(dm);sa(as.prototype,{_lock:0,_hasPause:0,_forcing:0});var hu,mge=function(t,e,i,r,o,s,a){var E,w,P,A,D,B,Y,K,l=new ls(this._pt,t,e,0,1,Q4,null,o),c=0,g=0;for(l.b=i,l.e=r,i+="",(Y=~(r+="").indexOf("random("))&&(r=cm(r)),s&&(s(K=[i,r],t,e),i=K[0],r=K[1]),w=i.match(Lw)||[];E=Lw.exec(r);)A=E[0],D=r.substring(c,E.index),P?P=(P+1)%5:"rgba("===D.substr(-5)&&(P=1),A!==w[g++]&&(B=parseFloat(w[g-1])||0,l._pt={_next:l._pt,p:D||1===g?D:",",s:B,c:"="===A.charAt(1)?parseFloat(A.substr(2))*("-"===A.charAt(0)?-1:1):parseFloat(A)-B,m:P&&P<4?Math.round:0},c=Lw.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(f4.test(r)||Y)&&(l.e=0),this._pt=l,l},Zw=function(t,e,i,r,o,s,a,l,c){io(r)&&(r=r(o||0,t,s));var P,g=t[e],E="get"!==i?i:io(g)?c?t[e.indexOf("set")||!io(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():g,w=io(g)?c?Sge:q4:eP;if(no(r)&&(~r.indexOf("random(")&&(r=cm(r)),"="===r.charAt(1)&&((P=parseFloat(E)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ss(E)||0))||0===P)&&(r=P)),E!==r)return isNaN(E*r)||""===r?(!g&&!(e in t)&&jw(e,r),mge.call(this,t,e,E,r,w,l||Rs.stringFilter,c)):(P=new ls(this._pt,t,e,+E||0,r-(E||0),"boolean"==typeof g?Cge:J4,0,w),c&&(P.fp=c),a&&P.modifier(a,this,t),this._pt=P)},$4=function(t,e,i,r,o,s){var a,l,c,g;if(Is[t]&&!1!==(a=new Is[t]).init(o,a.rawVars?e[t]:function(t,e,i,r,o){if(io(t)&&(t=fm(t,o,e,i,r)),!pc(t)||t.style&&t.nodeType||Io(t)||h4(t))return no(t)?fm(t,o,e,i,r):t;var a,s={};for(a in t)s[a]=fm(t[a],o,e,i,r);return s}(e[t],r,o,s,i),i,r,s)&&(i._pt=l=new ls(i._pt,o,t,0,1,a.render,a,0,a.priority),i!==Ap))for(c=i._ptLookup[i._targets.indexOf(o)],g=a._props.length;g--;)c[a._props[g]]=l;return a},yge=function n(t,e){var ne,Oe,Ie,ye,Ve,nt,it,Ze,xt,$e,De,Ke,ht,i=t.vars,r=i.ease,o=i.startAt,s=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,g=i.callbackScope,E=i.runBackwards,w=i.yoyoEase,P=i.keyframes,A=i.autoRevert,D=t._dur,B=t._startAt,Y=t._targets,K=t.parent,re=K&&"nested"===K.data?K.parent._targets:Y,ae="auto"===t._overwrite&&!Nw,te=t.timeline;if(te&&(!P||!r)&&(r="none"),t._ease=Qh(r,Cp.ease),t._yEase=w?H4(Qh(!0===w?r:w,Cp.ease)):0,w&&t._yoyo&&!t._repeat&&(w=t._yEase,t._yEase=t._ease,t._ease=w),t._from=!te&&!!i.runBackwards,!te||P&&!i.stagger){if(Ke=(Ze=Y[0]?qh(Y[0]).harness:0)&&i[Ze.prop],ne=Ob(i,Vw),B&&gc(B.render(-1,!0)),o)if(gc(t._startAt=ro.set(Y,sa({data:"isStart",overwrite:!1,parent:K,immediateRender:!0,lazy:rs(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:g,stagger:0},o))),e<0&&!s&&!A&&t._startAt.render(-1,!0),s){if(e>0&&!A&&(t._startAt=0),D&&e<=0)return void(e&&(t._zTime=e))}else!1===A&&(t._startAt=0);else if(E&&D)if(B)!A&&(t._startAt=0);else if(e&&(s=!1),Ie=sa({overwrite:!1,data:"isFromStart",lazy:s&&rs(a),immediateRender:s,stagger:0,parent:K},ne),Ke&&(Ie[Ze.prop]=Ke),gc(t._startAt=ro.set(Y,Ie)),e<0&&t._startAt.render(-1,!0),t._zTime=e,s){if(!e)return}else n(t._startAt,Oi);for(t._pt=0,a=D&&rs(a)||a&&!D,Oe=0;Oe<Y.length;Oe++){if(it=(Ve=Y[Oe])._gsap||zw(Y)[Oe]._gsap,t._ptLookup[Oe]=$e={},Hw[it.id]&&lu.length&&Cb(),De=re===Y?Oe:re.indexOf(Ve),Ze&&!1!==(xt=new Ze).init(Ve,Ke||ne,t,De,re)&&(t._pt=ye=new ls(t._pt,Ve,xt.name,0,1,xt.render,xt,0,xt.priority),xt._props.forEach(function(Pt){$e[Pt]=ye}),xt.priority&&(nt=1)),!Ze||Ke)for(Ie in ne)Is[Ie]&&(xt=$4(Ie,ne,t,De,Ve,re))?xt.priority&&(nt=1):$e[Ie]=ye=Zw.call(t,Ve,Ie,"get",ne[Ie],De,re,0,i.stringFilter);t._op&&t._op[Oe]&&t.kill(Ve,t._op[Oe]),ae&&t._pt&&(hu=t,rr.killTweensOf(Ve,$e,t.globalTime(e)),ht=!t.parent,hu=0),t._pt&&a&&(Hw[it.id]=1)}nt&&Z4(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!ht,P&&e<=0&&te.render(oa,!0,!0)},Ege=function(t,e,i,r){var s,a,o=e.ease||r||"power1.inOut";if(Io(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:o})});else for(s in e)a=i[s]||(i[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:e[s],e:o})},fm=function(t,e,i,r,o){return io(t)?t.call(e,i,r,o):no(t)&&~t.indexOf("random(")?cm(t):t},X4=Ww+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",K4={};os(X4+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return K4[n]=1});var ro=function(n){function t(i,r,o,s){var a;"number"==typeof r&&(o.duration=r,r=o,o=null);var ae,te,ne,Oe,Ie,ye,Ve,nt,l=(a=n.call(this,s?r:sm(r))||this).vars,c=l.duration,g=l.delay,E=l.immediateRender,w=l.stagger,P=l.overwrite,A=l.keyframes,D=l.defaults,B=l.scrollTrigger,Y=l.yoyoEase,K=r.parent||rr,re=(Io(i)||h4(i)?fc(i[0]):"length"in r)?[i]:la(i);if(a._targets=re.length?zw(re):Sb("GSAP target "+i+" not found. https://greensock.com",!Rs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=P,A||w||bb(c)||bb(g)){if(r=a.vars,(ae=a.timeline=new as({data:"nested",defaults:D||{}})).kill(),ae.parent=ae._dp=dc(a),ae._start=0,w||bb(c)||bb(g)){if(Oe=re.length,Ve=w&&I4(w),pc(w))for(Ie in w)~X4.indexOf(Ie)&&(nt||(nt={}),nt[Ie]=w[Ie]);for(te=0;te<Oe;te++)(ne=Ob(r,K4)).stagger=0,Y&&(ne.yoyoEase=Y),nt&&Mp(ne,nt),ye=re[te],ne.duration=+fm(c,dc(a),te,ye,re),ne.delay=(+fm(g,dc(a),te,ye,re)||0)-a._delay,!w&&1===Oe&&ne.delay&&(a._delay=g=ne.delay,a._start+=g,ne.delay=0),ae.to(ye,ne,Ve?Ve(te,ye,re):0),ae._ease=Hn.none;ae.duration()?c=g=0:a.timeline=0}else if(A){sm(sa(ae.vars.defaults,{ease:"none"})),ae._ease=Qh(A.ease||r.ease||"none");var Ze,xt,$e,it=0;if(Io(A))A.forEach(function(De){return ae.to(re,De,">")});else{for(Ie in ne={},A)"ease"===Ie||"easeEach"===Ie||Ege(Ie,A[Ie],ne,A.easeEach);for(Ie in ne)for(Ze=ne[Ie].sort(function(De,Ke){return De.t-Ke.t}),it=0,te=0;te<Ze.length;te++)($e={ease:(xt=Ze[te]).e,duration:(xt.t-(te?Ze[te-1].t:0))/100*c})[Ie]=xt.v,ae.to(re,$e,it),it+=$e.duration;ae.duration()<c&&ae.to({},{duration:c-ae.duration()})}}c||a.duration(c=ae.duration())}else a.timeline=0;return!0===P&&!Nw&&(hu=dc(a),rr.killTweensOf(re),hu=0),Ol(K,dc(a),o),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(E||!c&&!A&&a._start===No(K._time)&&rs(E)&&qpe(dc(a))&&"nested"!==K.data)&&(a._tTime=-Oi,a.render(Math.max(0,-g))),B&&P4(dc(a),B),a}l4(t,n);var e=t.prototype;return e.render=function(r,o,s){var E,w,P,A,D,B,Y,K,re,a=this._time,l=this._tDur,c=this._dur,g=r>l-Oi&&r>=0?l:r<Oi?0:r;if(c){if(g!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(E=g,K=this.timeline,this._repeat){if(A=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*A+r,o,s);if(E=No(g%A),g===l?(P=this._repeat,E=c):((P=~~(g/A))&&P===g/A&&(E=c,P--),E>c&&(E=c)),(B=this._yoyo&&1&P)&&(re=this._yEase,E=c-E),D=wp(this._tTime,A),E===a&&!s&&this._initted)return this;P!==D&&(K&&this._yEase&&Y4(K,B),this.vars.repeatRefresh&&!B&&!this._lock&&(this._lock=s=1,this.render(No(A*P),!0).invalidate()._lock=0))}if(!this._initted){if(A4(this,r<0?r:E,s,o))return this._tTime=0,this;if(c!==this._dur)return this.render(r,o,s)}if(this._tTime=g,this._time=E,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Y=(re||this._ease)(E/c),this._from&&(this.ratio=Y=1-Y),E&&!a&&!o&&(ca(this,"onStart"),this._tTime!==g))return this;for(w=this._pt;w;)w.r(Y,w.d),w=w._next;K&&K.render(r<0?r:!E&&B?-Oi:K._dur*K._ease(E/this._dur),o,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(r<0&&this._startAt&&this._startAt.render(r,!0,s),ca(this,"onUpdate")),this._repeat&&P!==D&&this.vars.onRepeat&&!o&&this.parent&&ca(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&gc(this,1),!o&&(!(r<0)||a)&&(g||a)&&(ca(this,g===l?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var c,g,E,o=t.ratio,s=e<0||!e&&(!t._start&&Jpe(t)&&(t._initted||!$w(t))||(t._ts<0||t._dp._ts<0)&&!$w(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=lm(0,t._tDur,e),g=wp(l,a),t._yoyo&&1&g&&(s=1-s),g!==wp(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||r||t._zTime===Oi||!e&&t._zTime){if(!t._initted&&A4(t,e,r,i))return;for(E=t._zTime,t._zTime=e||(i?Oi:0),i||(i=e&&!E),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,c=t._pt;c;)c.r(s,c.d),c=c._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&ca(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&ca(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&gc(t,1),i||(ca(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,o,s);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,o){if(void 0===o&&(o="all"),!(r||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?um(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,hu&&!0!==hu.vars.overwrite)._first||um(this),this.parent&&s!==this.timeline.totalDuration()&&Pp(this,this._dur*this.timeline._tDur/s,0,1),this}var E,w,P,A,D,B,Y,a=this._targets,l=r?la(r):a,c=this._ptLookup,g=this._pt;if((!o||"all"===o)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===o&&(this._pt=0),um(this);for(E=this._op=this._op||[],"all"!==o&&(no(o)&&(D={},os(o,function(K){return D[K]=1}),o=D),o=function(t,e){var o,s,a,l,i=t[0]?qh(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(s in o=Mp({},e),r)if(s in o)for(a=(l=r[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),Y=a.length;Y--;)if(~l.indexOf(a[Y]))for(D in w=c[Y],"all"===o?(E[Y]=o,A=w,P={}):(P=E[Y]=E[Y]||{},A=o),A)(B=w&&w[D])&&((!("kill"in B.d)||!0===B.d.kill(D))&&Mb(this,B,"_pt"),delete w[D]),"all"!==P&&(P[D]=1);return this._initted&&!this._pt&&g&&um(this),this},t.to=function(r,o){return new t(r,o,arguments[2])},t.from=function(r,o){return am(1,arguments)},t.delayedCall=function(r,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(r,o,s){return am(2,arguments)},t.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(r,o)},t.killTweensOf=function(r,o,s){return rr.killTweensOf(r,o,s)},t}(dm);sa(ro.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),os("staggerTo,staggerFrom,staggerFromTo",function(n){ro[n]=function(){var t=new as,e=Xw.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var eP=function(t,e,i){return t[e]=i},q4=function(t,e,i){return t[e](i)},Sge=function(t,e,i,r){return t[e](r.fp,i)},Tge=function(t,e,i){return t.setAttribute(e,i)},tP=function(t,e){return io(t[e])?q4:Fw(t[e])&&t.setAttribute?Tge:eP},J4=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},Cge=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Q4=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},nP=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Oge=function(t,e,i,r){for(var s,o=this._pt;o;)s=o._next,o.p===r&&o.modifier(t,e,i),o=s},Mge=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?Mb(this,e,"_pt"):e.dep||(i=1),e=r;return!i},wge=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},Z4=function(t){for(var i,r,o,s,e=t._pt;e;){for(i=e._next,r=o;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:s)?e._prev._next=e:o=e,(e._next=r)?r._prev=e:s=e,e=i}t._pt=o},ls=function(){function n(e,i,r,o,s,a,l,c,g){this.t=i,this.s=o,this.c=s,this.p=r,this.r=a||J4,this.d=l||this,this.set=c||eP,this.pr=g||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=wge,this.m=i,this.mt=o,this.tween=r},n}();os(Ww+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Vw[n]=1}),Ds.TweenMax=Ds.TweenLite=ro,Ds.TimelineLite=Ds.TimelineMax=as,rr=new as({sortChildren:!1,defaults:Cp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Rs.stringFilter=V4;var xb={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return uge(r)})},timeline:function(t){return new as(t)},getTweensOf:function(t,e){return rr.getTweensOf(t,e)},getProperty:function(t,e,i,r){no(t)&&(t=la(t)[0]);var o=qh(t||{}).get,s=i?T4:S4;return"native"===i&&(i=""),t&&(e?s((Is[e]&&Is[e].get||o)(t,e,i,r)):function(a,l,c){return s((Is[a]&&Is[a].get||o)(t,a,l,c))})},quickSetter:function(t,e,i){if((t=la(t)).length>1){var r=t.map(function(g){return Ml.quickSetter(g,e,i)}),o=r.length;return function(g){for(var E=o;E--;)r[E](g)}}var s=Is[e],a=qh(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,c=s?function(g){var E=new s;Ap._pt=0,E.init(t,i?g+i:g,Ap,0,[t]),E.render(1,E),Ap._pt&&nP(1,Ap)}:a.set(t,l);return s?c:function(g){return c(t,l,i?g+i:g,a,1)}},isTweening:function(t){return rr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Qh(t.ease,Cp.ease)),C4(Cp,t||{})},config:function(t){return C4(Rs,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!Is[a]&&!Ds[a]&&Sb(e+" effect requires "+a+" plugin.")}),Yw[e]=function(a,l,c){return i(la(a),sa(l||{},o),c)},s&&(as.prototype[e]=function(a,l,c){return this.add(Yw[e](a,pc(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){Hn[t]=Qh(e)},parseEase:function(t,e){return arguments.length?Qh(t,e):Hn},getById:function(t){return rr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,o,i=new as(t);for(i.smoothChildTiming=rs(t.smoothChildTiming),rr.remove(i),i._dp=0,i._time=i._tTime=rr._time,r=rr._first;r;)o=r._next,(e||!(!r._dur&&r instanceof ro&&r.vars.onComplete===r._targets[0]))&&Ol(i,r,r._start-r._delay),r=o;return Ol(rr,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return Io(t)?F4(t,n(0,t.length),e):cu(i,function(o){return(r+(o-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,o=2*r;return Io(t)?F4(t,n(0,t.length-1),e):cu(i,function(s){return t+((s=(o+(s-t)%o)%o||0)>r?o-s:s)})},distribute:I4,random:k4,snap:N4,normalize:function(t,e,i){return B4(t,e,0,1,i)},getUnit:ss,clamp:function(t,e,i){return cu(i,function(r){return lm(t,e,r)})},splitColor:U4,toArray:la,selector:function(t){return t=la(t)[0]||Sb("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return la(e,i.querySelectorAll?i:i===t?Sb("Invalid scope")||Gw.createElement("div"):t)}},mapRange:B4,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(o,s){return s(o)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ss(i))}},interpolate:function n(t,e,i,r){var o=isNaN(t+e)?0:function(P){return(1-P)*t+P*e};if(!o){var l,c,g,E,w,s=no(t),a={};if(!0===i&&(r=1)&&(i=null),s)t={p:t},e={p:e};else if(Io(t)&&!Io(e)){for(g=[],w=(E=t.length)-2,c=1;c<E;c++)g.push(n(t[c-1],t[c]));E--,o=function(A){A*=E;var D=Math.min(w,~~A);return g[D](A-D)},i=e}else r||(t=Mp(Io(t)?[]:{},t));if(!g){for(l in e)Zw.call(a,t,l,"get",e[l]);o=function(A){return nP(A,a)||(s?t.p:t)}}}return cu(i,o)},shuffle:D4},install:_4,effects:Yw,ticker:ua,updateRoot:as.updateRoot,plugins:Is,globalTimeline:rr,core:{PropTween:ls,globals:m4,Tween:ro,Timeline:as,Animation:dm,getCache:qh,_removeLinkedListItem:Mb,suppressOverwrites:function(t){return Nw=t}}};os("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return xb[n]=ro[n]}),ua.add(as.updateRoot),Ap=xb.to({},{duration:0});var Pge=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},iP=function(t,e){return{name:t,rawVars:1,init:function(r,o,s){s._onInit=function(a){var l,c;if(no(o)&&(l={},os(o,function(g){return l[g]=1}),o=l),e){for(c in l={},o)l[c]=e(o[c]);o=l}!function(t,e){var r,o,s,i=t._targets;for(r in e)for(o=i.length;o--;)(s=t._ptLookup[o][r])&&(s=s.d)&&(s._pt&&(s=Pge(s,r)),s&&s.modifier&&s.modifier(e[r],t,i[o],r))}(a,o)}}}},Ml=xb.registerPlugin({name:"attr",init:function(t,e,i,r,o){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},iP("roundProps",Kw),iP("modifiers"),iP("snap",N4))||xb;ro.version=as.version=Ml.version="3.9.1",g4=1,u4()&&xp();var eG,du,Rp,rP,ed,tG,aG,fu={},td=180/Math.PI,Dp=Math.PI/180,Ip=Math.atan2,nG=1e8,iG=/([A-Z])/g,Dge=/(?:left|right|width|margin|padding|x)/i,Ige=/[\s,\(]\S/,pu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rG=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Nge=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},kge=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Fge=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},oG=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},sG=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Bge=function(t,e,i){return t.style[e]=i},Lge=function(t,e,i){return t.style.setProperty(e,i)},Uge=function(t,e,i){return t._gsap[e]=i},Gge=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},jge=function(t,e,i,r,o){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(o,s)},Vge=function(t,e,i,r,o){var s=t._gsap;s[e]=i,s.renderTransform(o,s)},fo="transform",gu=fo+"Origin",oP=function(t,e){var i=du.createElementNS?du.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):du.createElement(t);return i.style?i:du.createElement(t)},_c=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(iG,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,Np(e)||e,1)||""},lG="O,Moz,ms,Ms,Webkit".split(","),Np=function(t,e,i){var o=(e||ed).style,s=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(lG[s]+t in o););return s<0?null:(3===s?"ms":s>=0?lG[s]:"")+t},sP=function(){"undefined"!=typeof window&&window.document&&(eG=window,Rp=(du=eG.document).documentElement,ed=oP("div")||{style:{}},oP("div"),fo=Np(fo),gu=fo+"Origin",ed.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",aG=!!Np("perspective"),rP=1)},aP=function n(t){var s,e=oP("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Rp.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(s=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Rp.removeChild(e),this.style.cssText=o,s},cG=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},uG=function(t){var e;try{e=t.getBBox()}catch(i){e=aP.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===aP||(e=aP.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+cG(t,["x","cx","x1"])||0,y:+cG(t,["y","cy","y1"])||0,width:0,height:0}},hG=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!uG(t))},pm=function(t,e){if(e){var i=t.style;e in fu&&e!==gu&&(e=fo),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(iG,"-$1").toLowerCase())):i.removeAttribute(e)}},_u=function(t,e,i,r,o,s){var a=new ls(t._pt,e,i,0,1,s?sG:oG);return t._pt=a,a.b=r,a.e=o,t._props.push(i),a},dG={deg:1,rad:1,turn:1},mu=function n(t,e,i,r){var A,D,B,Y,o=parseFloat(i)||0,s=(i+"").trim().substr((o+"").length)||"px",a=ed.style,l=Dge.test(e),c="svg"===t.tagName.toLowerCase(),g=(c?"client":"offset")+(l?"Width":"Height"),E=100,w="px"===r,P="%"===r;return r===s||!o||dG[r]||dG[s]?o:("px"!==s&&!w&&(o=n(t,e,i,"px")),Y=t.getCTM&&hG(t),!P&&"%"!==s||!fu[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=E+(w?s:r),D=~e.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,Y&&(D=(t.ownerSVGElement||{}).parentNode),(!D||D===du||!D.appendChild)&&(D=du.body),(B=D._gsap)&&P&&B.width&&l&&B.time===ua.time?kr(o/B.width*E):((P||"%"===s)&&(a.position=_c(t,"position")),D===t&&(a.position="static"),D.appendChild(ed),A=ed[g],D.removeChild(ed),a.position="absolute",l&&P&&((B=qh(D)).time=ua.time,B.width=D[g]),kr(w?A*o/E:A&&o?E/A*o:0))):(A=Y?t.getBBox()[l?"width":"height"]:t[g],kr(P?o/A*E:o/100*A)))},nd=function(t,e,i,r){var o;return rP||sP(),e in pu&&"transform"!==e&&~(e=pu[e]).indexOf(",")&&(e=e.split(",")[0]),fu[e]&&"transform"!==e?(o=_m(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Db(_c(t,gu))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=Rb[e]&&Rb[e](t,e,i)||_c(t,e)||b4(t,e)||("opacity"===e?1:0)),i&&!~(o+"").trim().indexOf(" ")?mu(t,e,o,i)+i:o},Hge=function(t,e,i,r){if(!i||"none"===i){var o=Np(e,t,1),s=o&&_c(t,o,1);s&&s!==i?(e=o,i=s):"borderColor"===e&&(i=_c(t,"borderTopColor"))}var g,E,w,P,A,D,B,Y,K,re,ae,te,a=new ls(this._pt,t.style,e,0,1,Q4),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=_c(t,e)||r,t.style[e]=i),V4(g=[i,r]),r=g[1],w=(i=g[0]).match(Op)||[],(r.match(Op)||[]).length){for(;E=Op.exec(r);)B=E[0],K=r.substring(l,E.index),A?A=(A+1)%5:("rgba("===K.substr(-5)||"hsla("===K.substr(-5))&&(A=1),B!==(D=w[c++]||"")&&(P=parseFloat(D)||0,ae=D.substr((P+"").length),(te="="===B.charAt(1)?+(B.charAt(0)+"1"):0)&&(B=B.substr(2)),Y=parseFloat(B),re=B.substr((Y+"").length),l=Op.lastIndex-re.length,re||(re=re||Rs.units[e]||ae,l===r.length&&(r+=re,a.e+=re)),ae!==re&&(P=mu(t,e,D,re)||0),a._pt={_next:a._pt,p:K||1===c?K:",",s:P,c:te?te*Y:Y-P,m:A&&A<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?sG:oG;return f4.test(r)&&(a.e=0),this._pt=a,a},fG={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Yge=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=fG[i]||i,e[1]=fG[r]||r,e.join(" ")},Wge=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,c,i=e.t,o=e.u,s=i._gsap;if("all"===o||!0===o)i.style.cssText="",l=1;else for(c=(o=o.split(",")).length;--c>-1;)fu[a=o[c]]&&(l=1,a="transformOrigin"===a?gu:fo),pm(i,a);l&&(pm(i,fo),s&&(s.svg&&i.removeAttribute("transform"),_m(i,1),s.uncache=1))}},Rb={clearProps:function(t,e,i,r,o){if("isFromStart"!==o.data){var s=t._pt=new ls(t._pt,e,i,0,0,Wge);return s.u=r,s.pr=-10,s.tween=o,t._props.push(i),1}}},gm=[1,0,0,1,0,0],pG={},gG=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},_G=function(t){var e=_c(t,fo);return gG(e)?gm:e.substr(7).match(d4).map(kr)},lP=function(t,e){var s,a,l,c,i=t._gsap||qh(t),r=t.style,o=_G(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?gm:o:(o===gm&&!t.offsetParent&&t!==Rp&&!i.svg&&(l=r.display,r.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(c=1,a=t.nextSibling,Rp.appendChild(t)),o=_G(t),l?r.display=l:pm(t,"display"),c&&(a?s.insertBefore(t,a):s?s.appendChild(t):Rp.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},cP=function(t,e,i,r,o,s){var ne,Oe,ye,a=t._gsap,l=o||lP(t,!0),c=a.xOrigin||0,g=a.yOrigin||0,E=a.xOffset||0,w=a.yOffset||0,P=l[0],A=l[1],D=l[2],B=l[3],Y=l[4],K=l[5],re=e.split(" "),ae=parseFloat(re[0])||0,te=parseFloat(re[1])||0;i?l!==gm&&(Oe=P*B-A*D)&&(ye=ae*(-A/Oe)+te*(P/Oe)-(P*K-A*Y)/Oe,ae=ae*(B/Oe)+te*(-D/Oe)+(D*K-B*Y)/Oe,te=ye):(ae=(ne=uG(t)).x+(~re[0].indexOf("%")?ae/100*ne.width:ae),te=ne.y+(~(re[1]||re[0]).indexOf("%")?te/100*ne.height:te)),r||!1!==r&&a.smooth?(a.xOffset=E+((Y=ae-c)*P+(K=te-g)*D)-Y,a.yOffset=w+(Y*A+K*B)-K):a.xOffset=a.yOffset=0,a.xOrigin=ae,a.yOrigin=te,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[gu]="0px 0px",s&&(_u(s,a,"xOrigin",c,ae),_u(s,a,"yOrigin",g,te),_u(s,a,"xOffset",E,a.xOffset),_u(s,a,"yOffset",w,a.yOffset)),t.setAttribute("data-svg-origin",ae+" "+te)},_m=function(t,e){var i=t._gsap||new z4(t);if("x"in i&&!e&&!i.uncache)return i;var c,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe,Ie,ye,Ve,nt,it,Ze,xt,$e,De,Ke,ht,Pt,We,bt,Dt,Nt,Rt,r=t.style,o=i.scaleX<0,s="px",a="deg",l=_c(t,gu)||"0";return c=g=E=A=D=B=Y=K=re=0,w=P=1,i.svg=!(!t.getCTM||!hG(t)),ne=lP(t,i.svg),i.svg&&(De=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),cP(t,De||l,!!De||i.originIsAbsolute,!1!==i.smooth,ne)),ae=i.xOrigin||0,te=i.yOrigin||0,ne!==gm&&(Ve=ne[0],nt=ne[1],it=ne[2],Ze=ne[3],c=xt=ne[4],g=$e=ne[5],6===ne.length?(w=Math.sqrt(Ve*Ve+nt*nt),P=Math.sqrt(Ze*Ze+it*it),A=Ve||nt?Ip(nt,Ve)*td:0,(Y=it||Ze?Ip(it,Ze)*td+A:0)&&(P*=Math.abs(Math.cos(Y*Dp))),i.svg&&(c-=ae-(ae*Ve+te*it),g-=te-(ae*nt+te*Ze))):(Dt=ne[7],Pt=ne[8],We=ne[9],Nt=ne[11],c=ne[12],g=ne[13],E=ne[14],D=(Oe=Ip(Rt=ne[6],bt=ne[10]))*td,Oe&&(De=xt*(Ie=Math.cos(-Oe))+Pt*(ye=Math.sin(-Oe)),Ke=$e*Ie+We*ye,ht=Rt*Ie+bt*ye,Pt=xt*-ye+Pt*Ie,We=$e*-ye+We*Ie,bt=Rt*-ye+bt*Ie,Nt=Dt*-ye+Nt*Ie,xt=De,$e=Ke,Rt=ht),B=(Oe=Ip(-it,bt))*td,Oe&&(Ie=Math.cos(-Oe),Nt=Ze*(ye=Math.sin(-Oe))+Nt*Ie,Ve=De=Ve*Ie-Pt*ye,nt=Ke=nt*Ie-We*ye,it=ht=it*Ie-bt*ye),A=(Oe=Ip(nt,Ve))*td,Oe&&(De=Ve*(Ie=Math.cos(Oe))+nt*(ye=Math.sin(Oe)),Ke=xt*Ie+$e*ye,nt=nt*Ie-Ve*ye,$e=$e*Ie-xt*ye,Ve=De,xt=Ke),D&&Math.abs(D)+Math.abs(A)>359.9&&(D=A=0,B=180-B),w=kr(Math.sqrt(Ve*Ve+nt*nt+it*it)),P=kr(Math.sqrt($e*$e+Rt*Rt)),Oe=Ip(xt,$e),Y=Math.abs(Oe)>2e-4?Oe*td:0,re=Nt?1/(Nt<0?-Nt:Nt):0),i.svg&&(De=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!gG(_c(t,fo)),De&&t.setAttribute("transform",De))),Math.abs(Y)>90&&Math.abs(Y)<270&&(o?(w*=-1,Y+=A<=0?180:-180,A+=A<=0?180:-180):(P*=-1,Y+=Y<=0?180:-180)),i.x=c-((i.xPercent=c&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=g-((i.yPercent=g&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-g)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=E+s,i.scaleX=kr(w),i.scaleY=kr(P),i.rotation=kr(A)+a,i.rotationX=kr(D)+a,i.rotationY=kr(B)+a,i.skewX=Y+a,i.skewY=K+a,i.transformPerspective=re+s,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[gu]=Db(l)),i.xOffset=i.yOffset=0,i.force3D=Rs.force3D,i.renderTransform=i.svg?$ge:aG?mG:zge,i.uncache=0,i},Db=function(t){return(t=t.split(" "))[0]+" "+t[1]},uP=function(t,e,i){var r=ss(e);return kr(parseFloat(e)+parseFloat(mu(t,"x",i+"px",r)))+r},zge=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,mG(t,e)},id="0deg",mm="0px",rd=") ",mG=function(t,e){var i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.z,c=i.rotation,g=i.rotationY,E=i.rotationX,w=i.skewX,P=i.skewY,A=i.scaleX,D=i.scaleY,B=i.transformPerspective,Y=i.force3D,K=i.target,re=i.zOrigin,ae="",te="auto"===Y&&t&&1!==t||!0===Y;if(re&&(E!==id||g!==id)){var ye,ne=parseFloat(g)*Dp,Oe=Math.sin(ne),Ie=Math.cos(ne);ne=parseFloat(E)*Dp,ye=Math.cos(ne),s=uP(K,s,Oe*ye*-re),a=uP(K,a,-Math.sin(ne)*-re),l=uP(K,l,Ie*ye*-re+re)}B!==mm&&(ae+="perspective("+B+rd),(r||o)&&(ae+="translate("+r+"%, "+o+"%) "),(te||s!==mm||a!==mm||l!==mm)&&(ae+=l!==mm||te?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+rd),c!==id&&(ae+="rotate("+c+rd),g!==id&&(ae+="rotateY("+g+rd),E!==id&&(ae+="rotateX("+E+rd),(w!==id||P!==id)&&(ae+="skew("+w+", "+P+rd),(1!==A||1!==D)&&(ae+="scale("+A+", "+D+rd),K.style[fo]=ae||"translate(0, 0)"},$ge=function(t,e){var te,ne,Oe,Ie,ye,i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.rotation,c=i.skewX,g=i.skewY,E=i.scaleX,w=i.scaleY,P=i.target,A=i.xOrigin,D=i.yOrigin,B=i.xOffset,Y=i.yOffset,K=i.forceCSS,re=parseFloat(s),ae=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(g=parseFloat(g))&&(c+=g=parseFloat(g),l+=g),l||c?(l*=Dp,c*=Dp,te=Math.cos(l)*E,ne=Math.sin(l)*E,Oe=Math.sin(l-c)*-w,Ie=Math.cos(l-c)*w,c&&(g*=Dp,ye=Math.tan(c-g),Oe*=ye=Math.sqrt(1+ye*ye),Ie*=ye,g&&(ye=Math.tan(g),te*=ye=Math.sqrt(1+ye*ye),ne*=ye)),te=kr(te),ne=kr(ne),Oe=kr(Oe),Ie=kr(Ie)):(te=E,Ie=w,ne=Oe=0),(re&&!~(s+"").indexOf("px")||ae&&!~(a+"").indexOf("px"))&&(re=mu(P,"x",s,"px"),ae=mu(P,"y",a,"px")),(A||D||B||Y)&&(re=kr(re+A-(A*te+D*Oe)+B),ae=kr(ae+D-(A*ne+D*Ie)+Y)),(r||o)&&(ye=P.getBBox(),re=kr(re+r/100*ye.width),ae=kr(ae+o/100*ye.height)),P.setAttribute("transform",ye="matrix("+te+","+ne+","+Oe+","+Ie+","+re+","+ae+")"),K&&(P.style[fo]=ye)},Xge=function(t,e,i,r,o,s){var w,P,a=360,l=no(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?td:1),g=s?c*s:c-r,E=r+g+"deg";return l&&("short"===(w=o.split("_")[1])&&(g%=a)!=g%180&&(g+=g<0?a:-a),"cw"===w&&g<0?g=(g+a*nG)%a-~~(g/a)*a:"ccw"===w&&g>0&&(g=(g-a*nG)%a-~~(g/a)*a)),t._pt=P=new ls(t._pt,e,i,r,g,Nge),P.e=E,P.u="deg",t._props.push(i),P},vG=function(t,e){for(var i in e)t[i]=e[i];return t},Kge=function(t,e,i){var a,l,c,g,E,w,A,r=vG({},i._gsap),s=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),s[fo]=e,a=_m(i,1),pm(i,fo),i.setAttribute("transform",c)):(c=getComputedStyle(i)[fo],s[fo]=e,a=_m(i,1),s[fo]=c),fu)(c=r[l])!==(g=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(E=ss(c)!==(A=ss(g))?mu(i,l,c,A):parseFloat(c),w=parseFloat(g),t._pt=new ls(t._pt,a,l,E,w-E,rG),t._pt.u=A||0,t._props.push(l));vG(a,r)};os("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",o="Left",s=(t<3?[e,i,r,o]:[e+o,e+i,r+i,r+o]).map(function(a){return t<2?n+a:"border"+a+n});Rb[t>1?"border"+n:n]=function(a,l,c,g,E){var w,P;if(arguments.length<4)return w=s.map(function(A){return nd(a,A,c)}),5===(P=w.join(" ")).split(w[0]).length?w[0]:P;w=(g+"").split(" "),P={},s.forEach(function(A,D){return P[A]=w[D]=w[D]||w[(D-1)/2|0]}),a.init(l,P,E)}});var yG={name:"css",register:sP,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,o){var c,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe,s=this._props,a=t.style,l=i.vars.startAt;for(D in rP||sP(),e)if("autoRound"!==D&&(g=e[D],!Is[D]||!$4(D,e,i,r,t,o)))if(A=Rb[D],"function"==(P=typeof g)&&(P=typeof(g=g.call(i,r,t,o))),"string"===P&&~g.indexOf("random(")&&(g=cm(g)),A)A(this,t,D,g,i)&&(Oe=1);else if("--"===D.substr(0,2))c=(getComputedStyle(t).getPropertyValue(D)+"").trim(),g+="",uu.lastIndex=0,uu.test(c)||(B=ss(c),Y=ss(g)),Y?B!==Y&&(c=mu(t,D,c,Y)+Y):B&&(g+=B),this.add(a,"setProperty",c,g,r,o,0,0,D),s.push(D);else if("undefined"!==P){if(l&&D in l?(c="function"==typeof l[D]?l[D].call(i,r,t,o):l[D],no(c)&&~c.indexOf("random(")&&(c=cm(c)),ss(c+"")||(c+=Rs.units[D]||ss(nd(t,D))||""),"="===(c+"").charAt(1)&&(c=nd(t,D))):c=nd(t,D),w=parseFloat(c),(K="string"===P&&"="===g.charAt(1)?+(g.charAt(0)+"1"):0)&&(g=g.substr(2)),E=parseFloat(g),D in pu&&("autoAlpha"===D&&(1===w&&"hidden"===nd(t,"visibility")&&E&&(w=0),_u(this,a,"visibility",w?"inherit":"hidden",E?"inherit":"hidden",!E)),"scale"!==D&&"transform"!==D&&~(D=pu[D]).indexOf(",")&&(D=D.split(",")[0])),re=D in fu)if(ae||((te=t._gsap).renderTransform&&!e.parseTransform||_m(t,e.parseTransform),ne=!1!==e.smoothOrigin&&te.smooth,(ae=this._pt=new ls(this._pt,a,fo,0,1,te.renderTransform,te,0,-1)).dep=1),"scale"===D)this._pt=new ls(this._pt,te,"scaleY",te.scaleY,(K?K*E:E-te.scaleY)||0),s.push("scaleY",D),D+="X";else{if("transformOrigin"===D){g=Yge(g),te.svg?cP(t,g,0,ne,0,this):((Y=parseFloat(g.split(" ")[2])||0)!==te.zOrigin&&_u(this,te,"zOrigin",te.zOrigin,Y),_u(this,a,D,Db(c),Db(g)));continue}if("svgOrigin"===D){cP(t,g,1,ne,0,this);continue}if(D in pG){Xge(this,te,D,w,g,K);continue}if("smoothOrigin"===D){_u(this,te,"smooth",te.smooth,g);continue}if("force3D"===D){te[D]=g;continue}if("transform"===D){Kge(this,g,t);continue}}else D in a||(D=Np(D)||D);if(re||(E||0===E)&&(w||0===w)&&!Ige.test(g)&&D in a)E||(E=0),(B=(c+"").substr((w+"").length))!==(Y=ss(g)||(D in Rs.units?Rs.units[D]:B))&&(w=mu(t,D,c,Y)),this._pt=new ls(this._pt,re?te:a,D,w,K?K*E:E-w,re||"px"!==Y&&"zIndex"!==D||!1===e.autoRound?rG:Fge),this._pt.u=Y||0,B!==Y&&"%"!==Y&&(this._pt.b=c,this._pt.r=kge);else if(D in a)Hge.call(this,t,D,c,g);else{if(!(D in t)){jw(D,g);continue}this.add(t,D,c||t[D],g,r,o)}s.push(D)}Oe&&Z4(this)},get:nd,aliases:pu,getSetter:function(t,e,i){var r=pu[e];return r&&r.indexOf(",")<0&&(e=r),e in fu&&e!==gu&&(t._gsap.x||nd(t,"x"))?i&&tG===i?"scale"===e?Gge:Uge:(tG=i||{})&&("scale"===e?jge:Vge):t.style&&!Fw(t.style[e])?Bge:~e.indexOf("-")?Lge:tP(t,e)},core:{_removeProperty:pm,_getMatrix:lP}};Ml.utils.checkPrefix=Np,function(n,t,e,i){var r=os(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){fu[o]=1});os(t,function(o){Rs.units[o]="deg",pG[o]=1}),pu[r[13]]=n+","+t,os("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");pu[s[1]]=r[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),os("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Rs.units[n]="px"}),Ml.registerPlugin(yG);var vu,bG,Ib,ha,vm,EG,hP,Fb,ym,mc=Ml.registerPlugin(yG)||Ml,SG=function(){return"undefined"!=typeof window},TG=function(){return vu||SG()&&(vu=window.gsap)&&vu.registerPlugin&&vu},CG=function(t){return"function"==typeof t},Qge=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],da=.212671,fa=.71516,pa=.072169,Nb=function(t,e){var s,a,i=[],r=0;for(s=0;s<4;s++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},OG=function(t,e){var i=1-e,r=i*da,o=i*fa,s=i*pa;return Nb([r+e,o,s,0,0,r,o+e,s,0,0,r,o,s+e,0,0,0,0,0,1,0],t)},MG=function(t,e,i){var r=Ib(e),o=r[0]/255,s=r[1]/255,a=r[2]/255,l=1-i;return Nb([l+i*o*da,i*o*fa,i*o*pa,0,0,i*s*da,l+i*s*fa,i*s*pa,0,0,i*a*da,i*a*fa,l+i*a*pa,0,0,0,0,0,1,0],t)},wG=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return Nb([da+i*(1-da)+r*-da,fa+i*-fa+r*-fa,pa+i*-pa+r*(1-pa),0,0,da+i*-da+.143*r,fa+i*(1-fa)+.14*r,pa+i*-pa+-.283*r,0,0,da+i*-da+r*-(1-da),fa+i*-fa+r*fa,pa+i*(1-pa)+r*pa,0,0,0,0,0,1,0,0,0,0,0,1],t)},PG=function(t,e){return Nb([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},AG=function(t,e){var s,i=ha.filters[e],r=t.filters||[],o=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(r[o]instanceof i)return r[o];return s=new i,"BlurFilter"===e&&(s.blur=0),r.push(s),t.filters=r,s},oo=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},xG=function(t,e){var i=new ha.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},Ns={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},e_e=function(t,e,i){var a,l,c,r=AG(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(Ns),s=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((c=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===c.length?(l=e.matrix,1!==o.contrast&&oo("contrast",i,o,Ns),o.hue&&oo("hue",i,o,Ns),1!==o.brightness&&oo("brightness",i,o,Ns),o.colorizeAmount&&(oo("colorize",i,o,Ns),oo("colorizeAmount",i,o,Ns)),1!==o.saturation&&oo("saturation",i,o,Ns)):(l=Qge.slice(),null!=e.contrast?(l=PG(l,+e.contrast),oo("contrast",i,o,e)):1!==o.contrast&&(s?l=PG(l,o.contrast):oo("contrast",i,o,Ns)),null!=e.hue?(l=wG(l,+e.hue),oo("hue",i,o,e)):o.hue&&(s?l=wG(l,o.hue):oo("hue",i,o,Ns)),null!=e.brightness?(l=xG(+e.brightness,l),oo("brightness",i,o,e)):1!==o.brightness&&(s?l=xG(o.brightness,l):oo("brightness",i,o,Ns)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=MG(l,e.colorize,e.colorizeAmount),oo("colorize",i,o,e),oo("colorizeAmount",i,o,e)):o.colorizeAmount&&(s?l=MG(l,o.colorize,o.colorizeAmount):(oo("colorize",i,o,Ns),oo("colorizeAmount",i,o,Ns))),null!=e.saturation?(l=OG(l,+e.saturation),oo("saturation",i,o,e)):1!==o.saturation&&(s?l=OG(l,o.saturation):oo("saturation",i,o,Ns))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},t_e=function(t,e){var o=e.color;(0,e.set)(e.t,e.p,o[0]<<16|o[1]<<8|o[2])},n_e=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},i_e=function(t,e){e.t.visible=!!e.t.alpha},RG=function(t,e,i,r){var o=t[e],s=Ib(CG(o)?t[e.indexOf("set")||!CG(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():o),a=Ib(i);r._pt=new vm(r._pt,t,e,0,0,t_e,{t,p:e,color:s,set:EG(t,e)}),r.add(s,0,s[0],a[0]),r.add(s,1,s[1],a[1]),r.add(s,2,s[2],a[2])},r_e={tint:1,lineColor:1,fillColor:1},DG="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),dP={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},o_e={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},kb=Math.PI/180,IG=function(t){return"string"==typeof t},s_e=function(t){return IG(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*kb:t*kb},a_e=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},l_e=function(t,e,i,r,o,s){var P,A,a=360*(s?kb:1),l=IG(o),c=l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0,g=parseFloat(c?o.substr(2):o)*(s?kb:1),E=c?g*c:g-r,w=r+E;return l&&("short"===(P=o.split("_")[1])&&(E%=a)!=E%(a/2)&&(E+=E<0?a:-a),"cw"===P&&E<0?E=(E+1e10*a)%a-~~(E/a)*a:"ccw"===P&&E>0&&(E=(E-1e10*a)%a-~~(E/a)*a)),t._pt=A=new vm(t._pt,e,i,r,E,a_e),A.e=w,A},NG=function(){SG()&&(bG=window,vu=TG(),hP=(ha=ha||bG.PIXI)&&ha.VERSION&&"4"===ha.VERSION.charAt(0),Ib=function(e){return vu.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(Fb=0;Fb<DG.length;Fb++)dP[(ym=DG[Fb])+"X"]=ym,dP[ym+"Y"]=ym;var fP={version:"3.9.1",name:"pixi",register:function(t,e,i){vu=t,vm=i,EG=e.getSetter,NG()},registerPIXI:function(t){ha=t},init:function(t,e,i,r,o){if(ha||NG(),!(ha&&t instanceof ha.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var s,a,l,c,g,E,w,P,A;for(E in e){if(l=e[E],s=dP[E])a=~E.charAt(E.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[s],a,t[s][a],"skew"===s?s_e(l):l);else if("scale"===E||"anchor"===E||"pivot"===E||"tileScale"===E)this.add(t[E],"x",t[E].x,l),this.add(t[E],"y",t[E].y,l);else if("rotation"===E||"angle"===E)l_e(this,t,E,t[E],l,"rotation"===E);else if(o_e[E])c||(e_e(t,e.colorMatrixFilter||e,this),c=!0);else if("blur"===E||"blurX"===E||"blurY"===E||"blurPadding"===E){if(g=AG(t,"BlurFilter"),this.add(g,E,g[E],l),0!==e.blurPadding)for(w=e.blurPadding||2*Math.max(g[E],l),P=t.filters.length;--P>-1;)t.filters[P].padding=Math.max(t.filters[P].padding,w)}else if(r_e[E])if(("lineColor"===E||"fillColor"===E)&&t instanceof ha.Graphics)for(A=(t.geometry||t).graphicsData,this._pt=new vm(this._pt,t,E,0,0,n_e,{g:t.geometry||t}),P=A.length;--P>-1;)RG(hP?A[P]:A[P][E.substr(0,4)+"Style"],hP?E:"color",l,this);else RG(t,E,l,this);else"autoAlpha"===E?(this._pt=new vm(this._pt,t,"visible",0,0,i_e),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==E&&this.add(t,E,"get",l);this._props.push(E)}}};TG()&&vu.registerPlugin(fP);var wl=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(wl||(wl={})),wl))();let or=(()=>{class n{static init(){mc.registerPlugin(fP),fP.registerPIXI(T)}static isTweening(e){return mc.isTweening(e)}static killTweensOf(e){mc.killTweensOf(e)}}return n.gsap=mc,n})();class Bb{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new Xi,this.zone.runOutsideAngular(()=>{or.gsap.ticker.fps(e),or.gsap.ticker.add(this.__render)})}createApp(t,e){or.init(),Kk();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=Gt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{Bb._app=new p_(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),or.gsap.ticker.fps(e),or.gsap.ticker.add(this.__render)})}get app(){return Bb._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){or.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class c_e extends Xi{constructor(){super(),this.isAnimation=!0,this.circle=new Yo(Gt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=mc.to(this.circle,{duration:36,angle:360,repeat:-1,ease:wl.None}),this.tween.pause()}resize(){this.y=Rn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(Rn.appWidth,Rn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){or.killTweensOf(this.circle),super.destroy()}}class u_e extends Xi{constructor(t){super(),this.axes=t,this.curve=new Cs,this.gradient=new Cs,this.CURVE_WIDTH=4,this.CURVE_COLOR=Ho("#f00b3e"),this.GRADIENT_COLOR=Ho("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=or.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=or.gsap.timeline();const e=[];for(let i=0;i<4;i++)e.push(Gt.from(`plane-${i}`));this.plane=new r3(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){or.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:Rn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:wl.None};mc.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=Rn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:wl.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:wl.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:wl.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=Rn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(Rn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(Rn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,or.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const kG=(n="#FF0000",t=3,e=1)=>{const i=new Cs;return i.beginFill(Ho(n),e),i.drawCircle(0,0,t),i.endFill(),i};function FG(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Roboto",fontSize:12,fill:16777215,align:"center"}),t);return new b_(n,i)}class h_e extends Xi{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=Ho("#423033"),this.xAxis=new Cs,this.yAxis=new Cs,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=kG("#ffffff",2);this.addChild(e),this.pointsX.push(e);const i=kG("#1197d6",2);this.addChild(i),this.pointsY.push(i)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=Rn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(Rn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,Rn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(Rn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=Rn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(Rn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),or.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),or.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*or.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(Rn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*or.gsap.ticker.deltaRatio(),e.y>Rn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){or.gsap.ticker.remove(this.onTick),super.destroy()}}class d_e extends Xi{constructor(t){super(),this.translate=t,this.PROP_SIZE={[Qr.sm]:50,[Qr.md]:90,[Qr.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[Qr.sm]:20,[Qr.md]:26,[Qr.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT=6,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=Ho("#262830"),this.TIMER_BAR_COLOR=Ho("#e50539"),this.visible=!1,this.prop=new Yo(Gt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=mc.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:wl.None}),this.propTween.pause(),this.textWaiting=FG(this.translate.instant("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[Rn.breakpoint],fontFamily:zc.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new Cs,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new Cs,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=mc.to(this.timerBar,{duration:0,x:`-=${this.TIMER_WIDTH}`,ease:wl.None}),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[Rn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[Rn.breakpoint],this.prop.x=Rn.appWidth/2,this.prop.y=Rn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=Rn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP;const e=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP;this.timer.x=this.timerBar.x=this.timerBarMask.x=Rn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=e,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}var vc=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(vc||(vc={})),vc))();class f_e extends Xi{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=Ho("#ffffff"),this.COEFFICIENT_END_COLOR=Ho("#d0021b"),this.COEFFICIENT_SIZE={[Qr.sm]:68,[Qr.md]:78,[Qr.lg]:100},this.FLEW_AWAY_SIZE={[Qr.sm]:20,[Qr.md]:26,[Qr.lg]:36},this.coefficient=new C_("1.00x",{fontName:vc.Multiplier,fontSize:this.COEFFICIENT_SIZE[Rn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=FG(this.translate.instant("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[Rn.breakpoint],fontFamily:zc.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=tN(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=Rn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[Rn.breakpoint],this.coefficient.x=Rn.appWidth/2-this.coefficient.width/2,this.coefficient.y=Rn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[Rn.breakpoint],this.flewAway.x=Rn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class yu extends Xi{constructor(){super(),this.interval=100,this.icon=new Yo(Gt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new C_("00:00:00",{fontName:vc.General,tint:Ho("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());yu.startTime||(yu.startTime=t,yu.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-yu.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-yu.startTime),yu.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class p_e extends Xi{constructor(){super(),this.interval=1e3,this.icon=new Yo(Gt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new C_(this.getTime(new Date),{fontName:vc.General,tint:Ho("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),i4(this.interval).pipe(St(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class g_e extends Xi{constructor(t){super(),this.multiplier=t,this.blur=new Yo(Gt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(vh.Low),or.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){or.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),or.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&or.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!or.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){or.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=Rn.appWidth/this.blur.getLocalBounds().width,this.scale.y=Rn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),or.killTweensOf(this.blur)}}class m_e extends Xi{constructor(t,e){super(),this.netSessionService=t,this.app=e,this.icon=new Yo(Gt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new C_("",{fontName:vc.General,tint:Ho("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(St(this,"destroy")).subscribe(i=>this.onChangeNet(i))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${t.toFixed(this.app.config.betPrecision)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class v_e extends Bb{constructor(t,e,i,r,o,s){super(e,t),this.el=t,this.zone=e,this.appService=i,this.multiplierService=r,this.translateService=o,this.netSessionService=s,Rn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new c_e,this.background.y=Rn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new g_e(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new Xi,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new h_e,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new u_e(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=new d_e(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new f_e(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new yu,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new p_e,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new m_e(this.netSessionService,this.appService),this.stage.addChild(this.netSession))}setupBitmapFonts(){Zl.from(vc.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:zc.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution}),Zl.from(vc.Multiplier,{fontSize:100,fontWeight:"700",fill:16777215,fontFamily:zc.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),Rn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(Rn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=Rn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}var bm=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(bm||(bm={})),bm))();let BG=(()=>{class n{constructor(e){this.app=e,this.amount=0,this.changedSubject=new ei(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=Number((this.amount+e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}minus(e){this.amount=Number((this.amount-e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)(Ne(un))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y_e=["stageCanvas"];function b_e(n,t){1&n&&(R(0,"div",5),z(1,"FUN MODE"),I())}let od=class{constructor(t,e,i,r,o,s,a,l,c){this.zone=t,this.app=e,this.user=i,this.mainService=r,this.multiplier=o,this.translate=s,this.netSessionService=a,this.renderer=l,this.window=c}ngOnInit(){this.canvas=new v_e(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplier,this.translate,this.netSessionService),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(St(this),Wa(50)).subscribe(()=>this.canvas.resize()),this.canvas.resize(),this.mainService.getState().pipe(St(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(St(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(St(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)})}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(bm.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){this.canvas.destroy()}};od.\u0275fac=function(t){return new(t||od)($(Mn),$(un),$(Ya),$(Yi),$(k0),$(Zc),$(BG),$(To),$(L_))},od.\u0275cmp=pt({type:od,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&Jo(y_e,7),2&t){let i;qn(i=Jn())&&(e.stageCanvasRef=i.first)}},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(R(0,"div",0),Pe(1,"div",1,2),R(3,"div",3),ce(4,b_e,2,0,"div",4),I()()),2&t&&(N(4),q("ngIf",e.app.isFunMode))},directives:[Kt],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),od=He([vi()],od);var sd=(()=>(function(n){n.bet="bet",n.auto="auto"}(sd||(sd={})),sd))();const E_e=["inputfield"],S_e=function(n){return{minus:!0,"ui-state-disabled":n}};function T_e(n,t){if(1&n){const e=Ct();R(0,"button",8),Ae("mouseleave",function(){return dt(e),he().onDownButtonMouseleave()})("mousedown",function(r){return dt(e),he().onDownButtonMousedown(r)})("mouseup",function(){return dt(e),he().onDownButtonMouseup()}),I()}if(2&n){const e=he();q("ngClass",vs(3,S_e,e.disabled))("disabled",e.disabled),oi("readonly",e.readonly)}}function C_e(n,t){1&n&&(R(0,"span",9),z(1,"\xd7"),I())}function O_e(n,t){if(1&n&&(R(0,"span",10),z(1),I()),2&n){const e=he();N(1),Me(" ",e.app.config.currency," ")}}const M_e=function(n){return{plus:!0,"ui-state-disabled":n}};function w_e(n,t){if(1&n){const e=Ct();R(0,"button",8),Ae("mouseleave",function(){return dt(e),he().onUpButtonMouseleave()})("mousedown",function(r){return dt(e),he().onUpButtonMousedown(r)})("mouseup",function(){return dt(e),he().onUpButtonMouseup()}),I()}if(2&n){const e=he();q("ngClass",vs(3,M_e,e.disabled))("disabled",e.disabled),oi("readonly",e.readonly)}}const P_e=function(n){return{"full-width":n}};let pP=(()=>{class n{constructor(e){this.app=e,this.step=1,this.decimalSeparator=".",this.thousandSeparator=",",this.formatInput=!0,this.type="text",this.enableButtons=!0,this.showX=!1,this.showCurrency=!1,this.formatOnBlur=!1,this.size="big",this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.keyPattern=/[0-9]/}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i,r){let o=i||500;this.clearTimer();const s=Hc(o);this.timer$=s.subscribe(()=>{this.repeat(e,40,r)}),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.value||0;this.value=this.precision?parseFloat(this.toFixed(o+r,this.precision)):o+r,void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),void 0!==this.min&&this.value<this.min&&(this.value=this.min),void 0!==this.max&&this.value>this.max&&(this.value=this.max),this.formatValue(),this.onModelChange(this.value)}toFixed(e,i){let r=Math.pow(10,i||0);return String(Math.round(e*r)/r)}onUpButtonMousedown(e){this.disabled||(this.repeat(e,null,1),this.updateFilledState())}onUpButtonMouseup(){this.disabled||this.clearTimer()}onUpButtonMouseleave(){this.disabled||this.clearTimer()}onDownButtonMousedown(e){this.disabled||(this.repeat(e,null,-1),this.updateFilledState())}onDownButtonMouseup(){this.disabled||this.clearTimer()}onDownButtonMouseleave(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(e,1),e.preventDefault()):40==e.which&&(this.spin(e,-1),e.preventDefault())}onInputKeyPress(e){let i=String.fromCharCode(e.charCode);!this.keyPattern.test(i)&&i!=this.decimalSeparator&&e.preventDefault()}onInputKeyup(e){let i=e.target.value;e.key!==this.thousandSeparator&&(this.formatOnBlur?this.valueAsString=i:(this.value=this.parseValue(i),this.formatValue())),this.onModelChange(this.value),this.updateFilledState()}onInputBlur(){this.onModelTouched(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}formatToPrecision(e){this.value=Math.abs(this.parseValue(this.valueAsString)),this.value=parseFloat(this.valueAsString=(this.value<this.min?this.value=this.min:this.value).toFixed(e)),this.inputfieldViewChild.nativeElement.value=this.valueAsString,this.onModelChange(this.value),this.updateFilledState()}parseValue(e){let i;return this.formatInput&&(e=e.split(this.thousandSeparator).join("")),""===e.trim()?i=null:(i=this.precision?parseFloat(e.replace(",",".")):parseInt(e),isNaN(i)?i=null:(void 0!==this.max&&i>this.max&&(i=this.max),void 0!==this.min&&i<this.min&&(i=this.min))),i}formatValue(){if(null!=this.value){let e=String(this.value).replace(".",this.decimalSeparator);if(this.formatInput){let i=e.split(this.decimalSeparator);i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),e=i.join(this.decimalSeparator)}this.valueAsString=e}else this.valueAsString="";this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.formatValue(),this.updateFilledState(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}updateFilledState(){this.filled=void 0!==this.value&&null!=this.value}}return n.\u0275fac=function(e){return new(e||n)($(un))},n.\u0275cmp=pt({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&Jo(E_e,7),2&e){let r;qn(r=Jn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",decimalSeparator:"decimalSeparator",thousandSeparator:"thousandSeparator",tabindex:"tabindex",formatInput:"formatInput",type:"type",required:"required",name:"name",enableButtons:"enableButtons",showX:"showX",showCurrency:"showCurrency",formatOnBlur:"formatOnBlur",formatPrecision:"formatPrecision",size:"size"},features:[ti([{provide:zo,useExisting:vn(()=>n),multi:!0}])],decls:10,vars:18,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],[1,"font-weight-bold",3,"value","disabled","keydown","keyup","keypress","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["class","text currency",4,"ngIf"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup"],[1,"text","text-x"],[1,"text","currency"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ce(2,T_e,1,5,"button",2),I(),R(3,"div",3)(4,"input",4,5),Ae("keydown",function(o){return i.onInputKeydown(o)})("keyup",function(o){return i.onInputKeyup(o)})("keypress",function(o){return i.onInputKeyPress(o)})("blur",function(){return i.onInputBlur()}),I()(),ce(6,C_e,2,0,"span",6),ce(7,O_e,2,1,"span",7),R(8,"div",1),ce(9,w_e,1,5,"button",2),I()()),2&e&&(q("ngClass",i.size),N(2),q("ngIf",i.enableButtons),N(1),q("ngClass",vs(16,P_e,!i.enableButtons)),N(1),q("value",i.valueAsString)("disabled",i.disabled),oi("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),N(2),q("ngIf",i.showX),N(1),q("ngIf",i.showCurrency),N(2),q("ngIf",i.enableButtons))},directives:[Cf,Kt],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.3440127f08f179fd.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.de5c67298d5ab197.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function A_e(n,t){if(1&n){const e=Ct();R(0,"div",21),z(1),R(2,"button",22),Ae("click",function(){return dt(e),he().errorMessage=null}),R(3,"span"),z(4,"\xd7"),I()()()}if(2&n){const e=he();N(1),Me(" shared.ui-components.toastr.toastr-message.",e.errorMessage," ")}}function x_e(n,t){if(1&n){const e=Ct();Vt(0),R(1,"button",23),Ae("click",function(){const o=dt(e).$implicit;return he().activeBetsAmount=o}),z(2),I(),Ht()}if(2&n){const e=t.$implicit,i=he();N(1),ut("active",i.activeBetsAmount===e),N(1),Me(" ",e," ")}}let R_e=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0,this.errorMessage=null}closeModal(e=!1){this.showErrorMessage(null);let i=null;if(e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if(this.app.config.autoBetOptions.decreaseOrExceedStopPointReq&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");i={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(i)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}reset(){this.activeBetsAmount=null,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.showErrorMessage(null)}}return n.\u0275fac=function(e){return new(e||n)($(zr),$(un),$(wn))},n.\u0275cmp=pt({type:n,selectors:[["app-auto-play"]],decls:42,vars:50,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger","translate","",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],["translate","",1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","showCurrency","formatOnBlur","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],["translate","",1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],["translate","",1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],["translate","",1,"btn","btn-lg","btn-success","start-btn",3,"click"],["translate","",1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2,"game.bet-controls.auto-play.Auto play options"),I(),R(3,"button",2),Ae("click",function(){return i.closeModal()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4),ce(7,A_e,5,1,"div",5),R(8,"div",6)(9,"div",7)(10,"div",8)(11,"span",1),z(12,"game.bet-controls.auto-play.Number of Rounds:"),I(),R(13,"div",9),ce(14,x_e,3,3,"ng-container",10),I()(),R(15,"div",11)(16,"app-ui-switcher",12),Ae("ngModelChange",function(o){return i.decreaseStopPoint.active=o})("toggle",function(){return i.decreaseStopPoint.value=0}),I(),R(17,"span",13),z(18," game.bet-controls.auto-play.Stop if cash decreases by "),I(),R(19,"app-spinner",14),Ae("ngModelChange",function(o){return i.decreaseStopPoint.value=o}),I(),R(20,"span",15),z(21),I()(),R(22,"div",11)(23,"app-ui-switcher",12),Ae("ngModelChange",function(o){return i.increaseStopPoint.active=o})("toggle",function(){return i.increaseStopPoint.value=0}),I(),R(24,"span",13),z(25," game.bet-controls.auto-play.Stop if cash increases by "),I(),R(26,"app-spinner",14),Ae("ngModelChange",function(o){return i.increaseStopPoint.value=o}),I(),R(27,"span",15),z(28),I()(),R(29,"div",11)(30,"app-ui-switcher",12),Ae("ngModelChange",function(o){return i.exceedStopPoint.active=o})("toggle",function(){return i.exceedStopPoint.value=0}),I(),R(31,"span",16),z(32," game.bet-controls.auto-play.Stop if single win exceeds "),I(),R(33,"app-spinner",14),Ae("ngModelChange",function(o){return i.exceedStopPoint.value=o}),I(),R(34,"span",15),z(35),I()()()()(),R(36,"div",17)(37,"div",18)(38,"button",19),Ae("click",function(){return i.reset()}),z(39," game.bet-controls.auto-play.Reset "),I(),R(40,"button",20),Ae("click",function(){return i.closeModal(!0)}),z(41," game.bet-controls.auto-play.Start "),I()()()),2&e&&(N(7),q("ngIf",i.errorMessage),N(7),q("ngForOf",i.app.config.autoBetOptions.numberOfRounds),N(2),q("ngModel",i.decreaseStopPoint.active),N(1),ut("disabled",!i.decreaseStopPoint.active),N(2),ut("long-precision",i.app.isLongPrecision),q("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),N(1),ut("disabled",!i.decreaseStopPoint.active),N(1),Me(" ",i.app.config.currency," "),N(2),q("ngModel",i.increaseStopPoint.active),N(1),ut("disabled",!i.increaseStopPoint.active),N(2),ut("long-precision",i.app.isLongPrecision),q("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),N(1),ut("disabled",!i.increaseStopPoint.active),N(1),Me(" ",i.app.config.currency," "),N(2),q("ngModel",i.exceedStopPoint.active),N(1),ut("disabled",!i.exceedStopPoint.active),N(2),ut("long-precision",i.app.isLongPrecision),q("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),N(1),ut("disabled",!i.exceedStopPoint.active),N(1),Me(" ",i.app.config.currency," "))},directives:[Zn,Kt,Ci,rb,ta,As,pP],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})(),D_e=(()=>{class n{constructor(e,i,r,o){this.main=e,this.app=i,this.betControls=r,this.connector=o,this.lastDate=Date.now(),this.main.getState($i.End).pipe(Ft(()=>!!this.app.config.inactivityTimeForDisconnect),Ft(()=>!this.betControls.isBetSetted),Ft(()=>this.isInactivityTimePass())).subscribe(()=>this.connector.shutdown(ai.inactivity))}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(Ne(Yi),Ne(un),Ne(yl),Ne(bi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I_e=["winAmount"];function N_e(n,t){if(1&n){const e=Ct();R(0,"div",21),Ae("click",function(){return dt(e),he().secHandBtn.emit()}),I()}}function k_e(n,t){if(1&n){const e=Ct();R(0,"div",22),Ae("click",function(){return dt(e),he().secHandBtn.emit()}),I()}2&n&&ut("disabled",he().isSecHandCloseBtnDisabled)}function F_e(n,t){if(1&n){const e=Ct();Vt(0),R(1,"app-navigation-switcher",23),Ae("ngModelChange",function(r){return dt(e),he().activeTab=r}),I(),Ht()}if(2&n){const e=he();N(1),q("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function B_e(n,t){if(1&n){const e=Ct();R(0,"button",24),Ae("click",function(){const o=dt(e).$implicit;return he().onSetBetOpt(o)}),R(1,"span"),z(2),I()()}if(2&n){const e=t.$implicit,i=he();ut("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.app.isLongPrecision),q("disabled",i.betSaved||i.freeBetAvailable),N(2),Me(" ",i.app.isLongPrecision?e.toFixed(i.app.config.betPrecision):e," ")}}function L_e(n,t){if(1&n){const e=Ct();Vt(0),R(1,"button",25),Ae("click",function(){return dt(e),he().bet()}),R(2,"span",26)(3,"label",27),z(4),Te(5,"translate"),I(),R(6,"label",28)(7,"span"),z(8),I(),R(9,"span",29),z(10),I()()()(),Ht()}if(2&n){const e=he();N(1),ut("disabled",e.waitingForResponse),q("disabled",e.waitingForResponse),N(3),Me(" ",ke(5,6,"shared.bet")," "),N(4),Et(e.betValue.toFixed(e.app.config.betPrecision)),N(2),Me(" ",e.app.config.currency,"")}}function U_e(n,t){1&n&&(R(0,"div",32),z(1," shared.waiting_for_next_round "),I())}function G_e(n,t){if(1&n){const e=Ct();Vt(0),ce(1,U_e,2,0,"div",30),R(2,"button",31),Ae("click",function(){return dt(e),he().cancel()}),R(3,"label",27),z(4),Te(5,"translate"),I()(),Ht()}if(2&n){const e=he();N(1),q("ngIf",e.isPreBet),N(1),ut("disabled",e.waitingForResponse)("height-70",e.isPreBet),q("disabled",e.waitingForResponse),N(2),Me(" ",ke(5,7,"shared.cancel")," ")}}function j_e(n,t){if(1&n){const e=Ct();Vt(0),R(1,"button",33),Ae("click",function(){return dt(e),he().onCashOut()}),R(2,"span",26)(3,"label",34),z(4),Te(5,"translate"),I(),R(6,"label",28)(7,"span",null,35),z(9,"0"),I(),R(10,"span",29),z(11),I()()()(),Ht()}if(2&n){const e=he();N(1),ut("disabled",e.waitingForResponse||e.cashOutDisabled),q("disabled",e.waitingForResponse||e.cashOutDisabled),N(3),Me(" ",ke(5,5,"shared.cash_out")," "),N(7),Me(" ",e.app.config.currency,"")}}function V_e(n,t){if(1&n){const e=Ct();Vt(0),R(1,"label",16),z(2,"game.bet-controls.bet-control.auto bet"),I(),R(3,"app-ui-switcher",36),Ae("ngModelChange",function(r){return dt(e),he().endlessAutoBetEnabled=r})("toggle",function(){return dt(e),he().onAutoBetSwitch()}),I(),Ht()}if(2&n){const e=he();N(3),ut("disabled",e.waitingForResponse||e.freeBetAvailable),q("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function H_e(n,t){if(1&n){const e=Ct();R(0,"button",39),Ae("click",function(){return dt(e),he(2).onSetAutoPlayOptions(!0)}),z(1),Te(2,"translate"),I()}if(2&n){const e=he(2);ut("disabled",e.waitingForResponse||e.freeBetAvailable),q("disabled",e.waitingForResponse||e.freeBetAvailable),N(1),Me(" ",ke(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function Y_e(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he(3);N(1),Me(" (",e.autoBetOpt.autoBetsAmount,") ")}}function W_e(n,t){if(1&n){const e=Ct();R(0,"button",40),Ae("click",function(){return dt(e),he(2).onSetAutoPlayOptions(!1)}),z(1),Te(2,"translate"),ce(3,Y_e,2,1,"span",3),I()}if(2&n){const e=he(2);ut("disabled",e.waitingForResponse||e.freeBetAvailable),q("disabled",e.waitingForResponse||e.freeBetAvailable),N(1),Me(" ",ke(2,5,"shared.stop")," "),N(2),q("ngIf",e.autoBetOpt.autoBetsAmount)}}function z_e(n,t){if(1&n&&(Vt(0),ce(1,H_e,3,6,"button",37),ce(2,W_e,4,7,"button",38),Ht()),2&n){const e=he();N(1),q("ngIf",null===e.autoBetOpt.autoBetsAmount),N(1),q("ngIf",null!==e.autoBetOpt.autoBetsAmount)}}let ad=class{constructor(t,e,i,r,o,s,a,l,c,g,E,w,P,A,D,B,Y){this.mainService=t,this.app=e,this.connector=i,this.betService=r,this.sound=o,this.message=s,this.user=a,this.modal=l,this.freeBets=c,this.frontEndProxyService=g,this.ifc=E,this.cd=w,this.inactivityTimer=P,this.ngbModal=A,this.netSession=D,this.multiplier=B,this.minBetError=Y,this.secHandBtn=new jt,this.activeTab=sd.bet,this.betControlNavigationList=Object.values(sd),this.betValue=0,this.autoCashOutEnabled=!1,this.settedBetOpt=null,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:null,increaseBalanceStopPoint:null,decreaseBalanceStopPoint:null,exceedStopPoint:null},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.emitEvent(Si.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}ngOnInit(){this.mainService.getState($i.Bet).pipe(St(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState($i.End).pipe(St(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState($i.Run).pipe(St(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(cn.CashOut).pipe(St(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(cn.CancelBet).pipe(St(this),Ft(e=>this.isMyAction(e))).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(cn.Bet).pipe(St(this),Ft(e=>this.isMyAction(e))).subscribe(e=>this.betResponse(e)),this.multiplier.data$.pipe(St(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(St(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(St(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.command(Or.StopAutoplay).pipe(St(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:null),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=sd.auto),this.cd.detectChanges()),this.ifc.command(Or.LockUI).pipe(St(this),Ki(e=>this.isLockUI=e.value),Ft(e=>e.value)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(St(this)).subscribe(()=>this.onCancelBets())}onLockUI(){this.app.onLockUIActions===Gf.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){this.cashOutDisabled=!1,this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet&&this.betService.removeBet(this.betId),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!1===this.waitingForResponse){let e=this.betValue*t;!1===this.isBetIncluded&&(e-=this.betValue),this.winAmountRef.nativeElement.textContent=function PJ(n,t=0){return Math.floor(n*Math.pow(10,t))/Math.pow(10,t)}(e,this.app.config.betPrecision).toFixed(this.app.config.betPrecision)}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(ic.Bet),this.waitingForResponse=!0,this.connector.request(Ei.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.emitEvent(Si.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),null!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:Nf.win,params:{winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency}}),this.ifc.emitEvent(Si.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(ic.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.emitEvent(Si.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){var t;this.sound.play(ic.Bet);const e={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},i=this.freeBets.activeFreeBet;i&&(e.freeBet=!0,e.freeBetsId=i.freeBetsId),this.autoCashOutEnabled&&(e.autoCashOut=this.autoCashOutValue);const r=(null===(t=this.betService.getBets()[0])||void 0===t?void 0:t.preBet)?this.user.balance-this.betService.getBets()[0].data.bet:this.user.balance;this.app.config.isBalanceValidationEnabled&&!i&&r<this.betValue?(null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&setTimeout(()=>{this.endlessAutoBetEnabled=!1,this.cd.markForCheck()}),this.message.add({value:_y.NotEnoughBalance,context:Ss.danger})):(this.betService.setBet({betId:this.betId,preBet:!0,data:e}),this.mainService.state===$i.Bet&&this.sendBet(e))}sendBet(t){this.isLockUI&&this.app.onLockUIActions===Gf.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(Ei.Bet,t),this.ifc.emitEvent(Si.MakeBet,{id:this.betId,amount:t.bet}),this.inactivityTimer.reset())}betResponse(t){this.waitingForResponse=!1,t.code===Yu.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.emitEvent(Si.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(Ei.CancelBet,{betId:this.betId}),this.ifc.emitEvent(Si.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(ic.Bet)}cancelBetResponse(t){this.waitingForResponse=!1,200===t.code&&(this.freeBets.activeFreeBet||this.netSession.plus(this.betService.getBet(this.betId).data.bet),this.betService.removeBet(this.betId)),this.ifc.emitEvent(Si.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.emitUpdateStakeEvent(this.betId,t)}onSetAutoPlayOptions(t){t?this.ngbModal.open(R_e).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:null,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:null,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:null,this.ifc.emitEvent(Si.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=null,this.autoBetOpt.decreaseBalanceStopPoint=null,this.autoBetOpt.increaseBalanceStopPoint=null,this.autoBetOpt.exceedStopPoint=null,this.ifc.emitEvent(Si.Autoplay,{id:this.betId,value:!1})}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){return this.betService.getBet(2)&&!1===this.betService.getBet(2).preBet}get isAutoShown(){return this.activeTab===sd.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){return this.mainService.state===$i.Run&&this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||null!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||null!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){return this.betService.getBet(this.betId)&&this.betService.getBet(this.betId).preBet}get betOptions(){return this.app.isLongPrecision?this.app.config.betOptions.slice(0,2):this.app.config.betOptions}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.emitUpdateStakeEvent(this.betId,0),this.minBetError.updateStake(0,this.betId)}};ad.\u0275fac=function(t){return new(t||ad)($(Yi),$(un),$(bi),$(yl),$(lp),$(_h),$(Ya),$(Wo),$(oc),$(N0),$(rc),$(wn),$(D_e),$(nb),$(BG),$(k0),$(yb))},ad.\u0275cmp=pt({type:ad,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&Jo(I_e,5),2&t){let i;qn(i=Jn())&&(e.winAmountRef=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},decls:27,vars:50,consts:[[1,"controls"],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","showCurrency","formatOnBlur","formatPrecision","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],["translate",""],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatOnBlur","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],[1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip","translate","",4,"ngIf"],[1,"btn","btn-danger","bet",3,"disabled","click"],["translate","",1,"btn-tooltip"],[1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0),ce(1,N_e,1,0,"div",1),ce(2,k_e,1,2,"div",2),ce(3,F_e,2,4,"ng-container",3),R(4,"div",4)(5,"div",5)(6,"app-spinner",6),Ae("ngModelChange",function(r){return e.onBetValueChange(r)}),I(),R(7,"div",7),ce(8,B_e,3,6,"button",8),I()(),R(9,"div",9),ce(10,L_e,11,8,"ng-container",3),ce(11,G_e,6,9,"ng-container",3),ce(12,j_e,12,7,"ng-container",3),I()(),Pe(13,"div",10),R(14,"div",11)(15,"div",12)(16,"div",13),ce(17,V_e,4,4,"ng-container",3),ce(18,z_e,3,2,"ng-container",3),I()(),R(19,"div",14)(20,"div",15)(21,"label",16),z(22," game.bet-controls.bet-control.auto cashout "),I(),R(23,"app-ui-switcher",17),Ae("ngModelChange",function(r){return e.autoCashOutEnabled=r}),I()(),R(24,"div",18)(25,"div",19)(26,"app-spinner",20),Ae("ngModelChange",function(r){return e.autoCashOutValue=r}),I()()()()()()),2&t&&(ut("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),N(1),q("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),N(1),q("ngIf",e.secondBet&&2===e.betId),N(1),q("ngIf",e.app.isAutoBetFeatureEnabled),N(1),ut("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),N(2),ut("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),q("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("showCurrency",!1)("formatOnBlur",!0)("formatPrecision",e.app.config.betPrecision),N(2),q("ngForOf",e.betOptions),N(2),q("ngIf",e.displayBetBtn),N(1),q("ngIf",e.displayCancelBtn),N(1),q("ngIf",e.displayCashOutBtn),N(1),ut("d-none",!e.isAutoShown),N(1),ut("d-none",!e.isAutoShown),N(3),q("ngIf",!e.app.config.autoBetOptions),N(1),q("ngIf",e.app.config.autoBetOptions),N(3),ut("disabled",e.betSaved),N(2),q("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),N(2),ut("disabled",!e.autoCashOutEnabled),N(1),q("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.app.config.autoCashOut.maxValue)("formatOnBlur",!0)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[Kt,Mw,ta,As,pP,Ci,Zn,rb],pipes:[Dn],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c1d;height:100%;margin:0 auto;border:solid 1px transparent}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.165877be2653aaf8.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:url(remove.3d798769e16d6b60.svg) no-repeat}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;margin-bottom:auto;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(2){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(4){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),ad=He([vi()],ad);const $_e=["controls"];function X_e(n,t){if(1&n){const e=Ct();R(0,"app-bet-control",4),Ae("secHandBtn",function(){return dt(e),he().setSecondBet()}),I()}if(2&n){const e=he();ut("locked",e.lockBets),q("secondBet",e.user.settings.secondBet)("betId",2)}}let ld=class{constructor(t,e,i,r,o,s,a){this.mainService=t,this.cd=e,this.user=i,this.betService=r,this.app=o,this.ifc=s,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState($i.Run).pipe(St(this)).subscribe(()=>{this.onLockBets(!1),this.ifc.emitEventStartRound(this.betService.getBets())}),this.mainService.event(bm.onLockBets).pipe(St(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(St(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}};ld.\u0275fac=function(t){return new(t||ld)($(Yi),$(wn),$(Ya),$(yl),$(un),$(rc),$(L_))},ld.\u0275cmp=pt({type:ld,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&Jo($_e,7),2&t){let i;qn(i=Jn())&&(e.controlsRef=i.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(R(0,"div",0,1)(2,"app-bet-control",2),Ae("secHandBtn",function(){return e.setSecondBet()}),I(),ce(3,X_e,1,4,"app-bet-control",3),I()),2&t&&(ut("controls-wrap",e.controlsWrap),N(2),ut("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),q("betId",1)("secondBet",e.user.settings.secondBet),N(1),q("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[ad,Kt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),ld=He([vi()],ld);let K_e=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)($(za),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Pe(2,"div",2),R(3,"span"),z(4),Te(5,"async"),I()(),R(6,"div",3)(7,"button",4),Ae("click",function(){return i.chatService.isOpen=!1}),R(8,"span",5),z(9,"\xd7"),I()()()()),2&e&&(N(4),Et(ke(5,1,i.mainService.onlinePlayers$)))},pipes:[Lc],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:38px;position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.f62b9233d6078bd1.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.1ea37fb099b65e33.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.8535033e8a8651ee.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.0912216e64ccd16f.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.d6117b6d962d0f22.svg)}"]}),n})();var Lb=(()=>(function(n){n.reply="reply",n.translate="translate"}(Lb||(Lb={})),Lb))(),Em=(()=>(function(n){n.header="header"}(Em||(Em={})),Em))(),Sm=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(Sm||(Sm={})),Sm))(),cd=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(cd||(cd={})),cd))();function q_e(n,t){if(1&n&&(R(0,"span",7),z(1),I()),2&n){const e=he();N(1),Me(" ",e.app.getFormattedUsername(e.banInfo.playerName)," ")}}function J_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.you "),I())}function Q_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.has been "),I())}function Z_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.have been "),I())}function eme(n,t){1&n&&(R(0,"span",8),z(1," game.chat-widget.chat-message.chat-message-ban.banned-other "),I())}function tme(n,t){1&n&&(R(0,"span",8),z(1," game.chat-widget.chat-message.chat-message-ban.banned-me "),I())}function nme(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.day"),I()()),2&n){const e=he();N(2),Et(e.day)}}function ime(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.hour"),I()()),2&n){const e=he();N(2),Et(e.hour)}}function rme(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.min"),I()()),2&n){const e=he();N(2),Et(e.min)}}function ome(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.sec"),I()()),2&n){const e=he();N(2),Et(e.sec)}}function sme(n,t){if(1&n&&(R(0,"span",5),z(1),I()),2&n){const e=he();N(1),Me(" game.chat-widget.chat-message.chat-message-ban.",e.banInfo.reason," ")}}function ame(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he();N(1),Et(e.banInfo.reason)}}let lme=(()=>{class n{constructor(e){this.app=e,this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.chatBanEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!o,this.isShownSec=!!s,this.day=i,this.hour=r,this.min=o,this.sec=s}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)($(un))},n.\u0275cmp=pt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:18,vars:12,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],["translate","",4,"ngIf"],["class","font-weight-bold","translate","",4,"ngIf"],["translate",""],[4,"ngIf"],[1,"player-name"],["translate","",1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ce(2,q_e,2,1,"span",2),ce(3,J_e,2,0,"span",3),ce(4,Q_e,2,0,"span",3),ce(5,Z_e,2,0,"span",3),ce(6,eme,2,0,"span",4),ce(7,tme,2,0,"span",4),R(8,"span",5),z(9," game.chat-widget.chat-message.chat-message-ban.from chat for "),I(),ce(10,nme,5,1,"span",6),ce(11,ime,5,1,"span",6),ce(12,rme,5,1,"span",6),ce(13,ome,5,1,"span",6),R(14,"span",5),z(15,"game.chat-widget.chat-message.chat-message-ban.reason"),I(),ce(16,sme,2,1,"span",3),ce(17,ame,2,1,"span",6),I()()),2&e&&(N(2),q("ngIf",i.banInfo.playerName),N(1),q("ngIf",i.banInfo.isMyResponse),N(1),q("ngIf",i.banInfo.playerName),N(1),q("ngIf",i.banInfo.isMyResponse),N(1),q("ngIf",i.banInfo.playerName),N(1),q("ngIf",i.banInfo.isMyResponse),N(3),q("ngIf",i.isShownDay),N(1),q("ngIf",i.isShownHour),N(1),q("ngIf",i.isShownMin),N(1),q("ngIf",i.isShownSec),N(3),q("ngIf",!i.isReasonOther),N(1),q("ngIf",i.isReasonOther))},directives:[Kt,Zn],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"]}),n})();const cme=["(\\[b\\]@\\w+\\[\\/b\\])"],ume=["(\\[b\\])","(\\[\\/b\\])"],dme={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function LG(n){return new RegExp(n.join("|"),"g")}function fme(n,t){1&n&&(R(0,"span",4),z(1," Mod "),I())}function pme(n,t){1&n&&(R(0,"span",5),z(1," Bot "),I())}let gme=(()=>{class n{constructor(e,i){this.chat=e,this.app=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===cd.moderator}get isBotMessageType(){return this.senderType===cd.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.app.getFormattedUsername(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)($(za),$(un))},n.\u0275cmp=pt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Ae("click",function(){return i.tagUser()}),z(2),I(),ce(3,fme,2,0,"span",2),ce(4,pme,2,0,"span",3),I()),2&e&&(N(2),Et(i.username),N(1),q("ngIf",i.isModeratorMessageType),N(1),q("ngIf",i.isBotMessageType))},directives:[Kt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"]}),n})();function _me(n,t){if(1&n&&(R(0,"span",7),z(1),I()),2&n){const e=he().$implicit;ut("reply-me",e.isReplyForMe),N(1),Me(" ",e.str," ")}}function mme(n,t){1&n&&Pe(0,"span",8),2&n&&q("translate","game.chat-widget.chat-message."+he().$implicit.str)}function vme(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he().$implicit;N(1),Et(e.str)}}function yme(n,t){if(1&n&&(Vt(0)(1,3),ce(2,_me,2,3,"span",4),ce(3,mme,1,1,"span",5),ce(4,vme,2,1,"span",6),Ht()()),2&n){const e=t.$implicit,i=he();N(1),q("ngSwitch",e.type),N(1),q("ngSwitchCase",i.chatMessageChunkTypes.reply),N(1),q("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let bme=(()=>{class n{constructor(){this.chatMessageChunkTypes=Lb,this.chatMessageSenderTypes=cd,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(LG(cme)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(LG(ume),""):e}getChunkTypeMessage(e){return function hme(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isBotMessageType&&dme.hasOwnProperty(e)||this.messageType===Sm.rain?this.chatMessageChunkTypes.translate:""}get isBotMessageType(){return this.senderType===this.chatMessageSenderTypes.bot}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName",messageType:"messageType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(R(0,"span",0),Pe(1,"app-chat-message-name",1),ce(2,yme,5,3,"ng-container",2),I()),2&e&&(N(1),q("senderType",i.senderType)("playerName",i.playerName),N(1),q("ngForOf",i.messageChunks))},directives:[gme,Ci,sl,Bc,Zn,jg],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"]}),n})();const Eme=["likeButton"];function Sme(n,t){if(1&n&&(R(0,"div",3),z(1),I()),2&n){const e=he();N(1),Me(" ",e.usersLikesNumber," ")}}let ud=class{constructor(t,e){this.cd=t,this.connector=e,this.loading=!1}ngOnInit(){this.connector.response(cn.Like,200).pipe(Ft(t=>this.messageId===t.messageId),St(this),Ki(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(Ei.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function Tme(n,t){if(1&n&&(Vt(0),R(1,"div",3)(2,"div",4),Pe(3,"img",5),I(),R(4,"div",6)(5,"div",7),Pe(6,"app-chat-message-text",8),I()(),R(7,"div",9),Pe(8,"app-chat-message-likes",10),I()(),Ht()),2&n){const e=he();N(3),q("src",e.getAvatar(e.message),Ui)("alt",e.getAvatar(e.message)),N(3),q("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),N(2),q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function Cme(n,t){if(1&n&&(Vt(0),R(1,"div",3)(2,"div",4),Pe(3,"img",5),I(),R(4,"div",11)(5,"div",7),Pe(6,"app-chat-message-text",8),I()(),R(7,"div",9),Pe(8,"app-chat-message-likes",10),I()(),Ht()),2&n){const e=he();N(3),q("src",e.getAvatar(e.message),Ui)("alt",e.getAvatar(e.message)),N(3),q("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),N(2),q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}ud.\u0275fac=function(t){return new(t||ud)($(wn),$(bi))},ud.\u0275cmp=pt({type:ud,selectors:[["app-chat-message-likes"]],viewQuery:function(t,e){if(1&t&&Jo(Eme,7),2&t){let i;qn(i=Jn())&&(e.likeButtonRef=i.first)}},inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),ce(1,Sme,2,1,"div",1),R(2,"div",2),Ae("click",function(){return e.onLike()}),I()()),2&t&&(N(1),q("ngIf",e.hasLikes),N(1),ut("active",e.isActiveMeLike))},directives:[Kt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.bce1e56708107e40.svg);--urlImgLikeH: url(like-h.c93fa2bd77581a8c.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"]}),ud=He([vi()],ud);let Ome=(()=>{class n{constructor(){this.chatMessageRegularTypes=Em}getAvatar(e){return zi_avatarPath+e.profileImage+`?v=${zi_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(Vt(0,0),ce(1,Tme,9,9,"ng-container",1),ce(2,Cme,9,9,"ng-container",2),Ht()),2&e&&(q("ngSwitch",i.type),N(1),q("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[sl,Bc,bme,ud,jg],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"]}),n})(),UG=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Kr({name:"hideCurrency",type:n,pure:!0}),n})(),Mme=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)($(un),$(Yi))},n.\u0275cmp=pt({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:34,vars:28,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Ae("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),I()(),R(3,"div",3),Pe(4,"img",4),R(5,"div"),z(6),I()(),R(7,"div",5)(8,"div",6)(9,"div",7),z(10),Te(11,"translate"),I(),R(12,"div",8),z(13),I()(),R(14,"div",6)(15,"div",7),z(16),Te(17,"translate"),Te(18,"hideCurrency"),I(),R(19,"div",9),z(20),I()()(),R(21,"div",5)(22,"div",6)(23,"div",7),z(24),Te(25,"translate"),I(),R(26,"div",9),z(27),I()(),R(28,"div",6)(29,"div",7),z(30),Te(31,"translate"),Te(32,"hideCurrency"),I(),Pe(33,"app-bet-amount",10),I()()()),2&e&&(N(4),q("src",i.app.getAvatarUrl(i.winInfo.profileImage),Ui)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),N(2),Me(" ",i.app.getFormattedUsername(i.winInfo.playerName)," "),N(4),Me("",ke(11,14,"shared.cashed_out"),":"),N(3),Me(" ",i.winInfo.multiplier.toFixed(2),"x "),N(3),Gi(" ",ke(17,16,"shared.win"),", ",an(18,18,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),N(4),Me(" ",i.winInfo.winAmount.toFixed(i.app.config.betPrecision)," "),N(4),Me("",ke(25,21,"shared.round"),":"),N(3),Me("",i.winInfo.roundMaxMultiplier.toFixed(2),"x"),N(3),Gi(" ",ke(31,23,"shared.bet"),", ",an(32,25,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),N(3),q("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[F5,ib],pipes:[Dn,UG],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"]}),n})();var Ub=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(Ub||(Ub={})),Ub))();function wme(n,t){if(1&n&&(Vt(0),R(1,"div",11),Pe(2,"img",12),R(3,"div",13),z(4),I()(),Ht()),2&n){const e=he().$implicit,i=he();N(2),q("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),Ui)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),N(1),ut("me",i.rainInfo.rainWinnerInfo[e].isMe),N(1),Me(" ",i.app.getFormattedUsername(i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function Pme(n,t){if(1&n){const e=Ct();Vt(0),R(1,"button",14),Ae("click",function(){dt(e);const r=he().$implicit,o=he();return o.onClaimRain({rainWinnerId:o.rainInfo.rainWinnerInfo[r].rainWinnerId,rainId:o.rainInfo.rainId})}),z(2),Te(3,"translate"),I(),Ht()}if(2&n){const e=he(2);N(1),q("disabled",!e.rainInfo.isCanClaim),N(1),Me(" ",ke(3,2,"shared.claim")," ")}}function Ame(n,t){1&n&&(Vt(0),R(1,"button",15),z(2),Te(3,"translate"),I(),Ht()),2&n&&(N(1),q("disabled",!0),N(1),Me(" ",ke(3,2,"shared.claim")," "))}function xme(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),z(3),Te(4,"hideCurrency"),I()(),Vt(5,9),ce(6,wme,5,5,"ng-container",10),ce(7,Pme,4,4,"ng-container",10),ce(8,Ame,4,4,"ng-container",10),Ht(),I()),2&n){const e=t.$implicit,i=he();N(3),Gi(" ",i.rainInfo.rainAmountPerUser.toFixed(i.app.config.betPrecision)," ",an(4,6,i.rainInfo.currency,i.app.config.isCurrencyNameHidden)," "),N(2),q("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),N(1),q("ngSwitchCase",i.rainNodeStatus.Claimed),N(1),q("ngSwitchCase",i.rainNodeStatus.Free),N(1),q("ngSwitchCase",i.rainNodeStatus.Canceled)}}let hd=class{constructor(t,e,i,r,o){this.connector=t,this.captcha=e,this.cd=i,this.freeBets=r,this.app=o,this.objectKeys=Object.keys,this.rainNodeStatus=Ub}ngOnInit(){this.connector.response(cn.ClaimRainWin).pipe(Ft(t=>t.rainId===this.rainInfo.rainId),St(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(Ei.ClaimRainWin,t)}):this.connector.request(Ei.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}};function Rme(n,t){if(1&n&&(Vt(0),R(1,"div",3),Pe(2,"app-chat-message-ban",4),I(),Ht()),2&n){const e=he();N(2),q("banInfo",e.message.banInfo)}}hd.\u0275fac=function(t){return new(t||hd)($(bi),$(DL),$(wn),$(oc),$(un))},hd.\u0275cmp=pt({type:hd,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:13,vars:12,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),ce(3,xme,9,9,"div",3),I()(),R(4,"div",4)(5,"div",5)(6,"span"),z(7),Te(8,"translate"),Te(9,"translate"),I(),R(10,"span",6),z(11),Te(12,"hideCurrency"),I()()()()),2&t&&(N(3),q("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),N(4),Gi(" ",ke(8,5,"shared.rain")," \u{1f327} | ",ke(9,7,"shared.total")," "),N(4),Gi(" ",e.rainInfo.rainFullAmount.toFixed(e.app.config.betPrecision)," ",an(12,9,e.rainInfo.currency,e.app.config.isCurrencyNameHidden)," "))},directives:[Ci,sl,Bc],pipes:[UG,Dn],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"]}),hd=He([vi()],hd);const Dme=function(n,t,e){return{low:n,medium:t,high:e}};function Ime(n,t){if(1&n&&(Vt(0),R(1,"div",5)(2,"div",6),Pe(3,"app-chat-message-regular",7),I(),Pe(4,"app-chat-share-bet",8),I(),Ht()),2&n){const e=he();N(1),q("ngClass",Lv(4,Dme,e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),N(2),q("type",e.chatMessageRegularTypes.header)("message",e.message),N(1),q("winInfo",e.message.winInfo)}}function Nme(n,t){if(1&n&&(Vt(0),R(1,"div",9)(2,"div",6),Pe(3,"app-chat-message-regular",7),I(),Pe(4,"app-chat-rain",10),I(),Ht()),2&n){const e=he();N(3),q("type",e.chatMessageRegularTypes.header)("message",e.message),N(1),q("rainInfo",e.message.rainInfo)}}const kme=function(n,t){return{width:n,height:t}};function Fme(n,t){if(1&n&&(Vt(0),R(1,"div",11)(2,"div"),Pe(3,"app-chat-message-regular",7),I(),R(4,"div",12)(5,"div",13),Pe(6,"img",14),I()()(),Ht()),2&n){const e=he();N(3),q("type",e.chatMessageRegularTypes.header)("message",e.message),N(2),q("ngStyle",xa(4,kme,e.gifWidth+"px",e.gifHeight+"px")),N(1),q("src",e.gifInfo.url,Ui)}}function Bme(n,t){if(1&n&&(Vt(0),R(1,"div",3),Pe(2,"app-chat-message-regular",15),I(),Ht()),2&n){const e=he();N(2),q("message",e.message)}}let Lme=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=Sm,this.chatMessageRegularTypes=Em,this.chatMessageSenderTypes=cd,this.multiplierLevel=vh}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(Vt(0,0),ce(1,Rme,3,1,"ng-container",1),ce(2,Ime,5,8,"ng-container",1),ce(3,Nme,5,3,"ng-container",1),ce(4,Fme,7,7,"ng-container",1),ce(5,Bme,3,1,"ng-container",2),Ht()),2&e&&(q("ngSwitch",i.message.messageType),N(1),q("ngSwitchCase",i.chatMessageTypes.ban),N(1),q("ngSwitchCase",i.chatMessageTypes.winInfo),N(1),q("ngSwitchCase",i.chatMessageTypes.rain),N(1),q("ngSwitchCase",i.chatMessageTypes.gif))},directives:[sl,Bc,lme,Cf,Ome,Mme,hd,Vg,jg],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var bu=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(bu||(bu={})),bu))();const dd=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var kp=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(kp||(kp={})),kp))();const Ume=["*"];let gP=(()=>{class n{constructor(){this.chatInputTools=bu,this.closeTool=new jt}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:Ume,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(Sg(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),z(5),Te(6,"translate"),I(),R(7,"button",5),Ae("click",function(){return i.onCloseTool()}),R(8,"span",6),z(9,"\xd7"),I()()(),R(10,"div",7),Tg(11),I()()()()),2&e&&(N(1),ut("rain",i.title===i.chatInputTools.rain),N(4),Me(" ",ke(6,3,"shared."+i.title)," "))},pipes:[Dn],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;right:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),n})();function Gme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function jme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function Vme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function Hme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function Yme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function Wme(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function zme(n,t){if(1&n&&(Vt(0),R(1,"div",6),z(2," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites "),I(),R(3,"div",7),ce(4,Gme,2,2,"span",8),I(),R(5,"div",9),z(6," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people "),I(),R(7,"div",7),ce(8,jme,2,2,"span",8),I(),R(9,"div",9),z(10," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature "),I(),R(11,"div",7),ce(12,Vme,2,2,"span",8),I(),R(13,"div",9),z(14," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects "),I(),R(15,"div",7),ce(16,Hme,2,2,"span",8),I(),R(17,"div",9),z(18," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places "),I(),R(19,"div",7),ce(20,Yme,2,2,"span",8),I(),R(21,"div",9),z(22," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols "),I(),R(23,"div",7),ce(24,Wme,2,2,"span",8),I(),Ht()),2&n){const e=he();N(4),q("ngForOf",e.emojiFriquentlyUsed),N(4),q("ngForOf",e.emojiPeople),N(4),q("ngForOf",e.emojiNature),N(4),q("ngForOf",e.emojiObjects),N(4),q("ngForOf",e.emojiPlaces),N(4),q("ngForOf",e.emojiSymbols)}}function $me(n,t){if(1&n){const e=Ct();R(0,"span",10),Ae("click",function(){const o=dt(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;q("title",e.title),N(1),Me(" ",e.pic," ")}}function Xme(n,t){if(1&n&&(Vt(0),R(1,"div",7),ce(2,$me,2,2,"span",8),I(),Ht()),2&n){const e=he();N(2),q("ngForOf",e.searchList)}}let Kme=(()=>{class n{constructor(){this.finish=new jt,this.chatInputToolWrapperTitles=kp,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=dd.slice(9),this.emojiFriquentlyUsed=dd.slice(0,9),this.emojiPeople=dd.slice(9,150),this.emojiNature=dd.slice(150,226),this.emojiObjects=dd.slice(226,309),this.emojiPlaces=dd.slice(309,335),this.emojiSymbols=dd.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],["translate",""],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],["translate","",1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Ae("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),Te(4,"translate"),I()()(),R(5,"div",4),ce(6,zme,25,6,"ng-container",5),ce(7,Xme,3,1,"ng-container",5),I()()),2&e&&(q("title",i.chatInputToolWrapperTitles.emoji),N(3),pf("placeholder",ke(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),q("ngModel",i.searchText)("maxlength",20),N(3),q("ngIf",!i.isShownSearchList),N(1),q("ngIf",i.isShownSearchList))},directives:[gP,bh,z0,ta,As,$0,Kt,Zn,Ci],pipes:[Dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"]}),n})(),qme=(()=>{class n{constructor(e){this.app=e,this.chatInputToolWrapperTitles=kp,this.amountPerUser=.5,this.finish=new jt}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return(this.amountPerUser*this.numberOfUsers).toFixed(this.app.config.betPrecision)}onRain(){const e=`/rain:${this.amountPerUser.toFixed(this.app.config.betPrecision)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)($(un))},n.\u0275cmp=pt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:34,vars:24,consts:[[3,"title","closeTool"],[1,"content"],["translate","",1,"description"],[1,"input-wrapper"],[1,"mt-3"],["translate",""],[1,"currency"],[1,"input-spinner"],[3,"formatOnBlur","formatPrecision","ngModel","step","min","max","ngModelChange"],["translate","",1,"mt-2"],[3,"step","formatPrecision","formatOnBlur","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),z(3," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description "),I(),R(4,"div",3)(5,"div",4)(6,"span",5),z(7," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player "),I(),R(8,"span",6),z(9),I()(),R(10,"div",7)(11,"app-spinner",8),Ae("ngModelChange",function(o){return i.amountPerUser=o}),I()(),R(12,"div",9),z(13," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players "),I(),R(14,"div",7)(15,"app-spinner",10),Ae("ngModelChange",function(o){return i.numberOfUsers=o}),I()()(),R(16,"div",11)(17,"div")(18,"span"),z(19),Te(20,"translate"),I(),R(21,"span",6),z(22),I()()(),R(23,"div",12),z(24),I(),R(25,"div",13)(26,"button",14),Ae("click",function(){return i.onRain()}),R(27,"span",15),z(28),Te(29,"translate"),I(),R(30,"span"),z(31),I(),R(32,"span"),z(33),I()()()()()),2&e&&(q("title",i.chatInputToolWrapperTitles.rain),N(9),Et(i.app.config.currency),N(2),q("formatOnBlur",!0)("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),N(4),q("step",1)("formatPrecision",0)("formatOnBlur",!0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),N(4),Me("",ke(20,20,"shared.total"),","),N(3),Me(" ",i.app.config.currency,""),N(2),Me(" ",i.totalAmount," "),N(4),Et(ke(29,22,"shared.rain")),N(3),Me(" ",i.totalAmount,""),N(2),Me(" ",i.app.config.currency,""))},directives:[gP,Zn,pP,ta,As],pipes:[Dn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"]}),n})();const GG=function(n){return{background:n}};function Qme(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",9),Ae("click",function(){const o=dt(e).$implicit;return he(2).shareGif(o.id)}),I()()}if(2&n){const e=t.$implicit;N(1),q("ngStyle",vs(1,GG,"url("+e.url+") center center/cover"))}}function Zme(n,t){if(1&n&&(Vt(0),ce(1,Qme,2,3,"div",7),Ht()),2&n){const e=he();N(1),q("ngForOf",e.chatService.top10Gifs)}}function eve(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",9),Ae("click",function(){const o=dt(e).$implicit;return he(3).shareGif(o.id)}),I()()}if(2&n){const e=t.$implicit;N(1),q("ngStyle",vs(1,GG,"url("+e.url+") center center/cover"))}}function tve(n,t){if(1&n&&(Vt(0),ce(1,eve,2,3,"div",7),Ht()),2&n){const e=he(2);N(1),q("ngForOf",e.searchList)}}function nve(n,t){1&n&&(R(0,"div",11),Pe(1,"app-loader"),I())}function ive(n,t){if(1&n&&(Vt(0),ce(1,tve,2,1,"ng-container",6),ce(2,nve,2,0,"div",10),Ht()),2&n){const e=he();N(1),q("ngIf",e.searchList&&e.searchList.length),N(1),q("ngIf",!(e.searchList&&e.searchList.length))}}let fd=class{constructor(t,e,i){this.connector=t,this.cd=e,this.chatService=i,this.finish=new jt,this.searchInput=new Le,this.chatInputToolWrapperTitles=kp,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(cn.SearchGifs).pipe(St(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=yk(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(function Jme(n,t=Qg){return je((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,g=t.now();if(g<c)return r=this.schedule(void 0,c-g),void i.add(r);a()}e.subscribe(ie(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(1e3),hp(),St(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(Ei.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};fd.\u0275fac=function(t){return new(t||fd)($(bi),$(wn),$(za))},fd.\u0275cmp=pt({type:fd,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),Pe(3,"div",3),R(4,"textarea",4),Ae("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),Te(5,"translate"),I()()(),R(6,"div",5),ce(7,Zme,2,1,"ng-container",6),ce(8,ive,3,2,"ng-container",6),I()()),2&t&&(q("title",e.chatInputToolWrapperTitles.gif),N(4),pf("placeholder",ke(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),q("ngModel",e.searchText)("maxlength",20),N(3),q("ngIf",!e.isShownSearchList),N(1),q("ngIf",e.isShownSearchList))},directives:[gP,bh,z0,ta,As,$0,Kt,Ci,Vg,wh],pipes:[Dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"]}),fd=He([vi()],fd);const rve=["input"];function ove(n,t){if(1&n){const e=Ct();R(0,"div",11),Ae("click",function(){dt(e);const r=he();return r.showToolModal(r.chatInputTools.emoji)}),I()}}function sve(n,t){if(1&n){const e=Ct();R(0,"div",12),Ae("click",function(){dt(e);const r=he();return r.showToolModal(r.chatInputTools.gif)}),I()}}function ave(n,t){if(1&n){const e=Ct();R(0,"div",13),Ae("click",function(){dt(e);const r=he();return r.showToolModal(r.chatInputTools.rain)}),Pe(1,"div",14),R(2,"div",15),z(3,"shared.rain"),I()()}}function lve(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-emoji",16),Ae("finish",function(r){return dt(e),he().onCloseToolModal(r,"emoji")}),I()}}function cve(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-rain",16),Ae("finish",function(r){return dt(e),he().onCloseToolModal(r,"rain")}),I()}}function uve(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-gif",16),Ae("finish",function(r){return dt(e),he().onCloseToolModal(r,"gif")}),I()}}function hve(n,t){if(1&n){const e=Ct();R(0,"div",17)(1,"div",18)(2,"div",19),Ae("animationend",function(){return dt(e),he().onWaitEnd()}),I()(),R(3,"p",20),z(4,"game.chat-widget.chat-input.please wait"),I()()}if(2&n){const e=he();N(2),Dc("animation-duration",e.app.config.chat.sendMessageDelay,"ms")}}let pd=class{constructor(t,e,i,r,o){this.chatService=t,this.app=e,this.mainService=i,this.cd=r,this.connector=o,this.message="",this.wait=!1,this.chatInputTools=bu,this.toolModal=null}ngOnInit(){this.value="",Vi(this.inputRef.nativeElement,"input").pipe(Wa(50),St(this)).subscribe(()=>{this.cd.detectChanges()}),Vi(this.inputRef.nativeElement,"keydown").pipe(Ft(t=>13===t.which),St(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(St(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function dve(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(Ei.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===bu.emoji}get isRainShown(){return this.toolModal===bu.rain}get isGifShown(){return this.toolModal===bu.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};pd.\u0275fac=function(t){return new(t||pd)($(za),$(un),$(Yi),$(wn),$(bi))},pd.\u0275cmp=pt({type:pd,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Jo(rve,7),2&t){let i;qn(i=Jn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],["translate","",1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"],["translate",""]],template:function(t,e){1&t&&(R(0,"div",0),Pe(1,"textarea",1,2),Te(3,"translate"),R(4,"div",3),ce(5,ove,1,0,"div",4),ce(6,sve,1,0,"div",5),ce(7,ave,4,0,"div",6),R(8,"div",7),z(9),I()(),R(10,"button",8),Ae("click",function(){return e.onClickSend()}),I(),ce(11,lve,1,0,"app-chat-input-tool-emoji",9),ce(12,cve,1,0,"app-chat-input-tool-rain",9),ce(13,uve,1,0,"app-chat-input-tool-gif",9),ce(14,hve,5,2,"div",10),I()),2&t&&(N(1),pf("placeholder",ke(3,11,"shared.reply")),oi("maxlength",e.app.config.chat.maxMessageLength),N(4),q("ngIf",e.app.isDesktop),N(1),q("ngIf",e.app.config.chat.isGifsEnabled),N(1),q("ngIf",e.app.config.chat.rain.isEnabled),N(2),Et(e.leftLength),N(1),q("disabled",!e.isValid),N(1),q("ngIf",e.isEmojiShown),N(1),q("ngIf",e.isRainShown),N(1),q("ngIf",e.isGifShown),N(1),q("ngIf",e.wait))},directives:[Kt,Zn,Kme,qme,fd],pipes:[Dn],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.61b61a0d20c01820.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.287177b586f9403b.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.a404393bc863f822.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.8389ecc5920019db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.aa4937bd9df8c5d2.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.3c852ab3a33c94b6.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.4543428ce422345d.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);-webkit-animation:chat-input-loading;animation:chat-input-loading;-webkit-animation-timing-function:linear;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@-webkit-keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),pd=He([vi()],pd);const fve=["container"];function pve(n,t){1&n&&Pe(0,"app-chat-message",5),2&n&&q("message",t.$implicit)}function gve(n,t){if(1&n){const e=Ct();R(0,"div",6),Ae("click",function(){return dt(e),he().onScrollToBottom()}),z(1," game.chat-widget.New messages "),Pe(2,"span",7),I()}}let gd=class{constructor(t,e,i,r,o,s){this.connector=t,this.app=e,this.zone=i,this.chat=r,this.messageService=o,this.cd=s,this.newMessagesAdded=!1}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(cn.AddChatMessage,200).pipe(St(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(cn.AddChatMessages,200).pipe(St(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(cn.DeleteChatMessage,200).pipe(St(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chat.isOpen$.pipe(Ft(t=>!0===t),St(this)).subscribe(()=>this.scrollToBottom()),Vi(document.fonts,"loadingdone").pipe(St(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100)}onReceiveMessage(t){this.chat.messages.push(t.message),this.chat.messages.length>this.app.config.chat.maxMessages&&this.chat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:5e3,context:Ss.success,callback:()=>{setTimeout(()=>{this.chat.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.chat.messages.push(...t.messages),this.chat.messages=this.chat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.chat.messages=this.chat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return this.scrollNativeElement.scrollHeight-this.scrollNativeElement.scrollTop===this.scrollNativeElement.clientHeight}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function _ve(n,t){if(1&n&&(R(0,"div",13),Pe(1,"app-engagement-tool",14),I()),2&n){const e=he();N(1),q("engagementTools",e.app.config.engagementTools)("gameIdentifier",e.gameIdentifier)}}function mve(n,t){1&n&&Pe(0,"app-free-bet")}function vve(n,t){1&n&&Pe(0,"app-chat-widget")}gd.\u0275fac=function(t){return new(t||gd)($(bi),$(un),$(Mn),$(za),$(_h),$(wn))},gd.\u0275cmp=pt({type:gd,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&Jo(fve,7),2&t){let i;qn(i=Jn())&&(e.containerRef=i.first)}},decls:7,vars:2,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf"],["class","notification","translate","",3,"click",4,"ngIf"],[3,"message"],["translate","",1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(R(0,"div",0),Pe(1,"app-chat-header"),R(2,"div",1,2),ce(4,pve,1,1,"app-chat-message",3),I(),Pe(5,"app-chat-input"),ce(6,gve,3,0,"div",4),I()),2&t&&(N(4),q("ngForOf",e.chat.messages),N(2),q("ngIf",e.newMessagesAdded))},directives:[K_e,Ci,Lme,pd,Kt,Zn],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:38px;z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.f617bc9716ca6276.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),gd=He([vi()],gd);let _d=class{constructor(t,e,i,r,o,s,a,l,c,g,E){this.chat=t,this.freeBets=e,this.app=i,this.window=r,this.renderer=o,this.ifc=s,this.connector=a,this.modal=l,this.betControls=c,this.main=g,this.cd=E,this.gameIdentifier="AVIATOR",this.isOpenChat=!1}ngOnInit(){this.chat.isOpen$.pipe(St(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(St(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.command(Or.UpdateBalance).pipe(St(this)).subscribe(()=>this.connector.request(Ei.UpdateBalance,null)),this.ifc.command(Or.ContinueInternalRealityCheck).pipe(St(this)).subscribe(()=>this.sendNotificationCallback(Rh.Continue)),this.ifc.command(Or.StopInternalRealityCheck).pipe(St(this)).subscribe(()=>this.sendNotificationCallback(Rh.Stop)),this.connector.response(cn.InternalRealityCheck).pipe(St(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted.pipe(St(this),Ft(()=>this.app.config.isActiveGameFocused)).subscribe(t=>this.onBetSetted(t)),this.main.getState($i.Bet).pipe(St(this)).subscribe(()=>this.ifc.emitEvent(Si.StartBetTimer)),this.main.getState($i.End).pipe(St(this)).subscribe(()=>this.ifc.emitEvent(Si.EndRound)),this.showInitModals(),this.app.setGameInited()}sendNotificationCallback(t){this.connector.request(Ei.NotificationCallback,{notificationType:K_.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<sc.lg||this.window.getSize().width>=sc.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.emitEvent(Si.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(jn.notification,{type:$l.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){!this.app.isGameInited&&this.app.config.isAlderneyModalShownOnInit&&this.modal.open(jn.notification,{type:$l.Alderney})}};function yve(n,t){if(1&n&&(Vt(0),R(1,"h4",5),z(2),I(),R(3,"p",6),z(4),I(),Ht()),2&n){const e=he(2);N(2),Et(e.message.heading),N(2),Me(" shared.ui-components.toastr.toastr-message.",e.message.value," ")}}function bve(n,t){if(1&n&&(R(0,"p",9),z(1),I()),2&n){const e=he(3);N(1),Me(" ",e.getTranslation(e.message.value,e.message.errorMessageParams)," ")}}function Eve(n,t){if(1&n){const e=Ct();R(0,"p",10),Ae("click",function(r){return dt(e),he(3).onMessageClick(r)}),z(1),I()}if(2&n){const e=he(3);N(1),Me(" ",e.getTranslation(e.message.value)," ")}}function Sve(n,t){if(1&n&&(Vt(0),ce(1,bve,2,1,"p",7),ce(2,Eve,2,1,"p",8),Ht()),2&n){const e=he(2);N(1),q("ngIf",!e.message.callback),N(1),q("ngIf",e.message.callback)}}function Tve(n,t){if(1&n){const e=Ct();R(0,"button",11),Ae("click",function(r){return dt(e),he(2).onCloseIconClick(r)}),R(1,"span"),z(2,"\xd7"),I()()}}function Cve(n,t){if(1&n){const e=Ct();R(0,"div",2),Ae("mouseenter",function(){return dt(e),he().onMouseEnter()})("mouseleave",function(){return dt(e),he().onMouseLeave()}),ce(1,yve,5,2,"ng-container",3),ce(2,Sve,3,2,"ng-container",3),ce(3,Tve,3,0,"button",4),I()}if(2&n){const e=he();ut("alert-dismissible",e.isClosable),q("@messageState",void 0)("ngClass",e.context),N(1),q("ngIf",e.message.heading),N(1),q("ngIf",!e.message.heading),N(1),q("ngIf",e.isClosable)}}function Ove(n,t){if(1&n){const e=Ct();R(0,"div",12),Ae("mouseenter",function(){return dt(e),he().onMouseEnter()})("mouseleave",function(){return dt(e),he().onMouseLeave()}),R(1,"div",13)(2,"div",14),z(3," shared.ui-components.toastr.toastr-message.You have cashed out! "),I(),R(4,"div",15),z(5),Te(6,"number"),I()(),R(7,"div",16)(8,"div",17)(9,"span",6),z(10,"shared.win"),I(),R(11,"span",18),z(12),I()(),R(13,"div",15)(14,"span"),z(15),I()()(),R(16,"button",11),Ae("click",function(r){return dt(e),he().onCloseIconClick(r)}),R(17,"span"),z(18,"\xd7"),I()()()}if(2&n){const e=he();ut("celebrated",e.isWinCelebrated),q("@messageState",void 0),N(5),Me(" ",an(6,8,e.message.params.multiplier,"1.2-2"),"x "),N(2),ut("celebrated",e.isWinCelebrated),N(5),Me(" ",e.message.params.currency,""),N(3),Et(e.message.params.winAmount.toFixed(e.precision))}}function Mve(n,t){}_d.\u0275fac=function(t){return new(t||_d)($(za),$(oc),$(un),$(L_),$(To),$(rc),$(bi),$(Wo),$(yl),$(Yi),$(wn))},_d.\u0275cmp=pt({type:_d,selectors:[["app-game"]],decls:20,vars:11,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],["class","missions-holder my-1",4,"ngIf"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[4,"ngIf"],[1,"bet-controls"],[1,"chat-bar"],[1,"missions-holder","my-1"],[3,"engagementTools","gameIdentifier"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),Pe(3,"app-header"),I(),R(4,"div",3)(5,"div",4)(6,"div",5),Pe(7,"app-bets-widget")(8,"app-spribe-footer"),I(),R(9,"div",6),ce(10,_ve,2,2,"div",7),R(11,"div",8),Pe(12,"app-stats-widget"),I(),R(13,"div",9),ce(14,mve,1,0,"app-free-bet",10),Pe(15,"app-play-board"),I(),R(16,"div",11),Pe(17,"app-bet-controls"),I()()()()(),R(18,"div",12),ce(19,vve,1,0,"app-chat-widget",10),I()()),2&t&&(ut("hide-chat-bar",!e.isOpenChat),N(1),ut("h-100",e.app.useInnerScroll),N(3),ut("--scrollable",e.app.useInnerScroll),N(1),ut("game-wrap",e.isGameWrap),N(5),q("ngIf",null==e.app.config.engagementTools?null:e.app.config.engagementTools.host),N(4),q("ngIf",e.freeBets.activeFreeBet),N(5),q("ngIf",e.app.config.chat.isEnabled))},directives:[kh,ife,rfe,Kt,Xh,Fpe,Kh,od,ld,gd],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:38px;background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:38px;position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:center}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;height:auto!important}.info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}"],changeDetection:0}),_d=He([vi()],_d);let wve=(()=>{class n{constructor(e,i){this.translate=e,this.betControls=i,this.precision=0,this.closeMessage=new jt,this.BsMessageTemplate=Nf}getTranslation(e,i){return this.translate.instant(`shared.ui-components.toastr.toastr-message.${e}`,{amount:null==i?void 0:i.amount,duration:null==i?void 0:i.duration,minBalance:null==i?void 0:i.minBalance,currency:null==i?void 0:i.currency})||e}ngAfterViewInit(){this.initTimeout()}get template(){return this.message.template?this.message.template:Nf.alert}get context(){return this.message.context?this.message.context:Ss.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},this.message.lifeTime||3e3)}clearTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=null}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){this.message.callback(),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)($(Zc),$(yl))},n.\u0275cmp=pt({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",precision:"precision",index:"index"},outputs:{closeMessage:"closeMessage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["translate","",1,"alert-heading"],["translate",""],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],["translate","",1,"label"],[1,"value"],[1,"win"],["translate","",1,"label","no-wrap"],[1,"currency"]],template:function(e,i){1&e&&(Vt(0,0),ce(1,Cve,4,7,"ng-template",1),ce(2,Ove,19,11,"ng-template",1),ce(3,Mve,0,0,"ng-template",1),Ht()),2&e&&(q("ngSwitch",i.template),N(1),q("ngSwitchCase",i.BsMessageTemplate.alert),N(1),q("ngSwitchCase",i.BsMessageTemplate.win),N(1),q("ngSwitchCase",i.BsMessageTemplate.toast))},directives:[sl,Bc,Cf,Kt,Zn],pipes:[pT],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;max-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.a82d20d3a52bbad1.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5624ab52d781bc.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],data:{animation:[Dw("messageState",[Ape("visible",Xa({transform:"translateY(0)",opacity:1})),im("void => *",[Xa({transform:"translateY(100%)",opacity:0}),Tp("300ms ease-out")]),im("* => void",[Tp("250ms ease-in",Xa({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function Pve(n,t){if(1&n){const e=Ct();R(0,"app-bs-message-item",2),Ae("closeMessage",function(r){return dt(e),he().onMessageClose(r)}),I()}if(2&n){const e=t.$implicit,i=t.index,r=he();q("message",e)("precision",r.app.config.betPrecision)("index",i)("@messageAnimation",void 0)}}let md=class{constructor(t,e,i){this.message=t,this.app=e,this.cd=i}ngOnInit(){this.message.message$.pipe(St(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clear$.pipe(St(this)).subscribe(t=>{t?this.key===t&&(this.messages=null,this.cd.detectChanges()):(this.messages=null,this.cd.detectChanges())})}onMessageClose(t){this.messages.splice(t,1)}};function Ave(n,t){1&n&&(R(0,"div",3),z(1," shared.components.connector.reconnect "),I())}function xve(n,t){1&n&&(R(0,"div",3),z(1," shared.components.connector.slow connection "),I())}function Rve(n,t){if(1&n&&(R(0,"div",1),ce(1,Ave,2,0,"div",2),ce(2,xve,2,0,"div",2),I()),2&n){const e=he();q("@messageState",void 0),N(1),q("ngIf",e.reconnect),N(1),q("ngIf",e.connectionSlow)}}md.\u0275fac=function(t){return new(t||md)($(_h),$(un),$(wn))},md.\u0275cmp=pt({type:md,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","precision","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","precision","index","closeMessage"]],template:function(t,e){1&t&&(R(0,"div",0),ce(1,Pve,1,4,"app-bs-message-item",1),I()),2&t&&(N(1),q("ngForOf",e.messages))},directives:[Ci,wve],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:300px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[Dw("messageAnimation",[im(":enter, :leave",[function Rpe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function xpe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),md=He([vi()],md);let vd=class{constructor(t,e){this.connector=t,this.cd=e,this.state=null}ngOnInit(){this.connector.display.pipe(St(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return null!==this.state&&this.state===ai.reconnect}get connectionSlow(){return null!==this.state&&this.state===ai.connectionSlow}};vd.\u0275fac=function(t){return new(t||vd)($(bi),$(wn))},vd.\u0275cmp=pt({type:vd,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning","translate","",4,"ngIf"],["translate","",1,"alert","alert-warning"]],template:function(t,e){1&t&&ce(0,Rve,3,3,"div",0),2&t&&q("ngIf",e.state)},directives:[Kt,Zn],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[Dw("messageState",[im("void => *",[Xa({transform:"translate(-50%,-100%)",opacity:0}),Tp("300ms ease-out")]),im("* => void",[Tp("250ms ease-in",Xa({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),vd=He([vi()],vd);var Tm=(()=>(function(n){n.Inactivity="inactivity",n.Ban="ban"}(Tm||(Tm={})),Tm))();function Dve(n,t){if(1&n){const e=Ct();R(0,"a",6),Ae("click",function(){return dt(e),he(2).onBackToHome()}),z(1),Te(2,"translate"),I()}2&n&&(N(1),Me(" ",ke(2,1,"shared.home")," "))}function Ive(n,t){if(1&n&&(Vt(0),R(1,"div",4),z(2," shared.components.disconnect-message.text "),I(),ce(3,Dve,3,3,"a",5),Ht()),2&n){const e=he();N(3),q("ngIf",e.urlParams.returnUrl)}}function Nve(n,t){1&n&&(Vt(0),R(1,"div",7),z(2),Te(3,"translate"),I(),Ht()),2&n&&(N(2),Me("",ke(3,1,"shared.thank_you_for_playing"),"."))}let kve=(()=>{class n{constructor(e,i,r,o){this.sound=e,this.app=i,this.ifc=r,this.urlParams=o}ngOnInit(){this.sound.stopAll(),this.ifc.emitCloseEvent(Object.assign(this.state===ai.inactivity?{reason:Tm.Inactivity}:this.state===ai.ban?{reason:Tm.Ban}:{},this.data))}get isShutdown(){return this.state===ai.shutdown}onBackToHome(){this.app.config&&this.app.config.backToHomeActionType===Uf.IfcEvent?this.ifc.emitEvent(Si.BackToHome,{returnUrl:this.urlParams.returnUrl}):window.open(this.urlParams.returnUrl,"_top")}}return n.\u0275fac=function(e){return new(e||n)($(lp),$(un),$(rc),$(nc))},n.\u0275cmp=pt({type:n,selectors:[["app-disconnect-message"]],inputs:{state:"state",data:"data"},decls:5,vars:2,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[4,"ngIf"],["translate","",1,"text"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"],[1,"text"]],template:function(e,i){1&e&&(R(0,"div",0),Pe(1,"div",1),R(2,"div",2),ce(3,Ive,4,1,"ng-container",3),ce(4,Nve,4,3,"ng-container",3),I()()),2&e&&(N(3),q("ngIf",!1===i.isShutdown),N(1),q("ngIf",!0===i.isShutdown))},directives:[Kt,Zn],pipes:[Dn],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.4aa561fd98783d15.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const Fve=["lockUI"];function Bve(n,t){1&n&&(Vt(0),Pe(1,"app-game")(2,"app-bs-message")(3,"app-connector"),Ht())}function Lve(n,t){1&n&&(Vt(0),R(1,"span",3),z(2),Te(3,"translate"),I(),Ht()),2&n&&(N(2),Et(ke(3,1,"shared.Connection...")))}function Uve(n,t){if(1&n&&(Vt(0),Pe(1,"app-disconnect-message",4),Ht()),2&n){const e=he();N(1),q("data",e.disconnectData)("state",e.disconnectState)}}let Gve=(()=>{class n{constructor(e,i,r,o,s,a,l,c,g,E,w,P,A,D,B,Y){this.connector=e,this.app=i,this.mainService=r,this.user=o,this.cd=s,this.sound=a,this.freeBets=l,this.statsService=c,this.chatService=g,this.frontEndProxyService=E,this.ifc=w,this.renderer=P,this.scriptService=A,this.betControls=D,this.multiplierService=B,this.modalManagerService=Y,this.loaded=!1,this.cantConnect=!1,this.disconnectState=null,this.disconnectData=null}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.command(Or.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.renderer.setAttribute(document.body,"app-version",zi_version),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.display.subscribe(({state:e,data:i})=>{null!==e&&(this.cantConnect=e===ai.kicked||e===ai.loginError,this.disconnectState=e===ai.kicked?ai.kicked:e===ai.loginError?ai.loginError:e===ai.shutdown?ai.shutdown:e===ai.connectionLost?ai.connectionLost:e===ai.inactivity?ai.inactivity:e===ai.ban?ai.ban:null,this.disconnectData=i||null,this.cd.detectChanges())}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)})}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),HT()&&(this.frontEndProxyService.setup(),this.ifc.setup()),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.chatService.init(e),this.mainService.init(e),this.multiplierService.init(e),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.emitInitEvent(e)}}return n.\u0275fac=function(e){return new(e||n)($(bi),$(un),$(Yi),$(Ya),$(wn),$(lp),$(oc),$(xL),$(za),$(N0),$(rc),$(To),$(jM),$(yl),$(k0),$(Mhe))},n.\u0275cmp=pt({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&Jo(Fve,7),2&e){let r;qn(r=Jn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data","state"]],template:function(e,i){1&e&&(ce(0,Bve,4,0,"ng-container",0),ce(1,Lve,4,3,"ng-container",0),ce(2,Uve,2,2,"ng-container",0),Pe(3,"div",1,2)),2&e&&(q("ngIf",i.loaded&&null===i.disconnectState),N(1),q("ngIf",!i.loaded&&null===i.disconnectState),N(1),q("ngIf",null!==i.disconnectState))},directives:[Kt,_d,md,vd,kve],pipes:[Dn],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),jve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),Vve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),Hve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),jG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),Yve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Vve,Hve,Gb,gn,jG]]}),n})(),Wve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Yve]]}),n})(),zve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),$ve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Xve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Kve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,Gb]]}),n})(),qve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Jve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),Qve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,jG]]}),n})(),Zve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),eye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,_p,Xve,Kve,qve,Jve,VG,Gb,Zve,Qve]]}),n})(),tye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})(),nye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,VG,Gb,tye]]}),n})(),iye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[jve,gb,pb,_b,cc,Sl,yb,fb,vb],imports:[[Ot,gn,_p,Wve,zve,$ve,eye,nye]]}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),yc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),HG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),Fp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),rye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,jae,gn,na,_P,yc,HG,Fp]]}),n})(),mP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Pl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,HG]]}),n})(),oye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,Pl]]}),n})(),sye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Fp,Pl]]}),n})(),aye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,Tde,oye,yc,Pl,Fp,sye]]}),n})(),lye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Fp,Pl]]}),n})(),cye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,yc,lye]]}),n})(),uye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Pl,gn]]}),n})(),hye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Pl,gn]]}),n})(),dye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,Pl,Fp]]}),n})(),fye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,yc,uye,hye,dye]]}),n})(),pye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,fye,gn,mP,na]]}),n})(),gye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,mP,na,aye,cye,pye,gn]]}),n})(),_ye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,Pl,yc,gn,_p]]}),n})(),mye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot]]}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,na]]}),n})();const Bn=!1;function YG(n){return new kt(3e3,Bn)}function Jye(){return"undefined"!=typeof window&&void 0!==window.document}function vP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Eu(n){switch(n.length){case 0:return new rm;case 1:return n[0];default:return new a4(n)}}function WG(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(g=>{const E=g.offset,w=E==l,P=w&&c||{};Object.keys(g).forEach(A=>{let D=A,B=g[A];if("offset"!==A)switch(D=t.normalizePropertyName(D,s),B){case"!":B=r[A];break;case hc:B=o[A];break;default:B=t.normalizeStyleValue(A,D,B,s)}P[D]=B}),w||a.push(P),c=P,l=E}),s.length)throw function Gye(n){return new kt(3502,Bn)}();return a}function yP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&bP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&bP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&bP(e,"destroy",n)))}}function bP(n,t,e){const i=e.totalTime,o=EP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function EP(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ks(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function zG(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let SP=(n,t)=>!1,$G=(n,t,e)=>[],XG=null;function TP(n){const t=n.parentNode||n.host;return t===XG?null:t}(vP()||"undefined"!=typeof Element)&&(Jye()?(XG=(()=>document.documentElement)(),SP=(n,t)=>{for(;t;){if(t===n)return!0;t=TP(t)}return!1}):SP=(n,t)=>n.contains(t),$G=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let yd=null,KG=!1;function qG(n){yd||(yd=function Zye(){return"undefined"!=typeof document?document.body:null}()||{},KG=!!yd.style&&"WebkitAppearance"in yd.style);let t=!0;return yd.style&&!function Qye(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in yd.style,!t&&KG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in yd.style)),t}const JG=SP,QG=$G;let ZG=(()=>{class n{validateStyleProperty(e){return qG(e)}matchesElement(e,i){return!1}containsElement(e,i){return JG(e,i)}getParentElement(e){return TP(e)}query(e,i,r){return QG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new rm(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),CP=(()=>{class n{}return n.NOOP=new ZG,n})();const OP="ng-enter",Hb="ng-leave",Yb="ng-trigger",Wb=".ng-trigger",t8="ng-animating",MP=".ng-animating";function bd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wP(parseFloat(t[1]),t[2])}function wP(n,t){return"s"===t?1e3*n:n}function zb(n,t,e){return n.hasOwnProperty("duration")?n:function n0e(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(YG()),{duration:0,delay:0,easing:""};r=wP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=wP(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function vye(){return new kt(3100,Bn)}()),a=!0),o<0&&(t.push(function yye(){return new kt(3101,Bn)}()),a=!0),a&&t.splice(l,0,YG())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Bp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Su(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Bp(n,e);return e}function i8(n,t,e){return e?t+":"+e+";":""}function r8(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=i8(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=i8(0,o0e(e),n.style[e]));n.setAttribute("style",t)}function Al(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=AP(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),vP()&&r8(n))}function Ed(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=AP(e);n.style[i]=""}),vP()&&r8(n))}function Cm(n){return Array.isArray(n)?1==n.length?n[0]:o4(n):n}const PP=new RegExp("{{\\s*(.+?)\\s*}}","g");function o8(n){let t=[];if("string"==typeof n){let e;for(;e=PP.exec(n);)t.push(e[1]);PP.lastIndex=0}return t}function $b(n,t,e){const i=n.toString(),r=i.replace(PP,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function Eye(n){return new kt(3003,Bn)}()),a=""),a.toString()});return r==i?n:r}function Xb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const r0e=/-+([a-z0-9])/g;function AP(n){return n.replace(r0e,(...t)=>t[1].toUpperCase())}function o0e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Sye(n){return new kt(3004,Bn)}()}}function s8(n,t){return window.getComputedStyle(n)[t]}function h0e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function d0e(n,t,e){if(":"==n[0]){const l=function f0e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Fye(n){return new kt(3016,Bn)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function kye(n){return new kt(3015,Bn)}()),t;const r=i[1],o=i[2],s=i[3];t.push(a8(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(a8(s,r))}(i,e,t)):e.push(n),e}const Qb=new Set(["true","1"]),Zb=new Set(["false","0"]);function a8(n,t){const e=Qb.has(n)||Zb.has(n),i=Qb.has(t)||Zb.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Qb.has(n):Zb.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Qb.has(t):Zb.has(t)),s&&a}}const p0e=new RegExp("s*:selfs*,?","g");function xP(n,t,e,i){return new g0e(n).build(t,e,i)}class g0e{constructor(t){this._driver=t}build(t,e,i){const r=new v0e(e);this._resetContextStyleTimingState(r);const o=Fs(this,Cm(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Cye(){return new kt(3006,Bn)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(g=>{l.name=g,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function Oye(){return new kt(3007,Bn)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(e1(a)){const l=a;Object.keys(l).forEach(c=>{o8(l[c]).forEach(g=>{s.hasOwnProperty(g)||o.add(g)})})}}),o.size&&(Xb(o.values()),e.errors.push(function Mye(n,t){return new kt(3008,Bn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Fs(this,Cm(t.animation),e);return{type:1,matchers:h0e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Sd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Fs(this,i,e)),options:Sd(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Fs(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Sd(t.options)}}visitAnimate(t,e){const i=function b0e(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return RP(zb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=RP(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||zb(i,t),RP(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Xa({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Xa(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==hc?i.push(s):e.errors.push(function wye(n){return new kt(3002,Bn)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(e1(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let g=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function Pye(n,t,e,i,r){return new kt(3010,Bn)}()),g=!1),o=c.startTime),g&&(l[a]={startTime:o,endTime:r}),e.options&&function i0e(n,t,e){const i=t.params||{},r=o8(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function bye(n){return new kt(3001,Bn)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Aye(){return new kt(3011,Bn)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const g=t.steps.map(Y=>{const K=this._makeStyleAst(Y,e);let re=null!=K.offset?K.offset:function y0e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e1(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(e1(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(K.styles),ae=0;return null!=re&&(o++,ae=K.offset=re),l=l||ae<0||ae>1,a=a||ae<c,c=ae,s.push(ae),K});l&&e.errors.push(function xye(){return new kt(3012,Bn)}()),a&&e.errors.push(function Rye(){return new kt(3200,Bn)}());const E=t.steps.length;let w=0;o>0&&o<E?e.errors.push(function Dye(){return new kt(3202,Bn)}()):0==o&&(w=1/(E-1));const P=E-1,A=e.currentTime,D=e.currentAnimateTimings,B=D.duration;return g.forEach((Y,K)=>{const re=w>0?K==P?1:w*K:s[K],ae=re*B;e.currentTime=A+D.delay+ae,D.duration=ae,this._validateStyleAst(Y,e),Y.offset=re,i.styles.push(Y)}),i}visitReference(t,e){return{type:8,animation:Fs(this,Cm(t.animation),e),options:Sd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Sd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Sd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function _0e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(p0e,"")),n=n.replace(/@\*/g,Wb).replace(/@\w+/g,e=>Wb+"-"+e.substr(1)).replace(/:animating/g,MP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ks(e.collectedStyles,e.currentQuerySelector,{});const a=Fs(this,Cm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Sd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Iye(){return new kt(3013,Bn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:zb(t.timings,e.errors,!0);return{type:12,animation:Fs(this,Cm(t.animation),e),timings:i,options:null}}}class v0e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function e1(n){return!Array.isArray(n)&&"object"==typeof n}function Sd(n){return n?(n=Bp(n)).params&&(n.params=function m0e(n){return n?Bp(n):null}(n.params)):n={},n}function RP(n,t,e){return{duration:n,delay:t,easing:e}}function DP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class t1{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const T0e=new RegExp(":enter","g"),O0e=new RegExp(":leave","g");function IP(n,t,e,i,r,o={},s={},a,l,c=[]){return(new M0e).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class M0e{buildKeyframes(t,e,i,r,o,s,a,l,c,g=[]){c=c||new t1;const E=new NP(t,e,c,r,o,g,[]);E.options=l,E.currentTimeline.setStyles([s],null,E.errors,l),Fs(this,i,E);const w=E.timelines.filter(P=>P.containsAnimation());if(Object.keys(a).length){let P;for(let A=w.length-1;A>=0;A--){const D=w[A];if(D.element===e){P=D;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([a],null,E.errors,l)}return w.length?w.map(P=>P.buildKeyframes()):[DP(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?bd(i.duration):null,a=null!=i.delay?bd(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Fs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=n1);const s=bd(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Fs(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?bd(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Fs(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return zb(e.params?$b(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?bd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=n1);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,g)=>{e.currentQueryIndex=g;const E=e.createSubContext(t.options,c);o&&E.delayNextStep(o),c===e.element&&(l=E.currentTimeline),Fs(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const g=e.currentTimeline;l&&g.delayNextStep(l);const E=g.currentTime;Fs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const n1={};class NP{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=n1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new r1(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=bd(i.duration)),null!=i.delay&&(r.delay=bd(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=$b(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new NP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=n1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new w0e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(T0e,"."+this._enterClassName)).replace(O0e,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function Nye(n){return new kt(3014,Bn)}()),a}}class r1{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r1(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||hc,this._currentKeyframe[e]=hc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function P0e(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=hc})):Su(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=$b(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:hc),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Su(a,!0);Object.keys(c).forEach(g=>{const E=c[g];"!"==E?t.add(g):E==hc&&e.add(g)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Xb(t.values()):[],s=e.size?Xb(e.values()):[];if(i){const a=r[0],l=Bp(a);a.offset=0,l.offset=1,r=[a,l]}return DP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class w0e extends r1{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Su(t[0],!1);l.offset=0,o.push(l);const c=Su(t[0],!1);c.offset=u8(a),o.push(c);const g=t.length-1;for(let E=1;E<=g;E++){let w=Su(t[E],!1);w.offset=u8((e+w.offset*i)/s),o.push(w)}i=s,e=0,r="",t=o}return DP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function u8(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kP{}class A0e extends kP{normalizePropertyName(t,e){return AP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(x0e[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Tye(n,t){return new kt(3005,Bn)}())}return s+o}}const x0e=(()=>function R0e(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function h8(n,t,e,i,r,o,s,a,l,c,g,E,w){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:g,totalTime:E,errors:w}}const FP={};class d8{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function D0e(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,g){const E=[],w=this.ast.options&&this.ast.options.params||FP,A=this.buildStyles(i,a&&a.params||FP,E),D=l&&l.params||FP,B=this.buildStyles(r,D,E),Y=new Set,K=new Map,re=new Map,ae="void"===r,te={params:Object.assign(Object.assign({},w),D)},ne=g?[]:IP(t,e,this.ast.animation,o,s,A,B,te,c,E);let Oe=0;if(ne.forEach(ye=>{Oe=Math.max(ye.duration+ye.delay,Oe)}),E.length)return h8(e,this._triggerName,i,r,ae,A,B,[],[],K,re,Oe,E);ne.forEach(ye=>{const Ve=ye.element,nt=ks(K,Ve,{});ye.preStyleProps.forEach(Ze=>nt[Ze]=!0);const it=ks(re,Ve,{});ye.postStyleProps.forEach(Ze=>it[Ze]=!0),Ve!==e&&Y.add(Ve)});const Ie=Xb(Y.values());return h8(e,this._triggerName,i,r,ae,A,B,ne,Ie,K,re,Oe)}}class I0e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Bp(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=$b(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class k0e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new I0e(r.style,r.options&&r.options.params||{},i)}),f8(this.states,"true","1"),f8(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new d8(t,r,this.states))}),this.fallbackTransition=function F0e(n,t,e){return new d8(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function f8(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const B0e=new t1;class L0e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=xP(this._driver,e,i,[]);if(i.length)throw function jye(n){return new kt(3503,Bn)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=WG(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=IP(this._driver,e,o,OP,Hb,{},{},i,B0e,r),s.forEach(g=>{const E=ks(a,g.element,{});g.postStyleProps.forEach(w=>E[w]=null)})):(r.push(function Vye(){return new kt(3300,Bn)}()),s=[]),r.length)throw function Hye(n){return new kt(3504,Bn)}();a.forEach((g,E)=>{Object.keys(g).forEach(w=>{g[w]=this._driver.computeStyle(E,w,hc)})});const c=Eu(s.map(g=>{const E=a.get(g.element);return this._buildPlayer(g,{},E)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Yye(n){return new kt(3301,Bn)}();return e}listen(t,e,i,r){const o=EP(e,"","","");return yP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const p8="ng-animate-queued",BP="ng-animate-disabled",H0e=[],g8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class LP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function X0e(n){return null!=n?n:null}(i?t.value:t),i){const o=Bp(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Om="void",UP=new LP(Om);class W0e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_a(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Wye(n,t){return new kt(3302,Bn)}();if(null==i||0==i.length)throw function zye(n){return new kt(3303,Bn)}();if(!function K0e(n){return"start"==n||"done"==n}(i))throw function $ye(n,t){return new kt(3400,Bn)}();const o=ks(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ks(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(_a(t,Yb),_a(t,Yb+"-"+e),a[e]=UP),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Xye(n){return new kt(3401,Bn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new GP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(_a(t,Yb),_a(t,Yb+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new LP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=UP),c.value!==Om&&l.value===c.value){if(!function Q0e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const D=[],B=o.matchStyles(l.value,l.params,D),Y=o.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Ed(t,B),Al(t,Y)})}return}const w=ks(this._engine.playersByElement,t,[]);w.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let P=o.matchTransition(l.value,c.value,t,c.params),A=!1;if(!P){if(!r)return;P=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:l,toState:c,player:s,isFallbackTransition:A}),A||(_a(t,p8),s.onStart(()=>{Lp(t,p8)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const B=this._engine.playersByElement.get(t);if(B){let Y=B.indexOf(s);Y>=0&&B.splice(Y,1)}}),this.players.push(s),w.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Wb,!0);i.forEach(r=>{if(r[ga])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,Om,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Eu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||UP,g=new LP(Om),E=new GP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:g,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ga];(!o||o===g8)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){_a(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=EP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,yP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class z0e{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new W0e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(o1(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!o1(e))return;const o=e[ga];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_a(t,BP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lp(t,BP))}removeNode(t,e,i,r){if(o1(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[ga]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return o1(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Wb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,MP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Eu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[ga];if(i&&i.setForRemoval){if(t[ga]=g8,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(BP))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_a(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Eu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Kye(n){return new kt(3402,Bn)}()}_flushAnimations(t,e){const i=new t1,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,g=new Set;this.disabledNodes.forEach(De=>{g.add(De);const Ke=this.driver.query(De,".ng-animate-queued",!0);for(let ht=0;ht<Ke.length;ht++)g.add(Ke[ht])});const E=this.bodyNode,w=Array.from(this.statesByElement.keys()),P=v8(w,this.collectedEnterElements),A=new Map;let D=0;P.forEach((De,Ke)=>{const ht=OP+D++;A.set(Ke,ht),De.forEach(Pt=>_a(Pt,ht))});const B=[],Y=new Set,K=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Ke=this.collectedLeaveElements[De],ht=Ke[ga];ht&&ht.setForRemoval&&(B.push(Ke),Y.add(Ke),ht.hasAnimation?this.driver.query(Ke,".ng-star-inserted",!0).forEach(Pt=>Y.add(Pt)):K.add(Ke))}const re=new Map,ae=v8(w,Array.from(Y));ae.forEach((De,Ke)=>{const ht=Hb+D++;re.set(Ke,ht),De.forEach(Pt=>_a(Pt,ht))}),t.push(()=>{P.forEach((De,Ke)=>{const ht=A.get(Ke);De.forEach(Pt=>Lp(Pt,ht))}),ae.forEach((De,Ke)=>{const ht=re.get(Ke);De.forEach(Pt=>Lp(Pt,ht))}),B.forEach(De=>{this.processLeaveNode(De)})});const te=[],ne=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(e).forEach(ht=>{const Pt=ht.player,We=ht.element;if(te.push(Pt),this.collectedEnterElements.length){const mn=We[ga];if(mn&&mn.setForMove){if(mn.previousTriggersValues&&mn.previousTriggersValues.has(ht.triggerName)){const Yn=mn.previousTriggersValues.get(ht.triggerName),Sn=this.statesByElement.get(ht.element);Sn&&Sn[ht.triggerName]&&(Sn[ht.triggerName].value=Yn)}return void Pt.destroy()}}const bt=!E||!this.driver.containsElement(E,We),Dt=re.get(We),Nt=A.get(We),Rt=this._buildInstruction(ht,i,Nt,Dt,bt);if(Rt.errors&&Rt.errors.length)return void ne.push(Rt);if(bt)return Pt.onStart(()=>Ed(We,Rt.fromStyles)),Pt.onDestroy(()=>Al(We,Rt.toStyles)),void r.push(Pt);if(ht.isFallbackTransition)return Pt.onStart(()=>Ed(We,Rt.fromStyles)),Pt.onDestroy(()=>Al(We,Rt.toStyles)),void r.push(Pt);const ci=[];Rt.timelines.forEach(mn=>{mn.stretchStartingKeyframe=!0,this.disabledNodes.has(mn.element)||ci.push(mn)}),Rt.timelines=ci,i.append(We,Rt.timelines),s.push({instruction:Rt,player:Pt,element:We}),Rt.queriedElements.forEach(mn=>ks(a,mn,[]).push(Pt)),Rt.preStyleProps.forEach((mn,Yn)=>{const Sn=Object.keys(mn);if(Sn.length){let hn=l.get(Yn);hn||l.set(Yn,hn=new Set),Sn.forEach(tn=>hn.add(tn))}}),Rt.postStyleProps.forEach((mn,Yn)=>{const Sn=Object.keys(mn);let hn=c.get(Yn);hn||c.set(Yn,hn=new Set),Sn.forEach(tn=>hn.add(tn))})});if(ne.length){const De=[];ne.forEach(Ke=>{De.push(function qye(n,t){return new kt(3505,Bn)}())}),te.forEach(Ke=>Ke.destroy()),this.reportError(De)}const Oe=new Map,Ie=new Map;s.forEach(De=>{const Ke=De.element;i.has(Ke)&&(Ie.set(Ke,Ke),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Oe))}),r.forEach(De=>{const Ke=De.element;this._getPreviousPlayers(Ke,!1,De.namespaceId,De.triggerName,null).forEach(Pt=>{ks(Oe,Ke,[]).push(Pt),Pt.destroy()})});const ye=B.filter(De=>b8(De,l,c)),Ve=new Map;m8(Ve,this.driver,K,c,hc).forEach(De=>{b8(De,l,c)&&ye.push(De)});const it=new Map;P.forEach((De,Ke)=>{m8(it,this.driver,new Set(De),l,"!")}),ye.forEach(De=>{const Ke=Ve.get(De),ht=it.get(De);Ve.set(De,Object.assign(Object.assign({},Ke),ht))});const Ze=[],xt=[],$e={};s.forEach(De=>{const{element:Ke,player:ht,instruction:Pt}=De;if(i.has(Ke)){if(g.has(Ke))return ht.onDestroy(()=>Al(Ke,Pt.toStyles)),ht.disabled=!0,ht.overrideTotalTime(Pt.totalTime),void r.push(ht);let We=$e;if(Ie.size>1){let Dt=Ke;const Nt=[];for(;Dt=Dt.parentNode;){const Rt=Ie.get(Dt);if(Rt){We=Rt;break}Nt.push(Dt)}Nt.forEach(Rt=>Ie.set(Rt,We))}const bt=this._buildAnimation(ht.namespaceId,Pt,Oe,o,it,Ve);if(ht.setRealPlayer(bt),We===$e)Ze.push(ht);else{const Dt=this.playersByElement.get(We);Dt&&Dt.length&&(ht.parentPlayer=Eu(Dt)),r.push(ht)}}else Ed(Ke,Pt.fromStyles),ht.onDestroy(()=>Al(Ke,Pt.toStyles)),xt.push(ht),g.has(Ke)&&r.push(ht)}),xt.forEach(De=>{const Ke=o.get(De.element);if(Ke&&Ke.length){const ht=Eu(Ke);De.setRealPlayer(ht)}}),r.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<B.length;De++){const Ke=B[De],ht=Ke[ga];if(Lp(Ke,Hb),ht&&ht.hasAnimation)continue;let Pt=[];if(a.size){let bt=a.get(Ke);bt&&bt.length&&Pt.push(...bt);let Dt=this.driver.query(Ke,MP,!0);for(let Nt=0;Nt<Dt.length;Nt++){let Rt=a.get(Dt[Nt]);Rt&&Rt.length&&Pt.push(...Rt)}}const We=Pt.filter(bt=>!bt.destroyed);We.length?q0e(this,Ke,We):this.processLeaveNode(Ke)}return B.length=0,Ze.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Ke=this.players.indexOf(De);this.players.splice(Ke,1)}),De.play()}),Ze}elementContainsData(t,e){let i=!1;const r=e[ga];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Om;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,g=c!==o,E=ks(i,c,[]);this._getPreviousPlayers(c,g,s,a,e.toState).forEach(P=>{const A=P.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),P.destroy(),E.push(P)})}Ed(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],g=new Set,E=new Set,w=e.timelines.map(A=>{const D=A.element;g.add(D);const B=D[ga];if(B&&B.removedBeforeQueried)return new rm(A.duration,A.delay);const Y=D!==l,K=function J0e(n){const t=[];return y8(n,t),t}((i.get(D)||H0e).map(Oe=>Oe.getRealPlayer())).filter(Oe=>!!Oe.element&&Oe.element===D),re=o.get(D),ae=s.get(D),te=WG(0,this._normalizer,0,A.keyframes,re,ae),ne=this._buildPlayer(A,te,K);if(A.subTimeline&&r&&E.add(D),Y){const Oe=new GP(t,a,D);Oe.setRealPlayer(ne),c.push(Oe)}return ne});c.forEach(A=>{ks(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function $0e(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,A.element,A))}),g.forEach(A=>_a(A,t8));const P=Eu(w);return P.onDestroy(()=>{g.forEach(A=>Lp(A,t8)),Al(l,e.toStyles)}),E.forEach(A=>{ks(r,A,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new rm(t.duration,t.delay)}}class GP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new rm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>yP(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ks(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function o1(n){return n&&1===n.nodeType}function _8(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function m8(n,t,e,i,r){const o=[];e.forEach(l=>o.push(_8(l)));const s=[];i.forEach((l,c)=>{const g={};l.forEach(E=>{const w=g[E]=t.computeStyle(c,E,r);(!w||0==w.length)&&(c[ga]=Y0e,s.push(c))}),n.set(c,g)});let a=0;return e.forEach(l=>_8(l,o[a++])),s}function v8(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function _a(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Lp(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function q0e(n,t,e){Eu(e).onDone(()=>n.processLeaveNode(t))}function y8(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof a4?y8(i.players,t):t.push(i)}}function b8(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class s1{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new z0e(t,e,i),this._timelineEngine=new L0e(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],g=xP(this._driver,o,l,[]);if(l.length)throw function Uye(n,t){return new kt(3404,Bn)}();a=function N0e(n,t,e){return new k0e(n,t,e)}(r,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=zG(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=zG(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ebe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Al(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Al(this._element,this._initialStyles),this._endStyles&&(Al(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ed(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ed(this._element,this._endStyles),this._endStyles=null),Al(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jP(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];tbe(r)&&(t=t||{},t[r]=n[r])}return t}function tbe(n){return"display"===n||"position"===n}class E8{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:s8(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nbe{validateStyleProperty(t){return qG(t)}matchesElement(t,e){return!1}containsElement(t,e){return JG(t,e)}getParentElement(t){return TP(t)}query(t,e,i){return QG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},g=s.filter(w=>w instanceof E8);(function s0e(n,t){return 0===n||0===t})(i,r)&&g.forEach(w=>{let P=w.currentSnapshot;Object.keys(P).forEach(A=>c[A]=P[A])}),e=function a0e(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=s8(n,l)})}}return t}(t,e=e.map(w=>Su(w,!1)),c);const E=function Z0e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=jP(t[0]),t.length>1&&(i=jP(t[t.length-1]))):t&&(e=jP(t)),e||i?new ebe(n,e,i):null}(t,e);return new E8(t,e,l,E)}}let ibe=(()=>{class n extends Rw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:ba.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?o4(e):e;return S8(this._renderer,null,i,"register",[r]),new rbe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Ne(bf),Ne(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class rbe extends class Ppe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new obe(this._id,t,e||{},this._renderer)}}class obe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return S8(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function S8(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const T8="@.disabled";let sbe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(o);return g||(g=new C8("",o,this.engine),this._rendererCache.set(o,g)),g}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=g=>{Array.isArray(g)?g.forEach(l):this.engine.registerTrigger(s,a,e,g.name,g)};return i.data.animation.forEach(l),new abe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Ne(bf),Ne(s1),Ne(Mn))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class C8{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==T8?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class abe extends C8{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==T8?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lbe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function cbe(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let ube=(()=>{class n extends s1{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Ne(Di),Ne(CP),Ne(kP))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const O8=new Qt("AnimationModuleType"),M8=[{provide:Rw,useClass:ibe},{provide:kP,useFactory:function hbe(){return new A0e}},{provide:s1,useClass:ube},{provide:bf,useFactory:function dbe(n,t,e){return new sbe(n,t,e)},deps:[sy,s1,Mn]}],w8=[{provide:CP,useFactory:()=>new nbe},{provide:O8,useValue:"BrowserAnimations"},...M8],fbe=[{provide:CP,useClass:ZG},{provide:O8,useValue:"NoopAnimations"},...M8];let P8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?fbe:w8}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:w8,imports:[SN]}),n})(),pbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,_P,na,jb]]}),n})(),gbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[],imports:[[Ot,jb,_P,na,P8,gn,mP,pbe]]}),n})(),_be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,jb,gn,na,_p]]}),n})(),mbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,na,gn,_be,_p]]}),n})(),vbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,na,yc,gn,Pl]]}),n})(),ybe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,na,yc,gn]]}),n})(),bbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Ebe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Sbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Tbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({providers:[],imports:[[Ot,gn]]}),n})(),Cbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[VP,Ot,yc,gn]]}),n})(),Obe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Mbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),wbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,yc,gn,Fp,Pl]]}),n})(),Pbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),Abe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn,jb,na]]}),n})(),xbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,rye,gye,_ye,gbe,mye,mbe,vbe,ybe,bbe,Sbe,gn,Tbe,Obe,Cbe,VP,Ebe,Mbe,wbe,Pbe,Abe,iye]]}),n})();const l1=S(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function A8(){return je((n,t)=>{let e=null;n._refCount++;const i=ie(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Rbe extends oe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,qe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new f;const e=this.getSubject();t.add(this.source.subscribe(ie(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=f.EMPTY)}return t}refCount(){return A8()(this)}}function Dbe(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ie(s,g=>{const E=c++;l=a?n(l,g,E):(a=!0,g),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function x8(n,t){return je(Dbe(n,t,arguments.length>=2,!0))}function Tu(n){return je((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ie(e,void 0,void 0,s=>{o=gt(n(s,Tu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function HP(n){return n<=0?()=>Qe:je((t,e)=>{let i=[];t.subscribe(ie(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function R8(n=Ibe){return je((t,e)=>{let i=!1;t.subscribe(ie(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ibe(){return new l1}function D8(n){return je((t,e)=>{let i=!1;t.subscribe(ie(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Up(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ft((r,o)=>n(r,o,i)):se,Xn(1),e?D8(t):R8(()=>new l1))}class bc{constructor(t,e){this.id=t,this.url=e}}class YP extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mm extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class I8 extends bc{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fbe extends bc{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bbe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lbe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ube extends bc{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gbe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jbe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N8{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k8{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vbe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hbe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ybe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wbe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F8{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const In="primary";class zbe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gp(n){return new zbe(n)}const B8="ngNavigationCancelingError";function WP(n){const t=Error("NavigationCancelingError: "+n);return t[B8]=!0,t}function Xbe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!L8(n[r],t[r]))return!1;return!0}function L8(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function U8(n){return Array.prototype.concat.apply([],n)}function G8(n){return n.length>0?n[n.length-1]:null}function po(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Rl(n){return mS(n)?n:Eg(n)?Gn(Promise.resolve(n)):Yt(n)}const Jbe={exact:function H8(n,t,e){if(!Cd(n.segments,t.segments)||!c1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!H8(n.children[i],t.children[i],e))return!1;return!0},subset:Y8},j8={exact:function Qbe(n,t){return xl(n,t)},subset:function Zbe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>L8(n[e],t[e]))},ignored:()=>!0};function V8(n,t,e){return Jbe[e.paths](n.root,t.root,e.matrixParams)&&j8[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Y8(n,t,e){return W8(n,t,t.segments,e)}function W8(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Cd(r,e)||t.hasChildren()||!c1(r,e,i))}if(n.segments.length===e.length){if(!Cd(n.segments,e)||!c1(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Y8(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Cd(n.segments,r)&&c1(n.segments,r,i)&&n.children[In])&&W8(n.children[In],t,o,i)}}function c1(n,t,e){return t.every((i,r)=>j8[e](n[r].parameters,i.parameters))}class Td{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gp(this.queryParams)),this._queryParamMap}toString(){return n1e.serialize(this)}}class Ln{constructor(t,e){this.segments=t,this.children=e,this.parent=null,po(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u1(this)}}class wm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gp(this.parameters)),this._parameterMap}toString(){return q8(this)}}function Cd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class z8{}class $8{parse(t){const e=new h1e(t);return new Td(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pm(t.root,!0)}`,i=function o1e(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${h1(e)}=${h1(r)}`).join("&"):`${h1(e)}=${h1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function i1e(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const n1e=new $8;function u1(n){return n.segments.map(t=>q8(t)).join("/")}function Pm(n,t){if(!n.hasChildren())return u1(n);if(t){const e=n.children[In]?Pm(n.children[In],!1):"",i=[];return po(n.children,(r,o)=>{o!==In&&i.push(`${o}:${Pm(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function t1e(n,t){let e=[];return po(n.children,(i,r)=>{r===In&&(e=e.concat(t(i,r)))}),po(n.children,(i,r)=>{r!==In&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===In?[Pm(n.children[In],!1)]:[`${r}:${Pm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[In]?`${u1(n)}/${e[0]}`:`${u1(n)}/(${e.join("//")})`}}function X8(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h1(n){return X8(n).replace(/%3B/gi,";")}function zP(n){return X8(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d1(n){return decodeURIComponent(n)}function K8(n){return d1(n.replace(/\+/g,"%20"))}function q8(n){return`${zP(n.path)}${function r1e(n){return Object.keys(n).map(t=>`;${zP(t)}=${zP(n[t])}`).join("")}(n.parameters)}`}const s1e=/^[^\/()?;=#]+/;function f1(n){const t=n.match(s1e);return t?t[0]:""}const a1e=/^[^=?&#]+/,c1e=/^[^&#]+/;class h1e{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[In]=new Ln(t,e)),i}parseSegment(){const t=f1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wm(d1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=f1(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=f1(this.remaining);r&&(i=r,this.capture(i))}t[d1(e)]=d1(i)}parseQueryParam(t){const e=function l1e(n){const t=n.match(a1e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function u1e(n){const t=n.match(c1e);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=K8(e),o=K8(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=f1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=In);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[In]:new Ln([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class J8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$P(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$P(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=XP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return XP(t,this._root).map(e=>e.value)}}function $P(n,t){if(n===t.value)return t;for(const e of t.children){const i=$P(n,e);if(i)return i}return null}function XP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=XP(n,e);if(i.length)return i.unshift(t),i}return[]}class Ec{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Q8 extends J8{constructor(t,e){super(t),this.snapshot=e,KP(this,t)}toString(){return this.snapshot.toString()}}function Z8(n,t){const e=function d1e(n,t){const s=new p1([],{},{},"",{},In,t,null,n.root,-1,{});return new t6("",new Ec(s,[]))}(n,t),i=new ei([new wm("",{})]),r=new ei({}),o=new ei({}),s=new ei({}),a=new ei(""),l=new Vp(i,r,s,a,o,In,t,e.root);return l.snapshot=e.root,new Q8(new Ec(l,[]),e)}class Vp{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>Gp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>Gp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function f1e(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class p1{constructor(t,e,i,r,o,s,a,l,c,g,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=g,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t6 extends J8{constructor(t,e){super(e),this.url=t,KP(this,e)}toString(){return n6(this._root)}}function KP(n,t){t.value._routerState=n,t.children.forEach(e=>KP(n,e))}function n6(n){const t=n.children.length>0?` { ${n.children.map(n6).join(", ")} } `:"";return`${n.value}${t}`}function qP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,xl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),xl(t.params,e.params)||n.params.next(e.params),function Kbe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!xl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),xl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function JP(n,t){const e=xl(n.params,t.params)&&function e1e(n,t){return Cd(n,t)&&n.every((e,i)=>xl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||JP(n.parent,t.parent))}function Am(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function g1e(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Am(n,i,r);return Am(n,i)})}(n,t,e);return new Ec(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Am(n,a)),s}}const i=function _1e(n){return new Vp(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Am(n,o));return new Ec(i,r)}}function g1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xm(n){return"object"==typeof n&&null!=n&&n.outlets}function QP(n,t,e,i,r){let o={};return i&&po(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new Td(e.root===n?t:i6(e.root,n,t),o,r)}function i6(n,t,e){const i={};return po(n.children,(r,o)=>{i[o]=r===t?e:i6(r,t,e)}),new Ln(n.segments,i)}class r6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&g1(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(xm);if(r&&r!==G8(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ZP{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function o6(n,t,e){if(n||(n=new Ln([],{})),0===n.segments.length&&n.hasChildren())return _1(n,t,e);const i=function S1e(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(xm(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!a6(l,c,s))return o;i+=2}else{if(!a6(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ln(n.segments.slice(0,i.pathIndex),{});return o.children[In]=new Ln(n.segments.slice(i.pathIndex),n.children),_1(o,0,r)}return i.match&&0===r.length?new Ln(n.segments,{}):i.match&&!n.hasChildren()?eA(n,t,e):i.match?_1(n,0,r):eA(n,t,e)}function _1(n,t,e){if(0===e.length)return new Ln(n.segments,{});{const i=function E1e(n){return xm(n[0])?n[0].outlets:{[In]:n}}(e),r={};return po(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=o6(n.children[s],t,o))}),po(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Ln(n.segments,r)}}function eA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(xm(o)){const l=T1e(o.outlets);return new Ln(i,l)}if(0===r&&g1(e[0])){i.push(new wm(n.segments[t].path,s6(e[0]))),r++;continue}const s=xm(o)?o.outlets[In]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&g1(a)?(i.push(new wm(s,s6(a))),r+=2):(i.push(new wm(s,{})),r++)}return new Ln(i,{})}function T1e(n){const t={};return po(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=eA(new Ln([],{}),0,e))}),t}function s6(n){const t={};return po(n,(e,i)=>t[i]=`${e}`),t}function a6(n,t,e){return n==e.path&&xl(t,e.parameters)}class O1e{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),qP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=jp(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),po(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=jp(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Wbe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Hbe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(qP(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qP(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function M1e(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class tA{constructor(t,e){this.routes=t,this.module=e}}function Cu(n){return"function"==typeof n}function Od(n){return n instanceof Td}const Rm=Symbol("INITIAL_VALUE");function Dm(){return ea(n=>function VM(...n){const t=cs(n),e=Pi(n),{args:i,keys:r}=vL(n);if(0===i.length)return Gn([],t);const o=new oe(function Gse(n,t,e=se){return i=>{kL(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)kL(t,()=>{const c=Gn(n[l],t);let g=!1;c.subscribe(ie(i,E=>{o[l]=E,g||(g=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>yL(r,s):se));return e?o.pipe($T(e)):o}(n.map(t=>t.pipe(Xn(1),up(Rm)))).pipe(x8((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Rm?r:(o===Rm&&(i=!0),i||!1!==o&&s!==e.length-1&&!Od(o)?r:o),t)},Rm),Ft(t=>t!==Rm),pe(t=>Od(t)?t:!0===t),Xn(1)))}class D1e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Im,this.attachRef=null}}class Im{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new D1e,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let l6=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.name=o||In,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new I1e(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)($(Im),$(ys),$(vf),function Du(n){return function rV(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(VA(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Lr(),n)}("name"),$(wn))},n.\u0275dir=mt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class I1e{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Vp?this.route:t===Im?this.childContexts:this.parent.get(t,e)}}let c6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Pe(0,"router-outlet")},directives:[l6],encapsulation:2}),n})();function u6(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];N1e(i,k1e(t,i))}}function N1e(n,t){n.children&&u6(n.children,t)}function k1e(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function nA(n){const t=n.children&&n.children.map(nA),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==In&&(e.component=c6),e}function ma(n){return n.outlet||In}function h6(n,t){const e=n.filter(i=>ma(i)===t);return e.push(...n.filter(i=>ma(i)!==t)),e}const d6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m1(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},d6):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Xbe)(e,n,t);if(!o)return Object.assign({},d6);const s={};po(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function v1(n,t,e,i,r="corrected"){if(e.length>0&&function L1e(n,t,e){return e.some(i=>y1(n,t,i)&&ma(i)!==In)}(n,e,i)){const s=new Ln(t,function B1e(n,t,e,i){const r={};r[In]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ma(o)!==In){const s=new Ln([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[ma(o)]=s}return r}(n,t,i,new Ln(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function U1e(n,t,e){return e.some(i=>y1(n,t,i))}(n,e,i)){const s=new Ln(n.segments,function F1e(n,t,e,i,r,o){const s={};for(const a of i)if(y1(n,e,a)&&!r[ma(a)]){const l=new Ln([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[ma(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Ln(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function y1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function f6(n,t,e,i){return!!(ma(n)===i||i!==In&&y1(t,e,n))&&("**"===n.path||m1(t,n,e).matched)}function p6(n,t,e){return 0===t.length&&!n.children[e]}class b1{constructor(t){this.segmentGroup=t||null}}class g6{constructor(t){this.urlTree=t}}function Nm(n){return e_(new b1(n))}function _6(n){return e_(new g6(n))}function G1e(n){return e_(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class H1e{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Vl)}apply(){const t=v1(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ln(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,In).pipe(pe(o=>this.createUrlTree(iA(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tu(o=>{if(o instanceof g6)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof b1?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,In).pipe(pe(r=>this.createUrlTree(iA(r),t.queryParams,t.fragment))).pipe(Tu(r=>{throw r instanceof b1?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Ln([],{[In]:t}):t;return new Td(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(pe(o=>new Ln([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Gn(r).pipe(Hu(o=>{const s=i.children[o],a=h6(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(pe(l=>({segment:l,outlet:o})))}),x8((o,s)=>(o[s.outlet]=s.segment,o),{}),function Nbe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ft((r,o)=>n(r,o,i)):se,HP(1),e?D8(t):R8(()=>new l1))}())}expandSegment(t,e,i,r,o,s){return Gn(i).pipe(Hu(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Tu(c=>{if(c instanceof b1)return Yt(null);throw c}))),Up(a=>!!a),Tu((a,l)=>{if(a instanceof l1||"EmptyError"===a.name)return p6(e,r,o)?Yt(new Ln([],{})):Nm(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return f6(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Nm(e):Nm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_6(o):this.lineralizeSegments(i,o).pipe(wi(s=>{const a=new Ln(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:g}=m1(e,r,o);if(!a)return Nm(e);const E=this.applyRedirectCommands(l,r.redirectTo,g);return r.redirectTo.startsWith("/")?_6(E):this.lineralizeSegments(r,E).pipe(wi(w=>this.expandSegment(t,e,i,w.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Yt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(pe(E=>(i._loadedConfig=E,new Ln(r,{})))):Yt(new Ln(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=m1(e,i,r);return s?this.getChildConfig(t,i,r).pipe(wi(g=>{const E=g.module,w=g.routes,{segmentGroup:P,slicedSegments:A}=v1(e,a,l,w),D=new Ln(P.segments,P.children);if(0===A.length&&D.hasChildren())return this.expandChildren(E,w,D).pipe(pe(re=>new Ln(a,re)));if(0===w.length&&0===A.length)return Yt(new Ln(a,{}));const B=ma(i)===o;return this.expandSegment(E,D,w,A,B?In:o,!0).pipe(pe(K=>new Ln(a.concat(K.segments),K.children)))})):Nm(e)}getChildConfig(t,e,i){return e.children?Yt(new tA(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Yt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(wi(r=>r?this.configLoader.load(t.injector,e).pipe(pe(o=>(e._loadedConfig=o,o))):function j1e(n){return e_(WP(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Yt(new tA([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return Yt(!0);const o=r.map(s=>{const a=t.get(s);let l;if(function P1e(n){return n&&Cu(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Cu(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Rl(l)});return Yt(o).pipe(Dm(),Ki(s=>{if(!Od(s))return;const a=WP(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),pe(s=>!0===s))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Yt(i);if(r.numberOfChildren>1||!r.children[In])return G1e(t.redirectTo);r=r.children[In]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Td(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return po(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return po(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new Ln(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function iA(n){const t={};for(const i of Object.keys(n.children)){const o=iA(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Y1e(n){if(1===n.numberOfChildren&&n.children[In]){const t=n.children[In];return new Ln(n.segments.concat(t.segments),t.children)}return n}(new Ln(n.segments,t))}class m6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class E1{constructor(t,e){this.component=t,this.route=e}}function z1e(n,t,e){const i=n._root;return km(i,t?t._root:null,e,[i.value])}function S1(n,t,e){const i=function X1e(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function km(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=jp(t);return n.children.forEach(s=>{(function K1e(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function q1e(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Cd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Cd(n.url,t.url)||!xl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JP(n,t)||!xl(n.queryParams,t.queryParams);default:return!JP(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new m6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),km(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new E1(a.outlet.component,s))}else s&&Fm(t,a,r),r.canActivateChecks.push(new m6(i)),km(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),po(o,(s,a)=>Fm(s,e.getContext(a),r)),r}function Fm(n,t,e){const i=jp(n),r=n.value;po(i,(o,s)=>{Fm(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new E1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class oEe{}function v6(n){return new oe(t=>t.error(n))}class aEe{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=v1(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,In);if(null===e)return null;const i=new p1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},In,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ec(i,e),o=new t6(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=e6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=h6(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=y6(i);return function lEe(n){n.sort((t,e)=>t.value.outlet===In?-1:e.value.outlet===In?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return p6(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!f6(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const P=i.length>0?G8(i).parameters:{};o=new p1(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,S6(t),ma(t),t.component,t,b6(e),E6(e)+i.length,T6(t))}else{const P=m1(e,t,i);if(!P.matched)return null;s=P.consumedSegments,a=P.remainingSegments,o=new p1(s,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,S6(t),ma(t),t.component,t,b6(e),E6(e)+s.length,T6(t))}const l=function cEe(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:g}=v1(e,s,a,l.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===g.length&&c.hasChildren()){const P=this.processChildren(l,c);return null===P?null:[new Ec(o,P)]}if(0===l.length&&0===g.length)return[new Ec(o,[])];const E=ma(t)===r,w=this.processSegment(l,c,g,E?In:r);return null===w?null:[new Ec(o,w)]}}function uEe(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function y6(n){const t=[],e=new Set;for(const i of n){if(!uEe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=y6(i.children);t.push(new Ec(i.value,r))}return t.filter(i=>!e.has(i))}function b6(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function E6(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function S6(n){return n.data||{}}function T6(n){return n.resolve||{}}function C6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rA(n){return ea(t=>{const e=n(t);return e?Gn(e).pipe(pe(()=>t)):Yt(t)})}class vEe extends class mEe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const oA=new Qt("ROUTES");class O6{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new tA(U8(s.injector.get(oA,void 0,ln.Self|ln.Optional)).map(nA),s)}),Tu(o=>{throw e._loader$=void 0,o}));return e._loader$=new Rbe(r,()=>new Le).pipe(A8()),e._loader$}loadModuleFactory(t){return Rl(t()).pipe(wi(e=>e instanceof BI?Yt(e):Gn(this.compiler.compileModuleAsync(e))))}}class bEe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function EEe(n){throw n}function SEe(n,t,e){return t.parse("/")}function M6(n,t){return Yt(null)}const TEe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CEe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le,this.errorHandler=EEe,this.malformedUriErrorHandler=SEe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:M6,afterPreactivation:M6},this.urlHandlingStrategy=new bEe,this.routeReuseStrategy=new vEe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Vl),this.console=s.get(b2);const E=s.get(Mn);this.isNgZoneEnabled=E instanceof Mn&&Mn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function qbe(){return new Td(new Ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new O6(s,a,w=>this.triggerEvent(new N8(w)),w=>this.triggerEvent(new k8(w))),this.routerState=Z8(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Ft(r=>0!==r.id),pe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ea(r=>{let o=!1,s=!1;return Yt(r).pipe(Ki(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ea(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return w6(a.source)&&(this.browserUrlTree=a.extractedUrl),Yt(a).pipe(ea(E=>{const w=this.transitions.getValue();return i.next(new YP(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),w!==this.transitions.getValue()?Qe:Promise.resolve(E)}),function W1e(n,t,e,i){return ea(r=>function V1e(n,t,e,i,r){return new H1e(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(pe(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ki(E=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:E.urlAfterRedirects})}),function hEe(n,t,e,i,r){return wi(o=>function sEe(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new aEe(n,t,e,i,r,o).recognize();return null===s?v6(new oEe):Yt(s)}catch(s){return v6(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(pe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ki(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(P,E)}this.browserUrlTree=E.urlAfterRedirects}const w=new Bbe(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(w)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:P,source:A,restoredState:D,extras:B}=a,Y=new YP(w,this.serializeUrl(P),A,D);i.next(Y);const K=Z8(P,this.rootComponentType).snapshot;return Yt(Object.assign(Object.assign({},a),{targetSnapshot:K,urlAfterRedirects:P,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qe}),rA(a=>{const{targetSnapshot:l,id:c,extractedUrl:g,rawUrl:E,extras:{skipLocationChange:w,replaceUrl:P}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:g,rawUrlTree:E,skipLocationChange:!!w,replaceUrl:!!P})}),Ki(a=>{const l=new Lbe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),pe(a=>Object.assign(Object.assign({},a),{guards:z1e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function J1e(n,t){return wi(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Yt(Object.assign(Object.assign({},e),{guardsResult:!0})):function Q1e(n,t,e,i){return Gn(n).pipe(wi(r=>function rEe(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Yt(o.map(a=>{const l=S1(a,t,r);let c;if(function R1e(n){return n&&Cu(n.canDeactivate)}(l))c=Rl(l.canDeactivate(n,t,e,i));else{if(!Cu(l))throw new Error("Invalid CanDeactivate guard");c=Rl(l(n,t,e,i))}return c.pipe(Up())})).pipe(Dm()):Yt(!0)}(r.component,r.route,e,t,i)),Up(r=>!0!==r,!0))}(s,i,r,n).pipe(wi(a=>a&&function w1e(n){return"boolean"==typeof n}(a)?function Z1e(n,t,e,i){return Gn(t).pipe(Hu(r=>Wc(function tEe(n,t){return null!==n&&t&&t(new Vbe(n)),Yt(!0)}(r.route.parent,i),function eEe(n,t){return null!==n&&t&&t(new Ybe(n)),Yt(!0)}(r.route,i),function iEe(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function $1e(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>A0(()=>Yt(s.guards.map(l=>{const c=S1(l,s.node,e);let g;if(function x1e(n){return n&&Cu(n.canActivateChild)}(c))g=Rl(c.canActivateChild(i,n));else{if(!Cu(c))throw new Error("Invalid CanActivateChild guard");g=Rl(c(i,n))}return g.pipe(Up())})).pipe(Dm())));return Yt(o).pipe(Dm())}(n,r.path,e),function nEe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Yt(!0);const r=i.map(o=>A0(()=>{const s=S1(o,t,e);let a;if(function A1e(n){return n&&Cu(n.canActivate)}(s))a=Rl(s.canActivate(t,n));else{if(!Cu(s))throw new Error("Invalid CanActivate guard");a=Rl(s(t,n))}return a.pipe(Up())}));return Yt(r).pipe(Dm())}(n,r.route,e))),Up(r=>!0!==r,!0))}(i,o,n,t):Yt(a)),pe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ki(a=>{if(Od(a.guardsResult)){const c=WP(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Ube(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Ft(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),rA(a=>{if(a.guards.canActivateChecks.length)return Yt(a).pipe(Ki(l=>{const c=new Gbe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ea(l=>{let c=!1;return Yt(l).pipe(function dEe(n,t){return wi(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Yt(e);let o=0;return Gn(r).pipe(Hu(s=>function fEe(n,t,e,i){return function pEe(n,t,e,i){const r=C6(n);if(0===r.length)return Yt({});const o={};return Gn(r).pipe(wi(s=>function gEe(n,t,e,i){const r=S1(n,t,i);return Rl(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(Ki(a=>{o[s]=a}))),HP(1),wi(()=>C6(o).length===r.length?Yt(o):Qe))}(n._resolve,n,t,i).pipe(pe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),e6(n,e).resolve),null)))}(s.route,i,n,t)),Ki(()=>o++),HP(1),wi(s=>o===r.length?Yt(e):Qe))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ki({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Ki(l=>{const c=new jbe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),rA(a=>{const{targetSnapshot:l,id:c,extractedUrl:g,rawUrl:E,extras:{skipLocationChange:w,replaceUrl:P}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:g,rawUrlTree:E,skipLocationChange:!!w,replaceUrl:!!P})}),pe(a=>{const l=function p1e(n,t,e){const i=Am(n,t._root,e?e._root:void 0);return new Q8(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Ki(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>pe(i=>(new O1e(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ki({next(){o=!0},complete(){o=!0}}),function kbe(n){return je((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Tu(a=>{if(s=!0,function $be(n){return n&&n[B8]}(a)){const l=Od(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new I8(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||w6(r.source)};this.scheduleNavigation(g,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new Fbe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Qe}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){u6(e),this.config=e.map(nA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,g=l?this.currentUrlTree.fragment:s;let E=null;switch(a){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function m1e(n,t,e,i,r){if(0===e.length)return QP(t.root,t.root,t,i,r);const o=function v1e(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new r6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return po(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new r6(e,t,i)}(e);if(o.toRoot())return QP(t.root,new Ln([],{}),t,i,r);const s=function y1e(n,t,e){if(n.isAbsolute)return new ZP(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new ZP(o,o===t.root,0)}const i=g1(n.commands[0])?0:1;return function b1e(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ZP(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?_1(s.segmentGroup,s.index,o.commands):o6(s.segmentGroup,s.index,o.commands);return QP(s.segmentGroup,a,t,i,r)}(c,this.currentUrlTree,e,E,null!=g?g:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Od(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function OEe(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},TEe):!1===i?Object.assign({},CEe):i,Od(e))return V8(this.currentUrlTree,e,r);const o=this.parseUrl(e);return V8(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Mm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,g,E;s?(c=s.resolve,g=s.reject,E=s.promise):E=new Promise((A,D)=>{c=A,g=D});const w=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):P=0,this.setTransition({id:w,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:g,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new I8(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){gS()},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function w6(n){return"imperative"!==n}class P6{}class A6{preload(t,e){return Yt(null)}}let x6=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new O6(r,i,l=>e.triggerEvent(new N8(l)),l=>e.triggerEvent(new k8(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(e=>e instanceof Mm),Hu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Vl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return Gn(r).pipe(Br(),pe(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Yt(i._loadedConfig):this.loader.load(e.injector,i)).pipe(wi(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Ne(Bs),Ne(E2),Ne(Er),Ne(P6))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),lA=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof F8&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new F8(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){gS()},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Md=new Qt("ROUTER_CONFIGURATION"),R6=new Qt("ROUTER_FORROOT_GUARD"),AEe=[iT,{provide:z8,useClass:$8},{provide:Bs,useFactory:function kEe(n,t,e,i,r,o,s={},a,l){const c=new Bs(null,n,t,e,i,r,U8(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function FEe(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(g=>{var E,w;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(w=console.groupEnd)||void 0===w||w.call(console)}),c},deps:[z8,Im,iT,Er,E2,oA,Md,[class yEe{},new Ac],[class _Ee{},new Ac]]},Im,{provide:Vp,useFactory:function BEe(n){return n.routerState.root},deps:[Bs]},x6,A6,class PEe{preload(t,e){return e().pipe(Tu(()=>Yt(null)))}},{provide:Md,useValue:{enableTracing:!1}}];function xEe(){return new M2("Router",Bs)}let REe=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[AEe,D6(e),{provide:R6,useFactory:NEe,deps:[[Bs,new Ac,new lg]]},{provide:Md,useValue:i||{}},{provide:Tf,useFactory:IEe,deps:[Uu,[new hv(nT),new Ac],Md]},{provide:lA,useFactory:DEe,deps:[Bs,SX,Md]},{provide:P6,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:A6},{provide:M2,multi:!0,useFactory:xEe},[cA,{provide:Hv,multi:!0,useFactory:LEe,deps:[cA]},{provide:I6,useFactory:UEe,deps:[cA]},{provide:y2,multi:!0,useExisting:I6}]]}}static forChild(e){return{ngModule:n,providers:[D6(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Ne(R6,8),Ne(Bs,8))},n.\u0275mod=lt({type:n}),n.\u0275inj=at({}),n})();function DEe(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new lA(n,t,e)}function IEe(n,t,e={}){return e.useHash?new p$(n,t):new z2(n,t)}function NEe(n){return"guarded"}function D6(n){return[{provide:cV,multi:!0,useValue:n},{provide:oA,multi:!0,useValue:n}]}let cA=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le}appInitializer(){return this.injector.get(h$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(Bs),s=this.injector.get(Md);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Yt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Md),r=this.injector.get(x6),o=this.injector.get(lA),s=this.injector.get(Bs),a=this.injector.get(Fg);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Ne(Er))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function LEe(n){return n.appInitializer.bind(n)}function UEe(n){return n.bootstrapListener.bind(n)}const I6=new Qt("Router Initializer");let jEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),VEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),HEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=at({imports:[[Ot,gn]]}),n})(),YEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lt({type:n,bootstrap:[Gve]}),n.\u0275inj=at({providers:[{provide:Hv,useFactory:t=>()=>t.init(),deps:[un],multi:!0},{provide:$d,useValue:bJ()}],imports:[[SN,P8,xbe,jEe,REe.forRoot([],{relativeLinkResolution:"legacy"}),dJ,HEe,gn.forRoot({defaultLanguage:"en",missingTranslationHandler:{provide:R0,useClass:Mse},loader:{provide:N_,useFactory:Ose,deps:[BT]}}),VP,_p,VEe,Fse]]}),n})();var N6=M(752),zEe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),k6=M(9819),sr=M(1255),T1=(0,Oo.R)(),F6=M(7516),uA=(n,t,e)=>{let i;return r=>{t.value>=0&&(r||e)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,n(t)))}},hA=(n,t)=>({name:n,value:(0,F6.h)(t,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),C1=(n,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(i=>i.getEntries().map(t));return e.observe({type:n,buffered:!0}),e}}catch(i){}},O1=(n,t)=>{var e=i=>{("pagehide"===i.type||"hidden"===(0,Oo.R)().document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)};let M1=-1;var dA=()=>(M1<0&&(M1="hidden"===(0,Oo.R)().document.visibilityState?0:1/0,O1(({timeStamp:n})=>{M1=n},!0)),{get firstHiddenTime(){return M1}}),B6={};function w1(n){return"number"==typeof n&&isFinite(n)}function Yp(n,i){var r=i,{startTimestamp:t}=r,e=Q6(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(Xe({startTimestamp:t},e))}var wd=(0,Oo.R)();function L6(){return wd&&wd.addEventListener&&wd.performance}let Dl,Bm,U6=0,ar={};function tSe(n=!1){var t=L6();t&&Gu.Z1&&(t.mark&&wd.performance.mark("sentry-tracing-init"),function iSe(){((n,t)=>{var e=hA("CLS",0);let i,r=0,o=[];var s=l=>{l&&!l.hadRecentInput&&(r&&0!==o.length&&l.startTime-o[o.length-1].startTime<1e3&&l.startTime-o[0].startTime<5e3?(r+=l.value,o.push(l)):(r=l.value,o=[l]),r>e.value&&(e.value=r,e.entries=o,i&&i()))},a=C1("layout-shift",s);a&&(i=uA(n=>{var t=n.entries.pop();!t||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding CLS"),ar.cls={value:n.value,unit:""},Bm=t)},e,void 0),O1(()=>{a.takeRecords().map(s),i(!0)}))})()}(),function rSe(n){((n,t)=>{var e=dA(),i=hA("LCP");let r;var o=l=>{var c=l.startTime;c<e.firstHiddenTime&&(i.value=c,i.entries.push(l)),r&&r()},s=C1("largest-contentful-paint",o);if(s){r=uA(t=>{var e=t.entries.pop();!e||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding LCP"),ar.lcp={value:t.value,unit:"millisecond"},Dl=e)},i,t);var a=()=>{B6[i.id]||(s.takeRecords().map(o),s.disconnect(),B6[i.id]=!0,r(!0))};["keydown","click"].forEach(l=>{addEventListener(l,a,{once:!0,capture:!0})}),O1(a,!0)}})(0,n)}(n),function oSe(){((n,t)=>{var e=dA(),i=hA("FID");let r;var o=a=>{r&&a.startTime<e.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),r(!0))},s=C1("first-input",o);s&&(r=uA(n=>{var t=n.entries.pop();if(t){var e=(0,sr.XL)(Gu.Z1),i=(0,sr.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding FID"),ar.fid={value:n.value,unit:"millisecond"},ar["mark.fid"]={value:e+i,unit:"second"}}},i,void 0),O1(()=>{s.takeRecords().map(o),s.disconnect()},!0))})()}())}function P1(n,t,e,i,r,o){var s=o?t[o]:t[`${e}End`],a=t[`${e}Start`];!a||!s||Yp(n,{op:"browser",description:(0,F6.h)(r,()=>e),startTimestamp:i+(0,sr.XL)(a),endTimestamp:i+(0,sr.XL)(s)})}var A1={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var Lm=(0,Oo.R)(),bSe=Xe({idleTimeout:k6.nT,finalTimeout:k6.mg,markBackgroundTransactions:!0,routingInstrumentation:function vSe(n,t=!0,e=!0){if(!Lm||!Lm.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=Lm.location.href;t&&(r=n({name:Lm.location.pathname,op:"pageload",metadata:{source:"url"}})),e&&(0,Na.o)("history",({to:o,from:s})=>{void 0===s&&i&&-1!==i.indexOf(o)?i=void 0:s!==o&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=n({name:Lm.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0}},A1);class fA{__init(){this.name="BrowserTracing"}constructor(t){fA.prototype.__init.call(this);let e=A1.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=ii(Xe(Xe({},bSe),t),{tracingOrigins:e});const{_metricOptions:i}=this.options;tSe(i&&i._reportAllChanges),function WEe(n){let t,e=n[0],i=1;for(;i<n.length;){var r=n[i],o=n[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==e)return;"access"===r||"optionalAccess"===r?(t=e,e=o(e)):("call"===r||"optionalCall"===r)&&(e=o((...s)=>e.call(t,...s)),t=void 0)}return e}([this,"access",r=>r.options,"access",r=>r._experiments,"optionalAccess",r=>r.enableLongTask])&&function nSe(){C1("longtask",t=>{var e=(0,sr.x1)();if(e){var i=(0,sr.XL)(Gu.Z1+t.startTime),r=(0,sr.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+r})}})}()}setupOnce(t,e){this._getCurrentHub=e,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`[Tracing] We added a reasonable default for you: ${A1.tracingOrigins}`));const{routingInstrumentation:i,startTransactionOnLocationChange:r,startTransactionOnPageLoad:o,markBackgroundTransactions:s,traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:g}=this.options;i(E=>this._createRouteTransaction(E),o,r),s&&function XEe(){T1&&T1.document?T1.document.addEventListener("visibilitychange",()=>{var n=(0,sr.x1)();if(T1.document.hidden&&n){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),function pSe(n){const{traceFetch:t,traceXHR:e,tracingOrigins:i,shouldCreateSpanForRequest:r}=Xe(Xe({},A1),n);var o={},s=c=>(o[c]||(o[c]=i.some(E=>(0,ll.zC)(c,E))&&!(0,ll.zC)(c,"sentry_key")),o[c]);let a=s;"function"==typeof r&&(a=c=>s(c)&&r(c));var l={};t&&(0,Na.o)("fetch",c=>{!function gSe(n,t,e){if((0,sr.zu)()&&n.fetchData&&t(n.fetchData.url)){if(n.endTimestamp){var i=n.fetchData.__span;if(!i)return;return void((r=e[i])&&(n.response?r.setHttpStatus(n.response.status):n.error&&r.setStatus("internal_error"),r.finish(),delete e[i]))}var o=(0,sr.x1)();if(o){var r=o.startChild({data:ii(Xe({},n.fetchData),{type:"fetch"}),description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=r.spanId,e[r.spanId]=r;var s=n.args[0]=n.args[0],a=n.args[1]=n.args[1]||{};a.headers=function _Se(n,t,e,i){let r=i.headers;if((0,Cr.V9)(n,Request)&&(r=n.headers),r)if("function"==typeof r.append)r.append("sentry-trace",e.toTraceparent()),r.append(Es.bU,(0,Es.J8)(t,r.get(Es.bU)));else if(Array.isArray(r)){const[,o]=r.find(([s,a])=>s===Es.bU);r=[...r,["sentry-trace",e.toTraceparent()],[Es.bU,(0,Es.J8)(t,o)]]}else r=ii(Xe({},r),{"sentry-trace":e.toTraceparent(),baggage:(0,Es.J8)(t,r.baggage)});else r={"sentry-trace":e.toTraceparent(),baggage:(0,Es.J8)(t)};return r}(s,o.getBaggage(),r,a)}}}(c,a,l)}),e&&(0,Na.o)("xhr",c=>{!function mSe(n,t,e){if(!(!(0,sr.zu)()||n.xhr&&n.xhr.__sentry_own_request__)&&n.xhr&&n.xhr.__sentry_xhr__&&t(n.xhr.__sentry_xhr__.url)){var i=n.xhr.__sentry_xhr__;if(n.endTimestamp){var r=n.xhr.__sentry_xhr_span_id__;if(!r)return;return void((o=e[r])&&(o.setHttpStatus(i.status_code),o.finish(),delete e[r]))}var s=(0,sr.x1)();if(s){var o=s.startChild({data:ii(Xe({},i.data),{type:"xhr",method:i.method,url:i.url}),description:`${i.method} ${i.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=o.spanId,e[n.xhr.__sentry_xhr_span_id__]=o,n.xhr.setRequestHeader)try{n.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var a=n.xhr.getRequestHeader&&n.xhr.getRequestHeader(Es.bU);n.xhr.setRequestHeader(Es.bU,(0,Es.J8)(s.getBaggage(),a))}catch(c){}}}}(c,a,l)})}({traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:g})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:i,finalTimeout:r}=this.options;var o="pageload"===t.op?function ESe(){var n=G6("sentry-trace"),t=G6("baggage"),e=n?function $Ee(n){var t=n.match(zEe);if(t){let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}}(n):void 0,i=(0,Es.rg)(t,n);if(e||i)return Xe(Xe({},e&&e),i&&{metadata:{baggage:i}})}():void 0,s=ii(Xe(Xe(Xe({},t),o),o&&{metadata:Xe(Xe({},t.metadata),o.metadata)}),{trimEnd:!0}),a="function"==typeof e?e(s):s,l=void 0===a?ii(Xe({},s),{sampled:!1}):a;l.metadata=l.name!==s.name?ii(Xe({},l.metadata),{source:"custom"}):l.metadata,!1===l.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`[Tracing] Starting ${l.op} transaction on scope`);var c=this._getCurrentHub();const{location:g}=(0,Oo.R)();var E=(0,N6.lb)(c,l,i,r,!0,{location:g});return E.registerBeforeFinishCallback(w=>{(function sSe(n){var t=L6();if(!t||!wd.performance.getEntries||!Gu.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Tracing] Adding & adjusting spans using Performance API");var e=(0,sr.XL)(Gu.Z1),i=t.getEntries();let r,o;if(i.slice(U6).forEach(a=>{var l=(0,sr.XL)(a.startTime),c=(0,sr.XL)(a.duration);if(!("navigation"===n.op&&e+l<n.startTimestamp))switch(a.entryType){case"navigation":(function lSe(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{P1(n,t,i,e)}),P1(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),P1(n,t,"fetch",e,"cache","domainLookupStart"),P1(n,t,"domainLookup",e,"DNS"),function cSe(n,t,e){Yp(n,{op:"browser",description:"request",startTimestamp:e+(0,sr.XL)(t.requestStart),endTimestamp:e+(0,sr.XL)(t.responseEnd)}),Yp(n,{op:"browser",description:"response",startTimestamp:e+(0,sr.XL)(t.responseStart),endTimestamp:e+(0,sr.XL)(t.responseEnd)})}(n,t,e)})(n,a,e),r=e+(0,sr.XL)(a.responseStart),o=e+(0,sr.XL)(a.requestStart);break;case"mark":case"paint":case"measure":!function aSe(n,t,e,i,r){var o=r+e;Yp(n,{description:t.name,endTimestamp:o+i,op:t.entryType,startTimestamp:o})}(n,a,l,c,e);var g=dA(),E=a.startTime<g.firstHiddenTime;"first-paint"===a.name&&E&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding FP"),ar.fp={value:a.startTime,unit:"millisecond"}),"first-contentful-paint"===a.name&&E&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding FCP"),ar.fcp={value:a.startTime,unit:"millisecond"});break;case"resource":var w=a.name.replace(wd.location.origin,"");!function uSe(n,t,e,i,r,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=o+i;Yp(n,{description:e,endTimestamp:a+r,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:a,data:s})}}(n,a,w,l,c,e)}}),U6=Math.max(i.length-1,0),function hSe(n){var t=wd.navigator;if(t){var e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),w1(e.rtt)&&(ar["connection.rtt"]={value:e.rtt,unit:"millisecond"}),w1(e.downlink)&&(ar["connection.downlink"]={value:e.downlink,unit:""})),w1(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),w1(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(n),"pageload"===n.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding TTFB"),ar.ttfb={value:1e3*(r-n.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=r&&(ar["ttfb.requestTime"]={value:1e3*(r-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(ar[a]&&!(e>=n.startTimestamp)){var l=ar[a].value,c=e+(0,sr.XL)(l),g=Math.abs(1e3*(c-n.startTimestamp));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log(`[Measurements] Normalized ${a} from ${l} to ${g} (${g-l})`),ar[a].value=g}});var s=ar["mark.fid"];s&&ar.fid&&(Yp(n,{description:"first input delay",endTimestamp:s.value+(0,sr.XL)(ar.fid.value),op:"web.vitals",startTimestamp:s.value}),delete ar["mark.fid"]),"fcp"in ar||delete ar.cls,Object.keys(ar).forEach(a=>{n.setMeasurement(a,ar[a].value,ar[a].unit)}),function dSe(n){Dl&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding LCP Data"),Dl.element&&n.setTag("lcp.element",(0,Pf.Rt)(Dl.element)),Dl.id&&n.setTag("lcp.id",Dl.id),Dl.url&&n.setTag("lcp.url",Dl.url.trim().slice(0,200)),n.setTag("lcp.size",Dl.size)),Bm&&Bm.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.log("[Measurements] Adding CLS Data"),Bm.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,(0,Pf.Rt)(t.node))))}(n)}Dl=void 0,Bm=void 0,ar={}})(w),w.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),E}}function G6(n){var t=(0,Pf.qT)(`meta[name=${n}]`);return t?t.getAttribute("content"):null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,N6.ro)();class Wp{constructor(){Wp.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Wp.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(Wp);if(o){try{if(function SSe(n,t){return!(!t||!function TSe(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!V6(n,t)||!j6(n,t))}(n,t)&&!function CSe(n,t){var e=H6(t),i=H6(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&V6(n,t)&&j6(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function j6(n,t){let e=Y6(n),i=Y6(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function V6(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function H6(n){return n.exception&&n.exception.values&&n.exception.values[0]}function Y6(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Wp.__initStatic();const MSe=["Http failure during parsing for","Failed to start the audio device","The new multiplier is less than the previous multiplier in the current round"],ASe={dsn:"https://8f6b03bc41d54a058f2ccfbe5e3722e3@sentry.spribe.io/10",environment:"prod",release:zi_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate"],normalizeDepth:8,integrations:[new fA,new Wp],maxBreadcrumbs:50,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function PSe(n,t){return(null==t?void 0:t.originalException)instanceof py||"Timeout"===(null==t?void 0:t.originalException)||!!MSe.find(e=>{var i;return null===(i=n.message)||void 0===i?void 0:i.includes(e)})&&Math.random()>.001}(n,t)?null:n};(function gJ(n){n._metadata=n._metadata||{},n._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:hy}],version:hy},function _J(){const n=Fv&&Fv.major?parseInt(Fv.major,10):void 0;n&&(n<10&&pJ&&Wt.kg.warn(`The Sentry SDK does not officially support Angular ${n}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Eq(n,t){(0,mr.Gd)().setContext(n,t)}("angular",{version:n}))}(),function qq(n={}){if(void 0===n.defaultIntegrations&&(n.defaultIntegrations=Kq),void 0===n.release){var t=(0,Oo.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(n.release=t.SENTRY_RELEASE.id)}void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);var e=ii(Xe({},n),{stackParser:(0,Wl.Sq)(n.stackParser||bq),integrations:oK(n),transport:n.transport||((0,CT.Ak)()?zq:Xq)});(function aK(n,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Wt.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var e=(0,mr.Gd)(),i=e.getScope();i&&i.update(t.initialScope);var r=new n(t);e.bindClient(r)})(QK,e),n.autoSessionTracking&&function Qq(){if(void 0!==(0,Oo.R)().document){var e=(0,mr.Gd)();!e.captureSession||(rk(e),(0,Na.o)("history",({from:i,to:r})=>{void 0===i||i===r||rk((0,mr.Gd)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Wt.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(n)})(ASe),zi_production&&function Yz(){D2=!1}(),!1===zi_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(n=>{console[n]=function(){}}),$X().bootstrapModule(YEe).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:me=>{"use strict";var U=Object.prototype.hasOwnProperty,M="~";function u(){}function T(_,f,p){this.fn=_,this.context=f,this.once=p||!1}function y(_,f,p,d,b){if("function"!=typeof p)throw new TypeError("The listener must be a function");var C=new T(p,d||_,b),h=M?M+f:f;return _._events[h]?_._events[h].fn?_._events[h]=[_._events[h],C]:_._events[h].push(C):(_._events[h]=C,_._eventsCount++),_}function S(_,f){0==--_._eventsCount?_._events=new u:delete _._events[f]}function m(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(M=!1)),m.prototype.eventNames=function(){var p,d,f=[];if(0===this._eventsCount)return f;for(d in p=this._events)U.call(p,d)&&f.push(M?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},m.prototype.listeners=function(f){var d=this._events[M?M+f:f];if(!d)return[];if(d.fn)return[d.fn];for(var b=0,C=d.length,h=new Array(C);b<C;b++)h[b]=d[b].fn;return h},m.prototype.listenerCount=function(f){var d=this._events[M?M+f:f];return d?d.fn?1:d.length:0},m.prototype.emit=function(f,p,d,b,C,h){var v=M?M+f:f;if(!this._events[v])return!1;var k,G,O=this._events[v],x=arguments.length;if(O.fn){switch(O.once&&this.removeListener(f,O.fn,void 0,!0),x){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,p),!0;case 3:return O.fn.call(O.context,p,d),!0;case 4:return O.fn.call(O.context,p,d,b),!0;case 5:return O.fn.call(O.context,p,d,b,C),!0;case 6:return O.fn.call(O.context,p,d,b,C,h),!0}for(G=1,k=new Array(x-1);G<x;G++)k[G-1]=arguments[G];O.fn.apply(O.context,k)}else{var L,H=O.length;for(G=0;G<H;G++)switch(O[G].once&&this.removeListener(f,O[G].fn,void 0,!0),x){case 1:O[G].fn.call(O[G].context);break;case 2:O[G].fn.call(O[G].context,p);break;case 3:O[G].fn.call(O[G].context,p,d);break;case 4:O[G].fn.call(O[G].context,p,d,b);break;default:if(!k)for(L=1,k=new Array(x-1);L<x;L++)k[L-1]=arguments[L];O[G].fn.apply(O[G].context,k)}}return!0},m.prototype.on=function(f,p,d){return y(this,f,p,d,!1)},m.prototype.once=function(f,p,d){return y(this,f,p,d,!0)},m.prototype.removeListener=function(f,p,d,b){var C=M?M+f:f;if(!this._events[C])return this;if(!p)return S(this,C),this;var h=this._events[C];if(h.fn)h.fn===p&&(!b||h.once)&&(!d||h.context===d)&&S(this,C);else{for(var v=0,O=[],x=h.length;v<x;v++)(h[v].fn!==p||b&&!h[v].once||d&&h[v].context!==d)&&O.push(h[v]);O.length?this._events[C]=1===O.length?O[0]:O:S(this,C)}return this},m.prototype.removeAllListeners=function(f){var p;return f?this._events[p=M?M+f:f]&&S(this,p):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=M,m.EventEmitter=m,me.exports=m},9248:(me,U,M)=>{"use strict";M.d(U,{Gd:()=>v,cu:()=>C});var u=M(5535),T=M(3967),y=M(1446),S=M(7576),m=M(723),_=M(383),f=M(1539),d=100;class b{__init(){this._stack=[{}]}constructor(L,j=new _.s,F=4){this._version=F,b.prototype.__init.call(this),this.getStackTop().scope=j,L&&this.bindClient(L)}isOlderThan(L){return this._version<L}bindClient(L){this.getStackTop().client=L,L&&L.setupIntegrations&&L.setupIntegrations()}pushScope(){var L=_.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:L}),L}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(L){var j=this.pushScope();try{L(j)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(L,j){var F=this._lastEventId=j&&j.event_id?j.event_id:(0,u.DM)(),V=new Error("Sentry syntheticException");return this._withClient((Q,W)=>{Q.captureException(L,ii(Xe({originalException:L,syntheticException:V},j),{event_id:F}),W)}),F}captureMessage(L,j,F){var V=this._lastEventId=F&&F.event_id?F.event_id:(0,u.DM)(),Q=new Error(L);return this._withClient((W,ee)=>{W.captureMessage(L,j,ii(Xe({originalException:L,syntheticException:Q},F),{event_id:V}),ee)}),V}captureEvent(L,j){var F=j&&j.event_id?j.event_id:(0,u.DM)();return"transaction"!==L.type&&(this._lastEventId=F),this._withClient((V,Q)=>{V.captureEvent(L,ii(Xe({},j),{event_id:F}),Q)}),F}lastEventId(){return this._lastEventId}addBreadcrumb(L,j){const{scope:F,client:V}=this.getStackTop();if(!F||!V)return;const{beforeBreadcrumb:Q=null,maxBreadcrumbs:W=d}=V.getOptions&&V.getOptions()||{};if(!(W<=0)){var ee=(0,T.yW)(),J=Xe({timestamp:ee},L),ue=Q?(0,y.Cf)(()=>Q(J,j)):J;null!==ue&&F.addBreadcrumb(ue,W)}}setUser(L){var j=this.getScope();j&&j.setUser(L)}setTags(L){var j=this.getScope();j&&j.setTags(L)}setExtras(L){var j=this.getScope();j&&j.setExtras(L)}setTag(L,j){var F=this.getScope();F&&F.setTag(L,j)}setExtra(L,j){var F=this.getScope();F&&F.setExtra(L,j)}setContext(L,j){var F=this.getScope();F&&F.setContext(L,j)}configureScope(L){const{scope:j,client:F}=this.getStackTop();j&&F&&L(j)}run(L){var j=h(this);try{L(this)}finally{h(j)}}getIntegration(L){var j=this.getClient();if(!j)return null;try{return j.getIntegration(L)}catch(F){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn(`Cannot retrieve integration ${L.id} from the current Hub`),null}}startTransaction(L,j){return this._callExtensionMethod("startTransaction",L,j)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(L=!1){if(L)return this.endSession();this._sendSessionUpdate()}endSession(){var L=this.getStackTop(),j=L&&L.scope,F=j&&j.getSession();F&&(0,f.RJ)(F),this._sendSessionUpdate(),j&&j.setSession()}startSession(L){const{scope:j,client:F}=this.getStackTop(),{release:V,environment:Q}=F&&F.getOptions()||{};var W=(0,S.R)();const{userAgent:ee}=W.navigator||{};var J=(0,f.Hv)(Xe(Xe(Xe({release:V,environment:Q},j&&{user:j.getUser()}),ee&&{userAgent:ee}),L));if(j){var ue=j.getSession&&j.getSession();ue&&"ok"===ue.status&&(0,f.CT)(ue,{status:"exited"}),this.endSession(),j.setSession(J)}return J}shouldSendDefaultPii(){var L=this.getClient(),j=L&&L.getOptions();return Boolean(j&&j.sendDefaultPii)}_sendSessionUpdate(){const{scope:L,client:j}=this.getStackTop();if(L){var F=L.getSession();F&&j&&j.captureSession&&j.captureSession(F)}}_withClient(L){const{scope:j,client:F}=this.getStackTop();F&&L(F,j)}_callExtensionMethod(L,...j){var V=C().__SENTRY__;if(V&&V.extensions&&"function"==typeof V.extensions[L])return V.extensions[L].apply(this,j);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn(`Extension method ${L} couldn't be found, doing nothing.`)}}function C(){var H=(0,S.R)();return H.__SENTRY__=H.__SENTRY__||{extensions:{},hub:void 0},H}function h(H){var L=C(),j=k(L);return G(L,H),j}function v(){var H=C();return(!x(H)||k(H).isOlderThan(4))&&G(H,new b),(0,m.KV)()?function O(H){try{var L=C().__SENTRY__,j=L&&L.extensions&&L.extensions.domain&&L.extensions.domain.active;if(!j)return k(H);if(!x(j)||k(j).isOlderThan(4)){var F=k(H).getStackTop();G(j,new b(F.client,_.s.clone(F.scope)))}return k(j)}catch(V){return k(H)}}(H):k(H)}function x(H){return!!(H&&H.__SENTRY__&&H.__SENTRY__.hub)}function k(H){return(0,S.Y)("hub",()=>new b,H)}function G(H,L){return!!H&&((H.__SENTRY__=H.__SENTRY__||{}).hub=L,!0)}},383:(me,U,M)=>{"use strict";M.d(U,{s:()=>d,c:()=>C});var u=M(6412),T=M(3967),y=M(509),S=M(1446),m=M(5535),_=M(7576),f=M(1539);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(v){var O=new d;return v&&(O._breadcrumbs=[...v._breadcrumbs],O._tags=Xe({},v._tags),O._extra=Xe({},v._extra),O._contexts=Xe({},v._contexts),O._user=v._user,O._level=v._level,O._span=v._span,O._session=v._session,O._transactionName=v._transactionName,O._fingerprint=v._fingerprint,O._eventProcessors=[...v._eventProcessors],O._requestSession=v._requestSession,O._attachments=[...v._attachments]),O}addScopeListener(v){this._scopeListeners.push(v)}addEventProcessor(v){return this._eventProcessors.push(v),this}setUser(v){return this._user=v||{},this._session&&(0,f.CT)(this._session,{user:v}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(v){return this._requestSession=v,this}setTags(v){return this._tags=Xe(Xe({},this._tags),v),this._notifyScopeListeners(),this}setTag(v,O){return this._tags=ii(Xe({},this._tags),{[v]:O}),this._notifyScopeListeners(),this}setExtras(v){return this._extra=Xe(Xe({},this._extra),v),this._notifyScopeListeners(),this}setExtra(v,O){return this._extra=ii(Xe({},this._extra),{[v]:O}),this._notifyScopeListeners(),this}setFingerprint(v){return this._fingerprint=v,this._notifyScopeListeners(),this}setLevel(v){return this._level=v,this._notifyScopeListeners(),this}setTransactionName(v){return this._transactionName=v,this._notifyScopeListeners(),this}setContext(v,O){return null===O?delete this._contexts[v]:this._contexts=ii(Xe({},this._contexts),{[v]:O}),this._notifyScopeListeners(),this}setSpan(v){return this._span=v,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var v=this.getSpan();return v&&v.transaction}setSession(v){return v?this._session=v:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(v){if(!v)return this;if("function"==typeof v){var O=v(this);return O instanceof d?O:this}return v instanceof d?(this._tags=Xe(Xe({},this._tags),v._tags),this._extra=Xe(Xe({},this._extra),v._extra),this._contexts=Xe(Xe({},this._contexts),v._contexts),v._user&&Object.keys(v._user).length&&(this._user=v._user),v._level&&(this._level=v._level),v._fingerprint&&(this._fingerprint=v._fingerprint),v._requestSession&&(this._requestSession=v._requestSession)):(0,u.PO)(v)&&(v=v,this._tags=Xe(Xe({},this._tags),v.tags),this._extra=Xe(Xe({},this._extra),v.extra),this._contexts=Xe(Xe({},this._contexts),v.contexts),v.user&&(this._user=v.user),v.level&&(this._level=v.level),v.fingerprint&&(this._fingerprint=v.fingerprint),v.requestSession&&(this._requestSession=v.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(v,O){var x="number"==typeof O?Math.min(O,100):100;if(x<=0)return this;var k=Xe({timestamp:(0,T.yW)()},v);return this._breadcrumbs=[...this._breadcrumbs,k].slice(-x),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(v){return this._attachments.push(v),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(v,O={}){if(this._extra&&Object.keys(this._extra).length&&(v.extra=Xe(Xe({},this._extra),v.extra)),this._tags&&Object.keys(this._tags).length&&(v.tags=Xe(Xe({},this._tags),v.tags)),this._user&&Object.keys(this._user).length&&(v.user=Xe(Xe({},this._user),v.user)),this._contexts&&Object.keys(this._contexts).length&&(v.contexts=Xe(Xe({},this._contexts),v.contexts)),this._level&&(v.level=this._level),this._transactionName&&(v.transaction=this._transactionName),this._span){v.contexts=Xe({trace:this._span.getTraceContext()},v.contexts);var x=this._span.transaction&&this._span.transaction.name;x&&(v.tags=Xe({transaction:x},v.tags))}return this._applyFingerprint(v),v.breadcrumbs=[...v.breadcrumbs||[],...this._breadcrumbs],v.breadcrumbs=v.breadcrumbs.length>0?v.breadcrumbs:void 0,v.sdkProcessingMetadata=Xe(Xe({},v.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...b(),...this._eventProcessors],v,O)}setSDKProcessingMetadata(v){return this._sdkProcessingMetadata=Xe(Xe({},this._sdkProcessingMetadata),v),this}_notifyEventProcessors(v,O,x,k=0){return new y.cW((G,H)=>{var L=v[k];if(null===O||"function"!=typeof L)G(O);else{var j=L(Xe({},O),x);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&L.id&&null===j&&S.kg.log(`Event processor "${L.id}" dropped event`),(0,u.J8)(j)?j.then(F=>this._notifyEventProcessors(v,F,x,k+1).then(G)).then(null,H):this._notifyEventProcessors(v,j,x,k+1).then(G).then(null,H)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(v=>{v(this)}),this._notifyingListeners=!1)}_applyFingerprint(v){v.fingerprint=v.fingerprint?(0,m.lE)(v.fingerprint):[],this._fingerprint&&(v.fingerprint=v.fingerprint.concat(this._fingerprint)),v.fingerprint&&!v.fingerprint.length&&delete v.fingerprint}}function b(){return(0,_.Y)("globalEventProcessors",()=>[])}function C(h){b().push(h)}},1539:(me,U,M)=>{"use strict";M.d(U,{RJ:()=>_,Hv:()=>S,CT:()=>m});var u=M(3967),T=M(5535),y=M(7759);function S(p){var d=(0,u.ph)(),b={sid:(0,T.DM)(),init:!0,timestamp:d,started:d,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function f(p){return(0,y.Jr)({sid:`${p.sid}`,init:p.init,started:new Date(1e3*p.started).toISOString(),timestamp:new Date(1e3*p.timestamp).toISOString(),status:p.status,errors:p.errors,did:"number"==typeof p.did||"string"==typeof p.did?`${p.did}`:void 0,duration:p.duration,attrs:{release:p.release,environment:p.environment,ip_address:p.ipAddress,user_agent:p.userAgent}})}(b)};return p&&m(b,p),b}function m(p,d={}){if(d.user&&(!p.ipAddress&&d.user.ip_address&&(p.ipAddress=d.user.ip_address),!p.did&&!d.did&&(p.did=d.user.id||d.user.email||d.user.username)),p.timestamp=d.timestamp||(0,u.ph)(),d.ignoreDuration&&(p.ignoreDuration=d.ignoreDuration),d.sid&&(p.sid=32===d.sid.length?d.sid:(0,T.DM)()),void 0!==d.init&&(p.init=d.init),!p.did&&d.did&&(p.did=`${d.did}`),"number"==typeof d.started&&(p.started=d.started),p.ignoreDuration)p.duration=void 0;else if("number"==typeof d.duration)p.duration=d.duration;else{var b=p.timestamp-p.started;p.duration=b>=0?b:0}d.release&&(p.release=d.release),d.environment&&(p.environment=d.environment),!p.ipAddress&&d.ipAddress&&(p.ipAddress=d.ipAddress),!p.userAgent&&d.userAgent&&(p.userAgent=d.userAgent),"number"==typeof d.errors&&(p.errors=d.errors),d.status&&(p.status=d.status)}function _(p,d){let b={};d?b={status:d}:"ok"===p.status&&(b={status:"exited"}),m(p,b)}},752:(me,U,M)=>{"use strict";M.d(U,{ro:()=>H,lb:()=>x});var u=M(9248),T=M(1446),y=M(6412),S=M(723),m=M(3343),_=M(1255);function p(){var L=(0,_.x1)();if(L){var j="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] Transaction: ${j} -> Global error occured`),L.setStatus(j)}}var d=M(9819),b=M(7583);function C(){var L=this.getScope();if(L){var j=L.getSpan();if(j)return{"sentry-trace":j.toTraceparent()}}return{}}function h(L,j,F){if(!(0,_.zu)(j))return L.sampled=!1,L;if(void 0!==L.sampled)return L.setMetadata({transactionSampling:{method:"explicitly_set"}}),L;let V;return"function"==typeof j.tracesSampler?(V=j.tracesSampler(F),L.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(V)}})):void 0!==F.parentSampled?(V=F.parentSampled,L.setMetadata({transactionSampling:{method:"inheritance"}})):(V=j.tracesSampleRate,L.setMetadata({transactionSampling:{method:"client_rate",rate:Number(V)}})),function v(L){return(0,y.i2)(L)||"number"!=typeof L&&"boolean"!=typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(L)} of type ${JSON.stringify(typeof L)}.`),!1):!(L<0||L>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${L}.`),!1)}(V)?V?(L.sampled=Math.random()<V,L.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] starting ${L.op} transaction - ${L.name}`),L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(V)})`),L)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] Discarding transaction because "+("function"==typeof j.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),L.sampled=!1,L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),L.sampled=!1,L)}function O(L,j){var F=this.getClient(),V=F&&F.getOptions()||{};let Q=new b.Y(L,this);return Q=h(Q,V,Xe({parentSampled:L.parentSampled,transactionContext:L},j)),Q.sampled&&Q.initSpanRecorder(V._experiments&&V._experiments.maxSpans),Q}function x(L,j,F,V,Q,W){var ee=L.getClient(),J=ee&&ee.getOptions()||{};let ue=new d.io(j,L,F,V,Q);return ue=h(ue,J,Xe({parentSampled:j.parentSampled,transactionContext:j},W)),ue.sampled&&ue.initSpanRecorder(J._experiments&&J._experiments.maxSpans),ue}function H(){(function k(){var L=(0,u.cu)();!L.__SENTRY__||(L.__SENTRY__.extensions=L.__SENTRY__.extensions||{},L.__SENTRY__.extensions.startTransaction||(L.__SENTRY__.extensions.startTransaction=O),L.__SENTRY__.extensions.traceHeaders||(L.__SENTRY__.extensions.traceHeaders=C))})(),(0,S.KV)()&&function G(){var L=(0,u.cu)();if(L.__SENTRY__){var j={mongodb:()=>new((0,S.l$)(me,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,S.l$)(me,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,S.l$)(me,"./integrations/node/mysql").Mysql),pg:()=>new((0,S.l$)(me,"./integrations/node/postgres").Postgres)},F=Object.keys(j).filter(V=>!!(0,S.$y)(V)).map(V=>{try{return j[V]()}catch(Q){return}}).filter(V=>V);F.length>0&&(L.__SENTRY__.integrations=[...L.__SENTRY__.integrations||[],...F])}}(),function f(){(0,m.o)("error",p),(0,m.o)("unhandledrejection",p)}()}me=M.hmd(me)},9819:(me,U,M)=>{"use strict";M.d(U,{mg:()=>_,nT:()=>m,io:()=>d});var u=M(3967),T=M(1446),y=M(6190),S=M(7583),m=1e3,_=3e4;class p extends y.gB{constructor(h,v,O,x){super(x),this._pushActivity=h,this._popActivity=v,this.transactionSpanId=O}add(h){h.spanId!==this.transactionSpanId&&(h.finish=v=>{h.endTimestamp="number"==typeof v?v:(0,u._I)(),this._popActivity(h.spanId)},void 0===h.endTimestamp&&this._pushActivity(h.spanId)),super.add(h)}}class d extends S.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(h,v,O=m,x=_,k=!1){super(h,v),this._idleHub=v,this._idleTimeout=O,this._finalTimeout=x,this._onScope=k,d.prototype.__init.call(this),d.prototype.__init2.call(this),d.prototype.__init3.call(this),d.prototype.__init4.call(this),k&&(b(v),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),v.configureScope(G=>G.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(h=(0,u._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var v of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*h).toISOString(),this.op),this._beforeFinishCallbacks))v(this,h);this.spanRecorder.spans=this.spanRecorder.spans.filter(O=>{if(O.spanId===this.spanId)return!0;O.endTimestamp||(O.endTimestamp=h,O.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(O,void 0,2)));var x=O.startTimestamp<h;return x||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(O,void 0,2)),x}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&b(this._idleHub),super.finish(h)}registerBeforeFinishCallback(h){this._beforeFinishCallbacks.push(h)}initSpanRecorder(h){this.spanRecorder||(this.spanRecorder=new p(x=>{this._finished||this._pushActivity(x)},x=>{this._finished||this._popActivity(x)},this.spanId,h),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(h){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(h)},this._idleTimeout)}_pushActivity(h){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] pushActivity: ${h}`),this.activities[h]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(h){if(this.activities[h]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] popActivity ${h}`),delete this.activities[h],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var v=(0,u._I)()+this._idleTimeout/1e3;this._startIdleTimeout(v)}}_beat(){if(!this._finished){var h=Object.keys(this.activities).join("");h===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=h,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}function b(C){var h=C.getScope();h&&h.getTransaction()&&h.setSpan(void 0)}},6190:(me,U,M)=>{"use strict";M.d(U,{Dr:()=>f,gB:()=>_});var u=M(7516),T=M(5535),y=M(3967),S=M(1446),m=M(7759);class _{__init(){this.spans=[]}constructor(b=1e3){_.prototype.__init.call(this),this._maxlen=b}add(b){this.spans.length>this._maxlen?b.spanRecorder=void 0:this.spans.push(b)}}class f{__init2(){this.traceId=(0,T.DM)()}__init3(){this.spanId=(0,T.DM)().substring(16)}__init4(){this.startTimestamp=(0,y._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(b){if(f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),f.prototype.__init5.call(this),f.prototype.__init6.call(this),!b)return this;b.traceId&&(this.traceId=b.traceId),b.spanId&&(this.spanId=b.spanId),b.parentSpanId&&(this.parentSpanId=b.parentSpanId),"sampled"in b&&(this.sampled=b.sampled),b.op&&(this.op=b.op),b.description&&(this.description=b.description),b.data&&(this.data=b.data),b.tags&&(this.tags=b.tags),b.status&&(this.status=b.status),b.startTimestamp&&(this.startTimestamp=b.startTimestamp),b.endTimestamp&&(this.endTimestamp=b.endTimestamp)}startChild(b){var C=new f(ii(Xe({},b),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(C.spanRecorder=this.spanRecorder,C.spanRecorder&&C.spanRecorder.add(C),C.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.transaction){var x=`[Tracing] Starting '${b&&b.op||"< unknown op >"}' span on transaction '${C.transaction.name||"< unknown name >"}' (${C.transaction.spanId}).`;C.transaction.metadata.spanMetadata[C.spanId]={logMessage:x},S.kg.log(x)}return C}setTag(b,C){return this.tags=ii(Xe({},this.tags),{[b]:C}),this}setData(b,C){return this.data=ii(Xe({},this.data),{[b]:C}),this}setStatus(b){return this.status=b,this}setHttpStatus(b){this.setTag("http.status_code",String(b));var C=function p(d){if(d<400&&d>=100)return"ok";if(d>=400&&d<500)switch(d){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(d>=500&&d<600)switch(d){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(b);return"unknown_error"!==C&&this.setStatus(C),this}isSuccess(){return"ok"===this.status}finish(b){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:C}=this.transaction.metadata.spanMetadata[this.spanId];C&&S.kg.log(C.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof b?b:(0,y._I)()}toTraceparent(){let b="";return void 0!==this.sampled&&(b=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${b}`}toContext(){return(0,m.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(b){return this.data=(0,u.h)(b.data,()=>({})),this.description=b.description,this.endTimestamp=b.endTimestamp,this.op=b.op,this.parentSpanId=b.parentSpanId,this.sampled=b.sampled,this.spanId=(0,u.h)(b.spanId,()=>this.spanId),this.startTimestamp=(0,u.h)(b.startTimestamp,()=>this.startTimestamp),this.status=b.status,this.tags=(0,u.h)(b.tags,()=>({})),this.traceId=(0,u.h)(b.traceId,()=>this.traceId),this}getTraceContext(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},7583:(me,U,M)=>{"use strict";M.d(U,{Y:()=>f});var u=M(7516),T=M(9248),y=M(1446),S=M(7759),m=M(9981),_=M(6190);class f extends _.Dr{__init(){this._measurements={}}constructor(d,b){super(d),f.prototype.__init.call(this),this._hub=b||(0,T.Gd)(),this._name=d.name||"",this.metadata=ii(Xe({},d.metadata),{spanMetadata:{}}),this._trimEnd=d.trimEnd,this.transaction=this}get name(){return this._name}set name(d){this._name=d,this.metadata.source="custom"}setName(d,b="custom"){this.name=d,this.metadata.source=b}initSpanRecorder(d=1e3){this.spanRecorder||(this.spanRecorder=new _.gB(d)),this.spanRecorder.add(this)}setMeasurement(d,b,C=""){this._measurements[d]={value:b,unit:C}}setMetadata(d){this.metadata=Xe(Xe({},this.metadata),d)}finish(d){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(d),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var b=this._hub.getClient();return void(b&&b.recordDroppedEvent("sample_rate","transaction"))}var C=this.spanRecorder?this.spanRecorder.spans.filter(x=>x!==this&&x.endTimestamp):[];this._trimEnd&&C.length>0&&(this.endTimestamp=C.reduce((x,k)=>x.endTimestamp&&k.endTimestamp?x.endTimestamp>k.endTimestamp?x:k:x).endTimestamp);var h=this.metadata,v=Xe({contexts:{trace:this.getTraceContext()},spans:C,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:ii(Xe({},h),{baggage:this.getBaggage()})},h.source&&{transaction_info:{source:h.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),v.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(v)}}toContext(){var d=super.toContext();return(0,S.Jr)(ii(Xe({},d),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(d){return super.updateWithContext(d),this.name=(0,u.h)(d.name,()=>""),this._trimEnd=d.trimEnd,this}getBaggage(){var d=this.metadata.baggage,b=!d||(0,m.Gp)(d)?this._populateBaggageWithSentryValues(d):d;return this.metadata.baggage=b,b}_populateBaggageWithSentryValues(d=(0,m.Hn)({})){var b=this._hub||(0,T.Gd)(),C=b&&b.getClient();if(!C)return d;const{environment:h,release:v}=C.getOptions()||{},{publicKey:O}=C.getDsn()||{};var x=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),k=b.getScope();const{segment:G}=k&&k.getUser()||{};var H=this.metadata.source;return(0,m.Hn)((0,S.Jr)(Xe({environment:h,release:v,transaction:H&&"url"!==H?this.name:void 0,user_segment:G,public_key:O,trace_id:this.traceId,sample_rate:x},(0,m.Hk)(d))),"",!1)}}},1255:(me,U,M)=>{"use strict";M.d(U,{x1:()=>y,zu:()=>T,XL:()=>S});var u=M(9248);function T(_){var f=(0,u.Gd)().getClient(),p=_||f&&f.getOptions();return!!p&&("tracesSampleRate"in p||"tracesSampler"in p)}function y(_){var p=(_||(0,u.Gd)()).getScope();return p&&p.getTransaction()}function S(_){return _/1e3}},9981:(me,U,M)=>{"use strict";M.d(U,{bU:()=>y,Hn:()=>f,Hk:()=>C,Gp:()=>v,J8:()=>G,rg:()=>H});var u=M(6412),T=M(1446),y="baggage",m=/^sentry-/;function f(L,j="",F=!0){return[Xe({},L),j,F]}function C(L){return L[0]}function v(L){return L[2]}function k(L,j=!1){return!Array.isArray(L)&&!(0,u.HD)(L)||"number"==typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof L,L),f({},"")):((0,u.HD)(L)?L:L.join(",")).split(",").map(V=>V.trim()).filter(V=>""!==V&&(j||m.test(V))).reduce(([V,Q],W)=>{const[ee,J]=W.split("=");if(m.test(ee)){var ue=decodeURIComponent(ee.split("-")[1]);return[ii(Xe({},V),{[ue]:decodeURIComponent(J)}),Q,!0]}return[V,""===Q?W:`${Q},${W}`,!0]},[{},"",!0])}function G(L,j){if(!L&&!j)return"";var F=j&&k(j,!0)||void 0,V=F&&function h(L){return L[1]}(F);return function x(L){return Object.keys(L[0]).reduce((j,F)=>{var V=L[0][F],Q=`sentry-${encodeURIComponent(F)}=${encodeURIComponent(V)}`,W=""===j?Q:`${j},${Q}`;return W.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`Not adding key: ${F} with val: ${V} to baggage due to exceeding baggage size limits.`),j):W},L[1])}(f(L&&L[0]||{},V||""))}function H(L,j){var F=k(L||"");return(j||!function b(L){return 0===Object.keys(L[0]).length}(F))&&function O(L){L[2]=!1}(F),F}},6477:(me,U,M)=>{"use strict";M.d(U,{qT:()=>_,l4:()=>m,Rt:()=>y});var u=M(7576),T=M(6412);function y(f,p){try{let O=f;var C=[];let x=0,k=0;var v=" > ".length;let G;for(;O&&x++<5&&(G=S(O,p),!("html"===G||x>1&&k+C.length*v+G.length>=80));)C.push(G),k+=G.length,O=O.parentNode;return C.reverse().join(" > ")}catch(O){return"<unknown>"}}function S(f,p){var d=f,b=[];let C,h,v,O,x;if(!d||!d.tagName)return"";b.push(d.tagName.toLowerCase());var k=p&&p.length?p.filter(H=>d.getAttribute(H)).map(H=>[H,d.getAttribute(H)]):null;if(k&&k.length)k.forEach(H=>{b.push(`[${H[0]}="${H[1]}"]`)});else if(d.id&&b.push(`#${d.id}`),C=d.className,C&&(0,T.HD)(C))for(h=C.split(/\s+/),x=0;x<h.length;x++)b.push(`.${h[x]}`);var G=["type","name","title","alt"];for(x=0;x<G.length;x++)v=G[x],O=d.getAttribute(v),O&&b.push(`[${v}="${O}"]`);return b.join("")}function m(){var f=(0,u.R)();try{return f.document.location.href}catch(p){return""}}function _(f){var p=(0,u.R)();return p.document&&p.document.querySelector?p.document.querySelector(f):null}},7516:(me,U,M)=>{"use strict";function u(T,y){return null!=T?T:y()}M.d(U,{h:()=>u})},7576:(me,U,M)=>{"use strict";M.d(U,{R:()=>y,Y:()=>S});var u=M(723),T={};function y(){return(0,u.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:T}function S(m,_,f){var p=f||y(),d=p.__SENTRY__=p.__SENTRY__||{};return d[m]||(d[m]=_())}},3343:(me,U,M)=>{"use strict";M.d(U,{o:()=>C});var u=M(7576),T=M(6412),y=M(1446),S=M(7759),m=M(9725),_=M(8204),f=(0,u.R)(),p={},d={};function C(X,se){p[X]=p[X]||[],p[X].push(se),function b(X){if(!d[X])switch(d[X]=!0,X){case"console":!function v(){"console"in f&&y.RU.forEach(function(X){X in f.console&&(0,S.hl)(f.console,X,function(se){return function(...Z){h("console",{args:Z,level:X}),se&&se.apply(f.console,Z)}})})}();break;case"dom":!function J(){if("document"in f){var X=h.bind(null,"dom"),se=ee(X,!0);f.document.addEventListener("click",se,!1),f.document.addEventListener("keypress",se,!1),["EventTarget","Node"].forEach(Z=>{var be=f[Z]&&f[Z].prototype;!be||!be.hasOwnProperty||!be.hasOwnProperty("addEventListener")||((0,S.hl)(be,"addEventListener",function(oe){return function(le,de,Be){if("click"===le||"keypress"==le)try{var Le=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},Mt=Le[le]=Le[le]||{refCount:0};if(!Mt.handler){var qe=ee(X);Mt.handler=qe,oe.call(this,le,qe,Be)}Mt.refCount+=1}catch(je){}return oe.call(this,le,de,Be)}}),(0,S.hl)(be,"removeEventListener",function(oe){return function(le,de,Be){if("click"===le||"keypress"==le)try{var Le=this.__sentry_instrumentation_handlers__||{},Mt=Le[le];Mt&&(Mt.refCount-=1,Mt.refCount<=0&&(oe.call(this,le,Mt.handler,Be),Mt.handler=void 0,delete Le[le]),0===Object.keys(Le).length&&delete this.__sentry_instrumentation_handlers__)}catch(qe){}return oe.call(this,le,de,Be)}}))})}}();break;case"xhr":!function G(){if("XMLHttpRequest"in f){var X=XMLHttpRequest.prototype;(0,S.hl)(X,"open",function(se){return function(...Z){var be=this,oe=Z[1],le=be.__sentry_xhr__={method:(0,T.HD)(Z[0])?Z[0].toUpperCase():Z[0],url:Z[1]};(0,T.HD)(oe)&&"POST"===le.method&&oe.match(/sentry_key/)&&(be.__sentry_own_request__=!0);var de=function(){if(4===be.readyState){try{le.status_code=be.status}catch(Be){}h("xhr",{args:Z,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:be})}};return"onreadystatechange"in be&&"function"==typeof be.onreadystatechange?(0,S.hl)(be,"onreadystatechange",function(Be){return function(...Je){return de(),Be.apply(be,Je)}}):be.addEventListener("readystatechange",de),se.apply(be,Z)}}),(0,S.hl)(X,"send",function(se){return function(...Z){return this.__sentry_xhr__&&void 0!==Z[0]&&(this.__sentry_xhr__.body=Z[0]),h("xhr",{args:Z,startTimestamp:Date.now(),xhr:this}),se.apply(this,Z)}})}}();break;case"fetch":!function O(){!(0,_.t$)()||(0,S.hl)(f,"fetch",function(X){return function(...se){var Z={args:se,fetchData:{method:x(se),url:k(se)},startTimestamp:Date.now()};return h("fetch",Xe({},Z)),X.apply(f,se).then(be=>(h("fetch",ii(Xe({},Z),{endTimestamp:Date.now(),response:be})),be),be=>{throw h("fetch",ii(Xe({},Z),{endTimestamp:Date.now(),error:be})),be})}})}();break;case"history":!function L(){if((0,_.Bf)()){var X=f.onpopstate;f.onpopstate=function(...Z){var be=f.location.href,oe=H;if(H=be,h("history",{from:oe,to:be}),X)try{return X.apply(this,Z)}catch(le){}},(0,S.hl)(f.history,"pushState",se),(0,S.hl)(f.history,"replaceState",se)}function se(Z){return function(...be){var oe=be.length>2?be[2]:void 0;if(oe){var le=H,de=String(oe);H=de,h("history",{from:le,to:de})}return Z.apply(this,be)}}}();break;case"error":!function Ce(){ue=f.onerror,f.onerror=function(X,se,Z,be,oe){return h("error",{column:be,error:oe,line:Z,msg:X,url:se}),!!ue&&ue.apply(this,arguments)}}();break;case"unhandledrejection":!function Ee(){_e=f.onunhandledrejection,f.onunhandledrejection=function(X){return h("unhandledrejection",X),!_e||_e.apply(this,arguments)}}();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn("unknown instrumentation type:",X))}}(X)}function h(X,se){if(X&&p[X])for(var Z of p[X]||[])try{Z(se)}catch(be){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.error(`Error while triggering instrumentation handler.\nType: ${X}\nName: ${(0,m.$P)(Z)}\nError:`,be)}}function x(X=[]){return"Request"in f&&(0,T.V9)(X[0],Request)&&X[0].method?String(X[0].method).toUpperCase():X[1]&&X[1].method?String(X[1].method).toUpperCase():"GET"}function k(X=[]){return"string"==typeof X[0]?X[0]:"Request"in f&&(0,T.V9)(X[0],Request)?X[0].url:String(X[0])}let H,F,V;function ee(X,se=!1){return Z=>{if(Z&&V!==Z&&!function W(X){if("keypress"!==X.type)return!1;try{var se=X.target;if(!se||!se.tagName)return!0;if("INPUT"===se.tagName||"TEXTAREA"===se.tagName||se.isContentEditable)return!1}catch(Z){}return!0}(Z)){var be="keypress"===Z.type?"input":Z.type;(void 0===F||function Q(X,se){if(!X||X.type!==se.type)return!0;try{if(X.target!==se.target)return!0}catch(Z){}return!1}(V,Z))&&(X({event:Z,name:be,global:se}),V=Z),clearTimeout(F),F=f.setTimeout(()=>{F=void 0},1e3)}}}let ue=null,_e=null},6412:(me,U,M)=>{"use strict";M.d(U,{TX:()=>m,fm:()=>_,kK:()=>C,VZ:()=>T,VW:()=>S,cO:()=>b,V9:()=>k,i2:()=>x,PO:()=>d,pt:()=>p,Kj:()=>h,HD:()=>f,Cy:()=>O,J8:()=>v});var u=Object.prototype.toString;function T(G){switch(u.call(G)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return k(G,Error)}}function y(G,H){return u.call(G)===`[object ${H}]`}function S(G){return y(G,"ErrorEvent")}function m(G){return y(G,"DOMError")}function _(G){return y(G,"DOMException")}function f(G){return y(G,"String")}function p(G){return null===G||"object"!=typeof G&&"function"!=typeof G}function d(G){return y(G,"Object")}function b(G){return"undefined"!=typeof Event&&k(G,Event)}function C(G){return"undefined"!=typeof Element&&k(G,Element)}function h(G){return y(G,"RegExp")}function v(G){return Boolean(G&&G.then&&"function"==typeof G.then)}function O(G){return d(G)&&"nativeEvent"in G&&"preventDefault"in G&&"stopPropagation"in G}function x(G){return"number"==typeof G&&G!=G}function k(G,H){try{return G instanceof H}catch(L){return!1}}},1446:(me,U,M)=>{"use strict";M.d(U,{RU:()=>S,Cf:()=>m,kg:()=>f});var u=M(7576),T=(0,u.R)(),S=["debug","info","warn","error","log","assert","trace"];function m(p){var d=(0,u.R)();if(!("console"in d))return p();var b=d.console,C={};S.forEach(h=>{var v=b[h]&&b[h].__sentry_original__;h in d.console&&v&&(C[h]=b[h],b[h]=v)});try{return p()}finally{Object.keys(C).forEach(h=>{b[h]=C[h]})}}function _(){let p=!1;var d={enable:()=>{p=!0},disable:()=>{p=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?S.forEach(b=>{d[b]=(...C)=>{p&&m(()=>{T.console[b](`Sentry Logger [${b}]:`,...C)})}}):S.forEach(b=>{d[b]=()=>{}}),d}let f;f="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,u.Y)("logger",_):_()},5535:(me,U,M)=>{"use strict";M.d(U,{EG:()=>f,Db:()=>_,lE:()=>h,YO:()=>C,jH:()=>m,DM:()=>y});var u=M(7576),T=M(7759);function y(){var v=(0,u.R)(),O=v.crypto||v.msCrypto;if(O&&O.randomUUID)return O.randomUUID().replace(/-/g,"");var x=O&&O.getRandomValues?()=>O.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,k=>(k^(15&x())>>k/4).toString(16))}function S(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}function m(v){const{message:O,event_id:x}=v;if(O)return O;var k=S(v);return k?k.type&&k.value?`${k.type}: ${k.value}`:k.type||k.value||x||"<unknown>":x||"<unknown>"}function _(v,O,x){var k=v.exception=v.exception||{},G=k.values=k.values||[],H=G[0]=G[0]||{};H.value||(H.value=O||""),H.type||(H.type=x||"Error")}function f(v,O){var x=S(v);if(x){var G=x.mechanism;if(x.mechanism=Xe(Xe(Xe({},{type:"generic",handled:!0}),G),O),O&&"data"in O){var H=Xe(Xe({},G&&G.data),O.data);x.mechanism.data=H}}}function C(v){if(v&&v.__sentry_captured__)return!0;try{(0,T.xp)(v,"__sentry_captured__",!0)}catch(O){}return!1}function h(v){return Array.isArray(v)?v:[v]}},723:(me,U,M)=>{"use strict";function T(){return!function u(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function y(m,_){return m.require(_)}function S(m){let _;try{_=y(me,m)}catch(f){}try{const{cwd:f}=y(me,"process");_=y(me,`${f()}/node_modules/${m}`)}catch(f){}return _}M.d(U,{l$:()=>y,KV:()=>T,$y:()=>S}),me=M.hmd(me)},7759:(me,U,M)=>{"use strict";M.d(U,{xp:()=>m,Sh:()=>d,Jr:()=>v,zf:()=>h,hl:()=>S,HK:()=>f,$Q:()=>_,_j:()=>p});var u=M(6477),T=M(6412),y=M(1090);function S(k,G,H){if(G in k){var L=k[G],j=H(L);if("function"==typeof j)try{_(j,L)}catch(F){}k[G]=j}}function m(k,G,H){Object.defineProperty(k,G,{value:H,writable:!0,configurable:!0})}function _(k,G){k.prototype=G.prototype=G.prototype||{},m(k,"__sentry_original__",G)}function f(k){return k.__sentry_original__}function p(k){return Object.keys(k).map(G=>`${encodeURIComponent(G)}=${encodeURIComponent(k[G])}`).join("&")}function d(k){if((0,T.VZ)(k))return Xe({message:k.message,name:k.name,stack:k.stack},C(k));if((0,T.cO)(k)){var G=Xe({type:k.type,target:b(k.target),currentTarget:b(k.currentTarget)},C(k));return"undefined"!=typeof CustomEvent&&(0,T.V9)(k,CustomEvent)&&(G.detail=k.detail),G}return k}function b(k){try{return(0,T.kK)(k)?(0,u.Rt)(k):Object.prototype.toString.call(k)}catch(G){return"<unknown>"}}function C(k){if("object"==typeof k&&null!==k){var G={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(G[H]=k[H]);return G}return{}}function h(k,G=40){var H=Object.keys(d(k));if(H.sort(),!H.length)return"[object has no keys]";if(H[0].length>=G)return(0,y.$G)(H[0],G);for(let j=H.length;j>0;j--){var L=H.slice(0,j).join(", ");if(!(L.length>G))return j===H.length?L:(0,y.$G)(L,G)}return""}function v(k){return O(k,new Map)}function O(k,G){if((0,T.PO)(k)){if(void 0!==(H=G.get(k)))return H;var L={};for(var j of(G.set(k,L),Object.keys(k)))void 0!==k[j]&&(L[j]=O(k[j],G));return L}var H;return Array.isArray(k)?void 0!==(H=G.get(k))?H:(G.set(k,L=[]),k.forEach(Q=>{L.push(O(Q,G))}),L):k}},9725:(me,U,M)=>{"use strict";function T(...d){var b=d.sort((C,h)=>C[0]-h[0]).map(C=>C[1]);return(C,h=0)=>{var v=[];for(var O of C.split("\n").slice(h)){var x=O.replace(/\(error: (.*)\)/,"$1");for(var k of b){var G=k(x);if(G){v.push(G);break}}}return function S(d){if(!d.length)return[];let b=d;var C=b[0].function||"",h=b[b.length-1].function||"";return(-1!==C.indexOf("captureMessage")||-1!==C.indexOf("captureException"))&&(b=b.slice(1)),-1!==h.indexOf("sentryWrapped")&&(b=b.slice(0,-1)),b.slice(0,50).map(v=>ii(Xe({},v),{filename:v.filename||b[0].filename,function:v.function||"?"})).reverse()}(v)}}function y(d){return Array.isArray(d)?T(...d):d}M.d(U,{pE:()=>T,$P:()=>_,Sq:()=>y});var m="<anonymous>";function _(d){try{return d&&"function"==typeof d&&d.name||m}catch(b){return m}}},1090:(me,U,M)=>{"use strict";M.d(U,{zC:()=>m,nK:()=>S,$G:()=>T});var u=M(6412);function T(f,p=0){return"string"!=typeof f||0===p||f.length<=p?f:`${f.substr(0,p)}...`}function S(f,p){if(!Array.isArray(f))return"";var d=[];for(let C=0;C<f.length;C++){var b=f[C];try{d.push(String(b))}catch(h){d.push("[value cannot be serialized]")}}return d.join(p)}function m(f,p){return!!(0,u.HD)(f)&&((0,u.Kj)(p)?p.test(f):"string"==typeof p&&-1!==f.indexOf(p))}},8204:(me,U,M)=>{"use strict";M.d(U,{Du:()=>f,Ak:()=>_,Bf:()=>C,t$:()=>p});var u=M(7576),T=M(1446);function _(){if(!("fetch"in(0,u.R)()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(h){return!1}}function f(h){return h&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(h.toString())}function p(){if(!_())return!1;var h=(0,u.R)();if(f(h.fetch))return!0;let v=!1;var O=h.document;if(O&&"function"==typeof O.createElement)try{var x=O.createElement("iframe");x.hidden=!0,O.head.appendChild(x),x.contentWindow&&x.contentWindow.fetch&&(v=f(x.contentWindow.fetch)),O.head.removeChild(x)}catch(k){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",k)}return v}function C(){var h=(0,u.R)(),v=h.chrome;return!(v&&v.app&&v.app.runtime||!("history"in h)||!h.history.pushState||!h.history.replaceState)}},509:(me,U,M)=>{"use strict";M.d(U,{cW:()=>m,$2:()=>S,WD:()=>y});var T,_,u=M(6412);function y(_){return new m(f=>{f(_)})}function S(_){return new m((f,p)=>{p(_)})}(_=T||(T={}))[_.PENDING=0]="PENDING",_[_.RESOLVED=1]="RESOLVED",_[_.REJECTED=2]="REJECTED";class m{__init(){this._state=T.PENDING}__init2(){this._handlers=[]}constructor(f){m.prototype.__init.call(this),m.prototype.__init2.call(this),m.prototype.__init3.call(this),m.prototype.__init4.call(this),m.prototype.__init5.call(this),m.prototype.__init6.call(this);try{f(this._resolve,this._reject)}catch(p){this._reject(p)}}then(f,p){return new m((d,b)=>{this._handlers.push([!1,C=>{if(f)try{d(f(C))}catch(h){b(h)}else d(C)},C=>{if(p)try{d(p(C))}catch(h){b(h)}else b(C)}]),this._executeHandlers()})}catch(f){return this.then(p=>p,f)}finally(f){return new m((p,d)=>{let b,C;return this.then(h=>{C=!1,b=h,f&&f()},h=>{C=!0,b=h,f&&f()}).then(()=>{C?d(b):p(b)})})}__init3(){this._resolve=f=>{this._setResult(T.RESOLVED,f)}}__init4(){this._reject=f=>{this._setResult(T.REJECTED,f)}}__init5(){this._setResult=(f,p)=>{if(this._state===T.PENDING){if((0,u.J8)(p))return void p.then(this._resolve,this._reject);this._state=f,this._value=p,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==T.PENDING){var f=this._handlers.slice();this._handlers=[],f.forEach(p=>{p[0]||(this._state===T.RESOLVED&&p[1](this._value),this._state===T.REJECTED&&p[2](this._value),p[0]=!0)})}}}}},3967:(me,U,M)=>{"use strict";M.d(U,{Z1:()=>v,yW:()=>p,ph:()=>d,_I:()=>b});var u=M(7576),T=M(723);me=M.hmd(me);var y={nowSeconds:()=>Date.now()/1e3},_=(0,T.KV)()?function m(){try{return(0,T.l$)(me,"perf_hooks").performance}catch(x){return}}():function S(){const{performance:O}=(0,u.R)();if(O&&O.now)return{now:()=>O.now(),timeOrigin:Date.now()-O.now()}}(),f=void 0===_?y:{nowSeconds:()=>(_.timeOrigin+_.now())/1e3},p=y.nowSeconds.bind(y),d=f.nowSeconds.bind(f),b=d;let h;var v=(()=>{const{performance:O}=(0,u.R)();if(O&&O.now){var x=36e5,k=O.now(),G=Date.now(),H=O.timeOrigin?Math.abs(O.timeOrigin+k-G):x,L=H<x,j=O.timing&&O.timing.navigationStart,V="number"==typeof j?Math.abs(j+k-G):x;return L||V<x?H<=V?(h="timeOrigin",O.timeOrigin):(h="navigationStart",j):(h="dateNow",G)}h="none"})()},5469:me=>{"use strict";function U(X,se,Z){Z=Z||2;var Be,Je,Le,Mt,qe,je,ie,be=se&&se.length,oe=be?se[0]*Z:X.length,le=M(X,0,oe,Z,!0),de=[];if(!le||le.next===le.prev)return de;if(be&&(le=function f(X,se,Z,be){var le,de,Le,oe=[];for(le=0,de=se.length;le<de;le++)(Le=M(X,se[le]*be,le<de-1?se[le+1]*be:X.length,be,!1))===Le.next&&(Le.steiner=!0),oe.push(x(Le));for(oe.sort(p),le=0;le<oe.length;le++)Z=u(Z=d(oe[le],Z),Z.next);return Z}(X,se,le,Z)),X.length>80*Z){Be=Le=X[0],Je=Mt=X[1];for(var fe=Z;fe<oe;fe+=Z)(qe=X[fe])<Be&&(Be=qe),(je=X[fe+1])<Je&&(Je=je),qe>Le&&(Le=qe),je>Mt&&(Mt=je);ie=0!==(ie=Math.max(Le-Be,Mt-Je))?1/ie:0}return T(le,de,Z,Be,Je,ie),de}function M(X,se,Z,be,oe){var le,de;if(oe===Ee(X,se,Z,be)>0)for(le=se;le<Z;le+=be)de=ue(le,X[le],X[le+1],de);else for(le=Z-be;le>=se;le-=be)de=ue(le,X[le],X[le+1],de);return de&&L(de,de.next)&&(Ce(de),de=de.next),de}function u(X,se){if(!X)return X;se||(se=X);var be,Z=X;do{if(be=!1,Z.steiner||!L(Z,Z.next)&&0!==H(Z.prev,Z,Z.next))Z=Z.next;else{if(Ce(Z),(Z=se=Z.prev)===Z.next)break;be=!0}}while(be||Z!==se);return se}function T(X,se,Z,be,oe,le,de){if(X){!de&&le&&function h(X,se,Z,be){var oe=X;do{null===oe.z&&(oe.z=O(oe.x,oe.y,se,Z,be)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next}while(oe!==X);oe.prevZ.nextZ=null,oe.prevZ=null,function v(X){var se,Z,be,oe,le,de,Be,Je,Le=1;do{for(Z=X,X=null,le=null,de=0;Z;){for(de++,be=Z,Be=0,se=0;se<Le&&(Be++,be=be.nextZ);se++);for(Je=Le;Be>0||Je>0&&be;)0!==Be&&(0===Je||!be||Z.z<=be.z)?(oe=Z,Z=Z.nextZ,Be--):(oe=be,be=be.nextZ,Je--),le?le.nextZ=oe:X=oe,oe.prevZ=le,le=oe;Z=be}le.nextZ=null,Le*=2}while(de>1)}(oe)}(X,be,oe,le);for(var Je,Le,Be=X;X.prev!==X.next;)if(Je=X.prev,Le=X.next,le?S(X,be,oe,le):y(X))se.push(Je.i/Z),se.push(X.i/Z),se.push(Le.i/Z),Ce(X),X=Le.next,Be=Le.next;else if((X=Le)===Be){de?1===de?T(X=m(u(X),se,Z),se,Z,be,oe,le,2):2===de&&_(X,se,Z,be,oe,le):T(u(X),se,Z,be,oe,le,1);break}}}function y(X){var se=X.prev,Z=X,be=X.next;if(H(se,Z,be)>=0)return!1;for(var oe=X.next.next;oe!==X.prev;){if(k(se.x,se.y,Z.x,Z.y,be.x,be.y,oe.x,oe.y)&&H(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function S(X,se,Z,be){var oe=X.prev,le=X,de=X.next;if(H(oe,le,de)>=0)return!1;for(var Le=oe.x>le.x?oe.x>de.x?oe.x:de.x:le.x>de.x?le.x:de.x,Mt=oe.y>le.y?oe.y>de.y?oe.y:de.y:le.y>de.y?le.y:de.y,qe=O(oe.x<le.x?oe.x<de.x?oe.x:de.x:le.x<de.x?le.x:de.x,oe.y<le.y?oe.y<de.y?oe.y:de.y:le.y<de.y?le.y:de.y,se,Z,be),je=O(Le,Mt,se,Z,be),ie=X.prevZ,fe=X.nextZ;ie&&ie.z>=qe&&fe&&fe.z<=je;){if(ie!==X.prev&&ie!==X.next&&k(oe.x,oe.y,le.x,le.y,de.x,de.y,ie.x,ie.y)&&H(ie.prev,ie,ie.next)>=0||(ie=ie.prevZ,fe!==X.prev&&fe!==X.next&&k(oe.x,oe.y,le.x,le.y,de.x,de.y,fe.x,fe.y)&&H(fe.prev,fe,fe.next)>=0))return!1;fe=fe.nextZ}for(;ie&&ie.z>=qe;){if(ie!==X.prev&&ie!==X.next&&k(oe.x,oe.y,le.x,le.y,de.x,de.y,ie.x,ie.y)&&H(ie.prev,ie,ie.next)>=0)return!1;ie=ie.prevZ}for(;fe&&fe.z<=je;){if(fe!==X.prev&&fe!==X.next&&k(oe.x,oe.y,le.x,le.y,de.x,de.y,fe.x,fe.y)&&H(fe.prev,fe,fe.next)>=0)return!1;fe=fe.nextZ}return!0}function m(X,se,Z){var be=X;do{var oe=be.prev,le=be.next.next;!L(oe,le)&&j(oe,be,be.next,le)&&W(oe,le)&&W(le,oe)&&(se.push(oe.i/Z),se.push(be.i/Z),se.push(le.i/Z),Ce(be),Ce(be.next),be=X=le),be=be.next}while(be!==X);return u(be)}function _(X,se,Z,be,oe,le){var de=X;do{for(var Be=de.next.next;Be!==de.prev;){if(de.i!==Be.i&&G(de,Be)){var Je=J(de,Be);return de=u(de,de.next),Je=u(Je,Je.next),T(de,se,Z,be,oe,le),void T(Je,se,Z,be,oe,le)}Be=Be.next}de=de.next}while(de!==X)}function p(X,se){return X.x-se.x}function d(X,se){var Z=function b(X,se){var de,Z=se,be=X.x,oe=X.y,le=-1/0;do{if(oe<=Z.y&&oe>=Z.next.y&&Z.next.y!==Z.y){var Be=Z.x+(oe-Z.y)*(Z.next.x-Z.x)/(Z.next.y-Z.y);if(Be<=be&&Be>le){if(le=Be,Be===be){if(oe===Z.y)return Z;if(oe===Z.next.y)return Z.next}de=Z.x<Z.next.x?Z:Z.next}}Z=Z.next}while(Z!==se);if(!de)return null;if(be===le)return de;var je,Je=de,Le=de.x,Mt=de.y,qe=1/0;Z=de;do{be>=Z.x&&Z.x>=Le&&be!==Z.x&&k(oe<Mt?be:le,oe,Le,Mt,oe<Mt?le:be,oe,Z.x,Z.y)&&(je=Math.abs(oe-Z.y)/(be-Z.x),W(Z,X)&&(je<qe||je===qe&&(Z.x>de.x||Z.x===de.x&&C(de,Z)))&&(de=Z,qe=je)),Z=Z.next}while(Z!==Je);return de}(X,se);if(!Z)return se;var be=J(Z,X),oe=u(Z,Z.next);return u(be,be.next),se===Z?oe:se}function C(X,se){return H(X.prev,X,se.prev)<0&&H(se.next,X,X.next)<0}function O(X,se,Z,be,oe){return(X=1431655765&((X=858993459&((X=252645135&((X=16711935&((X=32767*(X-Z)*oe)|X<<8))|X<<4))|X<<2))|X<<1))|(se=1431655765&((se=858993459&((se=252645135&((se=16711935&((se=32767*(se-be)*oe)|se<<8))|se<<4))|se<<2))|se<<1))<<1}function x(X){var se=X,Z=X;do{(se.x<Z.x||se.x===Z.x&&se.y<Z.y)&&(Z=se),se=se.next}while(se!==X);return Z}function k(X,se,Z,be,oe,le,de,Be){return(oe-de)*(se-Be)-(X-de)*(le-Be)>=0&&(X-de)*(be-Be)-(Z-de)*(se-Be)>=0&&(Z-de)*(le-Be)-(oe-de)*(be-Be)>=0}function G(X,se){return X.next.i!==se.i&&X.prev.i!==se.i&&!function Q(X,se){var Z=X;do{if(Z.i!==X.i&&Z.next.i!==X.i&&Z.i!==se.i&&Z.next.i!==se.i&&j(Z,Z.next,X,se))return!0;Z=Z.next}while(Z!==X);return!1}(X,se)&&(W(X,se)&&W(se,X)&&function ee(X,se){var Z=X,be=!1,oe=(X.x+se.x)/2,le=(X.y+se.y)/2;do{Z.y>le!=Z.next.y>le&&Z.next.y!==Z.y&&oe<(Z.next.x-Z.x)*(le-Z.y)/(Z.next.y-Z.y)+Z.x&&(be=!be),Z=Z.next}while(Z!==X);return be}(X,se)&&(H(X.prev,X,se.prev)||H(X,se.prev,se))||L(X,se)&&H(X.prev,X,X.next)>0&&H(se.prev,se,se.next)>0)}function H(X,se,Z){return(se.y-X.y)*(Z.x-se.x)-(se.x-X.x)*(Z.y-se.y)}function L(X,se){return X.x===se.x&&X.y===se.y}function j(X,se,Z,be){var oe=V(H(X,se,Z)),le=V(H(X,se,be)),de=V(H(Z,be,X)),Be=V(H(Z,be,se));return!!(oe!==le&&de!==Be||0===oe&&F(X,Z,se)||0===le&&F(X,be,se)||0===de&&F(Z,X,be)||0===Be&&F(Z,se,be))}function F(X,se,Z){return se.x<=Math.max(X.x,Z.x)&&se.x>=Math.min(X.x,Z.x)&&se.y<=Math.max(X.y,Z.y)&&se.y>=Math.min(X.y,Z.y)}function V(X){return X>0?1:X<0?-1:0}function W(X,se){return H(X.prev,X,X.next)<0?H(X,se,X.next)>=0&&H(X,X.prev,se)>=0:H(X,se,X.prev)<0||H(X,X.next,se)<0}function J(X,se){var Z=new _e(X.i,X.x,X.y),be=new _e(se.i,se.x,se.y),oe=X.next,le=se.prev;return X.next=se,se.prev=X,Z.next=oe,oe.prev=Z,be.next=Z,Z.prev=be,le.next=be,be.prev=le,be}function ue(X,se,Z,be){var oe=new _e(X,se,Z);return be?(oe.next=be.next,oe.prev=be,be.next.prev=oe,be.next=oe):(oe.prev=oe,oe.next=oe),oe}function Ce(X){X.next.prev=X.prev,X.prev.next=X.next,X.prevZ&&(X.prevZ.nextZ=X.nextZ),X.nextZ&&(X.nextZ.prevZ=X.prevZ)}function _e(X,se,Z){this.i=X,this.x=se,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ee(X,se,Z,be){for(var oe=0,le=se,de=Z-be;le<Z;le+=be)oe+=(X[de]-X[le])*(X[le+1]+X[de+1]),de=le;return oe}me.exports=U,me.exports.default=U,U.deviation=function(X,se,Z,be){var oe=se&&se.length,de=Math.abs(Ee(X,0,oe?se[0]*Z:X.length,Z));if(oe)for(var Be=0,Je=se.length;Be<Je;Be++)de-=Math.abs(Ee(X,se[Be]*Z,Be<Je-1?se[Be+1]*Z:X.length,Z));var qe=0;for(Be=0;Be<be.length;Be+=3){var je=be[Be]*Z,ie=be[Be+1]*Z,fe=be[Be+2]*Z;qe+=Math.abs((X[je]-X[fe])*(X[ie+1]-X[je+1])-(X[je]-X[ie])*(X[fe+1]-X[je+1]))}return 0===de&&0===qe?0:Math.abs((qe-de)/de)},U.flatten=function(X){for(var se=X[0][0].length,Z={vertices:[],holes:[],dimensions:se},be=0,oe=0;oe<X.length;oe++){for(var le=0;le<X[oe].length;le++)for(var de=0;de<se;de++)Z.vertices.push(X[oe][le][de]);oe>0&&Z.holes.push(be+=X[oe-1].length)}return Z}},6461:(me,U)=>{var u;!function(){"use strict";var T=function(){this.init()};T.prototype={init:function(){var h=this||y;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var v=this||y;if(h=parseFloat(h),v.ctx||C(),void 0!==h&&h>=0&&h<=1){if(v._volume=h,v._muted)return v;v.usingWebAudio&&v.masterGain.gain.setValueAtTime(h,y.ctx.currentTime);for(var O=0;O<v._howls.length;O++)if(!v._howls[O]._webAudio)for(var x=v._howls[O]._getSoundIds(),k=0;k<x.length;k++){var G=v._howls[O]._soundById(x[k]);G&&G._node&&(G._node.volume=G._volume*h)}return v}return v._volume},mute:function(h){var v=this||y;v.ctx||C(),v._muted=h,v.usingWebAudio&&v.masterGain.gain.setValueAtTime(h?0:v._volume,y.ctx.currentTime);for(var O=0;O<v._howls.length;O++)if(!v._howls[O]._webAudio)for(var x=v._howls[O]._getSoundIds(),k=0;k<x.length;k++){var G=v._howls[O]._soundById(x[k]);G&&G._node&&(G._node.muted=!!h||G._muted)}return v},stop:function(){for(var h=this||y,v=0;v<h._howls.length;v++)h._howls[v].stop();return h},unload:function(){for(var h=this||y,v=h._howls.length-1;v>=0;v--)h._howls[v].unload();return h.usingWebAudio&&h.ctx&&void 0!==h.ctx.close&&(h.ctx.close(),h.ctx=null,C()),h},codecs:function(h){return(this||y)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||y;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(h._canPlayEvent="canplay")}catch(O){h.noAudio=!0}else h.noAudio=!0;try{(new Audio).muted&&(h.noAudio=!0)}catch(O){}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||y,v=null;try{v="undefined"!=typeof Audio?new Audio:null}catch(F){return h}if(!v||"function"!=typeof v.canPlayType)return h;var O=v.canPlayType("audio/mpeg;").replace(/^no$/,""),x=h._navigator?h._navigator.userAgent:"",k=x.match(/OPR\/([0-6].)/g),G=k&&parseInt(k[0].split("/")[1],10)<33,H=-1!==x.indexOf("Safari")&&-1===x.indexOf("Chrome"),L=x.match(/Version\/(.*?) /),j=H&&L&&parseInt(L[1],10)<15;return h._codecs={mp3:!(G||!O&&!v.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!O,opus:!!v.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(v.canPlayType('audio/wav; codecs="1"')||v.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!v.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!v.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(v.canPlayType("audio/x-m4a;")||v.canPlayType("audio/m4a;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(v.canPlayType("audio/x-m4b;")||v.canPlayType("audio/m4b;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(v.canPlayType("audio/x-mp4;")||v.canPlayType("audio/mp4;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!v.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(v.canPlayType("audio/x-flac;")||v.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||y;if(!h._audioUnlocked&&h.ctx){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&44100!==h.ctx.sampleRate&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var v=function(O){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var x=new Audio;x._unlocked=!0,h._releaseHtml5Audio(x)}catch(F){h.noAudio=!0;break}for(var k=0;k<h._howls.length;k++)if(!h._howls[k]._webAudio)for(var G=h._howls[k]._getSoundIds(),H=0;H<G.length;H++){var L=h._howls[k]._soundById(G[H]);L&&L._node&&!L._node._unlocked&&(L._node._unlocked=!0,L._node.load())}h._autoResume();var j=h.ctx.createBufferSource();j.buffer=h._scratchBuffer,j.connect(h.ctx.destination),void 0===j.start?j.noteOn(0):j.start(0),"function"==typeof h.ctx.resume&&h.ctx.resume(),j.onended=function(){j.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",v,!0),document.removeEventListener("touchend",v,!0),document.removeEventListener("click",v,!0),document.removeEventListener("keydown",v,!0);for(var F=0;F<h._howls.length;F++)h._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",v,!0),document.addEventListener("touchend",v,!0),document.addEventListener("click",v,!0),document.addEventListener("keydown",v,!0),h}},_obtainHtml5Audio:function(){var h=this||y;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var v=(new Audio).play();return v&&"undefined"!=typeof Promise&&(v instanceof Promise||"function"==typeof v.then)&&v.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var v=this||y;return h._unlocked&&v._html5AudioPool.push(h),v},_autoSuspend:function(){var h=this;if(h.autoSuspend&&h.ctx&&void 0!==h.ctx.suspend&&y.usingWebAudio){for(var v=0;v<h._howls.length;v++)if(h._howls[v]._webAudio)for(var O=0;O<h._howls[v]._sounds.length;O++)if(!h._howls[v]._sounds[O]._paused)return h;return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var x=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(x,x)}},3e4),h}},_autoResume:function(){var h=this;if(h.ctx&&void 0!==h.ctx.resume&&y.usingWebAudio)return"running"===h.state&&"interrupted"!==h.ctx.state&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):"suspended"===h.state||"running"===h.state&&"interrupted"===h.ctx.state?(h.ctx.resume().then(function(){h.state="running";for(var v=0;v<h._howls.length;v++)h._howls[v]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):"suspending"===h.state&&(h._resumeAfterSuspend=!0),h}};var y=new T,S=function(h){h.src&&0!==h.src.length?this.init(h):console.error("An array of source files must be passed with any new Howl.")};S.prototype={init:function(h){var v=this;return y.ctx||C(),v._autoplay=h.autoplay||!1,v._format="string"!=typeof h.format?h.format:[h.format],v._html5=h.html5||!1,v._muted=h.mute||!1,v._loop=h.loop||!1,v._pool=h.pool||5,v._preload="boolean"!=typeof h.preload&&"metadata"!==h.preload||h.preload,v._rate=h.rate||1,v._sprite=h.sprite||{},v._src="string"!=typeof h.src?h.src:[h.src],v._volume=void 0!==h.volume?h.volume:1,v._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:!(!h.xhr||!h.xhr.withCredentials)&&h.xhr.withCredentials},v._duration=0,v._state="unloaded",v._sounds=[],v._endTimers={},v._queue=[],v._playLock=!1,v._onend=h.onend?[{fn:h.onend}]:[],v._onfade=h.onfade?[{fn:h.onfade}]:[],v._onload=h.onload?[{fn:h.onload}]:[],v._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],v._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],v._onpause=h.onpause?[{fn:h.onpause}]:[],v._onplay=h.onplay?[{fn:h.onplay}]:[],v._onstop=h.onstop?[{fn:h.onstop}]:[],v._onmute=h.onmute?[{fn:h.onmute}]:[],v._onvolume=h.onvolume?[{fn:h.onvolume}]:[],v._onrate=h.onrate?[{fn:h.onrate}]:[],v._onseek=h.onseek?[{fn:h.onseek}]:[],v._onunlock=h.onunlock?[{fn:h.onunlock}]:[],v._onresume=[],v._webAudio=y.usingWebAudio&&!v._html5,void 0!==y.ctx&&y.ctx&&y.autoUnlock&&y._unlockAudio(),y._howls.push(v),v._autoplay&&v._queue.push({event:"play",action:function(){v.play()}}),v._preload&&"none"!==v._preload&&v.load(),v},load:function(){var h=this,v=null;if(y.noAudio)h._emit("loaderror",null,"No audio support.");else{"string"==typeof h._src&&(h._src=[h._src]);for(var O=0;O<h._src.length;O++){var x,k;if(h._format&&h._format[O])x=h._format[O];else{if("string"!=typeof(k=h._src[O])){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(x=/^data:audio\/([^;,]+);/i.exec(k))||(x=/\.([^.]+)$/.exec(k.split("?",1)[0])),x&&(x=x[1].toLowerCase())}if(x||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),x&&y.codecs(x)){v=h._src[O];break}}if(v)return h._src=v,h._state="loading","https:"===window.location.protocol&&"http:"===v.slice(0,5)&&(h._html5=!0,h._webAudio=!1),new m(h),h._webAudio&&f(h),h;h._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(h,v){var O=this,x=null;if("number"==typeof h)x=h,h=null;else{if("string"==typeof h&&"loaded"===O._state&&!O._sprite[h])return null;if(void 0===h&&(h="__default",!O._playLock)){for(var k=0,G=0;G<O._sounds.length;G++)O._sounds[G]._paused&&!O._sounds[G]._ended&&(k++,x=O._sounds[G]._id);1===k?h=null:x=null}}var H=x?O._soundById(x):O._inactiveSound();if(!H)return null;if(x&&!h&&(h=H._sprite||"__default"),"loaded"!==O._state){H._sprite=h,H._ended=!1;var L=H._id;return O._queue.push({event:"play",action:function(){O.play(L)}}),L}if(x&&!H._paused)return v||O._loadQueue("play"),H._id;O._webAudio&&y._autoResume();var j=Math.max(0,H._seek>0?H._seek:O._sprite[h][0]/1e3),F=Math.max(0,(O._sprite[h][0]+O._sprite[h][1])/1e3-j),V=1e3*F/Math.abs(H._rate),Q=O._sprite[h][0]/1e3,W=(O._sprite[h][0]+O._sprite[h][1])/1e3;H._sprite=h,H._ended=!1;var ee=function(){H._paused=!1,H._seek=j,H._start=Q,H._stop=W,H._loop=!(!H._loop&&!O._sprite[h][2])};if(!(j>=W)){var J=H._node;if(O._webAudio){var ue=function(){O._playLock=!1,ee(),O._refreshBuffer(H),J.gain.setValueAtTime(H._muted||O._muted?0:H._volume,y.ctx.currentTime),H._playStart=y.ctx.currentTime,void 0===J.bufferSource.start?J.bufferSource.noteGrainOn(0,j,H._loop?86400:F):J.bufferSource.start(0,j,H._loop?86400:F),V!==1/0&&(O._endTimers[H._id]=setTimeout(O._ended.bind(O,H),V)),v||setTimeout(function(){O._emit("play",H._id),O._loadQueue()},0)};"running"===y.state&&"interrupted"!==y.ctx.state?ue():(O._playLock=!0,O.once("resume",ue),O._clearTimer(H._id))}else{var Ce=function(){J.currentTime=j,J.muted=H._muted||O._muted||y._muted||J.muted,J.volume=H._volume*y.volume(),J.playbackRate=H._rate;try{var X=J.play();if(X&&"undefined"!=typeof Promise&&(X instanceof Promise||"function"==typeof X.then)?(O._playLock=!0,ee(),X.then(function(){O._playLock=!1,J._unlocked=!0,v?O._loadQueue():O._emit("play",H._id)}).catch(function(){O._playLock=!1,O._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),H._ended=!0,H._paused=!0})):v||(O._playLock=!1,ee(),O._emit("play",H._id)),J.playbackRate=H._rate,J.paused)return void O._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==h||H._loop?O._endTimers[H._id]=setTimeout(O._ended.bind(O,H),V):(O._endTimers[H._id]=function(){O._ended(H),J.removeEventListener("ended",O._endTimers[H._id],!1)},J.addEventListener("ended",O._endTimers[H._id],!1))}catch(se){O._emit("playerror",H._id,se)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===J.src&&(J.src=O._src,J.load());var _e=window&&window.ejecta||!J.readyState&&y._navigator.isCocoonJS;if(J.readyState>=3||_e)Ce();else{O._playLock=!0,O._state="loading";var Ee=function(){O._state="loaded",Ce(),J.removeEventListener(y._canPlayEvent,Ee,!1)};J.addEventListener(y._canPlayEvent,Ee,!1),O._clearTimer(H._id)}}return H._id}O._ended(H)},pause:function(h){var v=this;if("loaded"!==v._state||v._playLock)return v._queue.push({event:"pause",action:function(){v.pause(h)}}),v;for(var O=v._getSoundIds(h),x=0;x<O.length;x++){v._clearTimer(O[x]);var k=v._soundById(O[x]);if(k&&!k._paused&&(k._seek=v.seek(O[x]),k._rateSeek=0,k._paused=!0,v._stopFade(O[x]),k._node))if(v._webAudio){if(!k._node.bufferSource)continue;void 0===k._node.bufferSource.stop?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),v._cleanBuffer(k._node)}else(!isNaN(k._node.duration)||k._node.duration===1/0)&&k._node.pause();arguments[1]||v._emit("pause",k?k._id:null)}return v},stop:function(h,v){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"stop",action:function(){O.stop(h)}}),O;for(var x=O._getSoundIds(h),k=0;k<x.length;k++){O._clearTimer(x[k]);var G=O._soundById(x[k]);G&&(G._seek=G._start||0,G._rateSeek=0,G._paused=!0,G._ended=!0,O._stopFade(x[k]),G._node&&(O._webAudio?G._node.bufferSource&&(void 0===G._node.bufferSource.stop?G._node.bufferSource.noteOff(0):G._node.bufferSource.stop(0),O._cleanBuffer(G._node)):(!isNaN(G._node.duration)||G._node.duration===1/0)&&(G._node.currentTime=G._start||0,G._node.pause(),G._node.duration===1/0&&O._clearSound(G._node))),v||O._emit("stop",G._id))}return O},mute:function(h,v){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"mute",action:function(){O.mute(h,v)}}),O;if(void 0===v){if("boolean"!=typeof h)return O._muted;O._muted=h}for(var x=O._getSoundIds(v),k=0;k<x.length;k++){var G=O._soundById(x[k]);G&&(G._muted=h,G._interval&&O._stopFade(G._id),O._webAudio&&G._node?G._node.gain.setValueAtTime(h?0:G._volume,y.ctx.currentTime):G._node&&(G._node.muted=!!y._muted||h),O._emit("mute",G._id))}return O},volume:function(){var O,x,H,h=this,v=arguments;if(0===v.length)return h._volume;if(1===v.length||2===v.length&&void 0===v[1]){var k=h._getSoundIds(),G=k.indexOf(v[0]);G>=0?x=parseInt(v[0],10):O=parseFloat(v[0])}else v.length>=2&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if(!(void 0!==O&&O>=0&&O<=1))return(H=x?h._soundById(x):h._sounds[0])?H._volume:0;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,v)}}),h;void 0===x&&(h._volume=O),x=h._getSoundIds(x);for(var L=0;L<x.length;L++)(H=h._soundById(x[L]))&&(H._volume=O,v[2]||h._stopFade(x[L]),h._webAudio&&H._node&&!H._muted?H._node.gain.setValueAtTime(O,y.ctx.currentTime):H._node&&!H._muted&&(H._node.volume=O*y.volume()),h._emit("volume",H._id));return h},fade:function(h,v,O,x){var k=this;if("loaded"!==k._state||k._playLock)return k._queue.push({event:"fade",action:function(){k.fade(h,v,O,x)}}),k;h=Math.min(Math.max(0,parseFloat(h)),1),v=Math.min(Math.max(0,parseFloat(v)),1),O=parseFloat(O),k.volume(h,x);for(var G=k._getSoundIds(x),H=0;H<G.length;H++){var L=k._soundById(G[H]);if(L){if(x||k._stopFade(G[H]),k._webAudio&&!L._muted){var j=y.ctx.currentTime,F=j+O/1e3;L._volume=h,L._node.gain.setValueAtTime(h,j),L._node.gain.linearRampToValueAtTime(v,F)}k._startFadeInterval(L,h,v,O,G[H],void 0===x)}}return k},_startFadeInterval:function(h,v,O,x,k,G){var H=this,L=v,j=O-v,F=Math.abs(j/.01),V=Math.max(4,F>0?x/F:x),Q=Date.now();h._fadeTo=O,h._interval=setInterval(function(){var W=(Date.now()-Q)/x;Q=Date.now(),L+=j*W,L=Math.round(100*L)/100,L=j<0?Math.max(O,L):Math.min(O,L),H._webAudio?h._volume=L:H.volume(L,h._id,!0),G&&(H._volume=L),(O<v&&L<=O||O>v&&L>=O)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,H.volume(O,h._id),H._emit("fade",h._id))},V)},_stopFade:function(h){var v=this,O=v._soundById(h);return O&&O._interval&&(v._webAudio&&O._node.gain.cancelScheduledValues(y.ctx.currentTime),clearInterval(O._interval),O._interval=null,v.volume(O._fadeTo,h),O._fadeTo=null,v._emit("fade",h)),v},loop:function(){var O,x,k,h=this,v=arguments;if(0===v.length)return h._loop;if(1===v.length){if("boolean"!=typeof v[0])return!!(k=h._soundById(parseInt(v[0],10)))&&k._loop;h._loop=O=v[0]}else 2===v.length&&(O=v[0],x=parseInt(v[1],10));for(var G=h._getSoundIds(x),H=0;H<G.length;H++)(k=h._soundById(G[H]))&&(k._loop=O,h._webAudio&&k._node&&k._node.bufferSource&&(k._node.bufferSource.loop=O,O&&(k._node.bufferSource.loopStart=k._start||0,k._node.bufferSource.loopEnd=k._stop,h.playing(G[H])&&(h.pause(G[H],!0),h.play(G[H],!0)))));return h},rate:function(){var O,x,H,h=this,v=arguments;if(0===v.length)x=h._sounds[0]._id;else if(1===v.length){var k=h._getSoundIds(),G=k.indexOf(v[0]);G>=0?x=parseInt(v[0],10):O=parseFloat(v[0])}else 2===v.length&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if("number"!=typeof O)return(H=h._soundById(x))?H._rate:h._rate;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,v)}}),h;void 0===x&&(h._rate=O),x=h._getSoundIds(x);for(var L=0;L<x.length;L++)if(H=h._soundById(x[L])){h.playing(x[L])&&(H._rateSeek=h.seek(x[L]),H._playStart=h._webAudio?y.ctx.currentTime:H._playStart),H._rate=O,h._webAudio&&H._node&&H._node.bufferSource?H._node.bufferSource.playbackRate.setValueAtTime(O,y.ctx.currentTime):H._node&&(H._node.playbackRate=O);var j=h.seek(x[L]),F=(h._sprite[H._sprite][0]+h._sprite[H._sprite][1])/1e3-j,V=1e3*F/Math.abs(H._rate);(h._endTimers[x[L]]||!H._paused)&&(h._clearTimer(x[L]),h._endTimers[x[L]]=setTimeout(h._ended.bind(h,H),V)),h._emit("rate",H._id)}return h},seek:function(){var O,x,h=this,v=arguments;if(0===v.length)h._sounds.length&&(x=h._sounds[0]._id);else if(1===v.length){var k=h._getSoundIds(),G=k.indexOf(v[0]);G>=0?x=parseInt(v[0],10):h._sounds.length&&(x=h._sounds[0]._id,O=parseFloat(v[0]))}else 2===v.length&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if(void 0===x)return 0;if("number"==typeof O&&("loaded"!==h._state||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,v)}}),h;var H=h._soundById(x);if(H){if(!("number"==typeof O&&O>=0)){if(h._webAudio){var V=h.playing(x)?y.ctx.currentTime-H._playStart:0,Q=H._rateSeek?H._rateSeek-H._seek:0;return H._seek+(Q+V*Math.abs(H._rate))}return H._node.currentTime}var L=h.playing(x);L&&h.pause(x,!0),H._seek=O,H._ended=!1,h._clearTimer(x),!h._webAudio&&H._node&&!isNaN(H._node.duration)&&(H._node.currentTime=O);var j=function(){L&&h.play(x,!0),h._emit("seek",x)};if(L&&!h._webAudio){var F=function(){h._playLock?setTimeout(F,0):j()};setTimeout(F,0)}else j()}return h},playing:function(h){var v=this;if("number"==typeof h){var O=v._soundById(h);return!!O&&!O._paused}for(var x=0;x<v._sounds.length;x++)if(!v._sounds[x]._paused)return!0;return!1},duration:function(h){var v=this,O=v._duration,x=v._soundById(h);return x&&(O=v._sprite[x._sprite][1]/1e3),O},state:function(){return this._state},unload:function(){for(var h=this,v=h._sounds,O=0;O<v.length;O++)v[O]._paused||h.stop(v[O]._id),h._webAudio||(h._clearSound(v[O]._node),v[O]._node.removeEventListener("error",v[O]._errorFn,!1),v[O]._node.removeEventListener(y._canPlayEvent,v[O]._loadFn,!1),v[O]._node.removeEventListener("ended",v[O]._endFn,!1),y._releaseHtml5Audio(v[O]._node)),delete v[O]._node,h._clearTimer(v[O]._id);var x=y._howls.indexOf(h);x>=0&&y._howls.splice(x,1);var k=!0;for(O=0;O<y._howls.length;O++)if(y._howls[O]._src===h._src||h._src.indexOf(y._howls[O]._src)>=0){k=!1;break}return _&&k&&delete _[h._src],y.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,v,O,x){return"function"==typeof v&&this["_on"+h].push(x?{id:O,fn:v,once:x}:{id:O,fn:v}),this},off:function(h,v,O){var x=this,k=x["_on"+h],G=0;if("number"==typeof v&&(O=v,v=null),v||O)for(G=0;G<k.length;G++){var H=O===k[G].id;if(v===k[G].fn&&H||!v&&H){k.splice(G,1);break}}else if(h)x["_on"+h]=[];else{var L=Object.keys(x);for(G=0;G<L.length;G++)0===L[G].indexOf("_on")&&Array.isArray(x[L[G]])&&(x[L[G]]=[])}return x},once:function(h,v,O){return this.on(h,v,O,1),this},_emit:function(h,v,O){for(var x=this,k=x["_on"+h],G=k.length-1;G>=0;G--)(!k[G].id||k[G].id===v||"load"===h)&&(setTimeout(function(H){H.call(this,v,O)}.bind(x,k[G].fn),0),k[G].once&&x.off(h,k[G].fn,k[G].id));return x._loadQueue(h),x},_loadQueue:function(h){var v=this;if(v._queue.length>0){var O=v._queue[0];O.event===h&&(v._queue.shift(),v._loadQueue()),h||O.action()}return v},_ended:function(h){var v=this,O=h._sprite;if(!v._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(v._ended.bind(v,h),100),v;var x=!(!h._loop&&!v._sprite[O][2]);if(v._emit("end",h._id),!v._webAudio&&x&&v.stop(h._id,!0).play(h._id),v._webAudio&&x){v._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=y.ctx.currentTime;var k=1e3*(h._stop-h._start)/Math.abs(h._rate);v._endTimers[h._id]=setTimeout(v._ended.bind(v,h),k)}return v._webAudio&&!x&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,v._clearTimer(h._id),v._cleanBuffer(h._node),y._autoSuspend()),!v._webAudio&&!x&&v.stop(h._id,!0),v},_clearTimer:function(h){var v=this;if(v._endTimers[h]){if("function"!=typeof v._endTimers[h])clearTimeout(v._endTimers[h]);else{var O=v._soundById(h);O&&O._node&&O._node.removeEventListener("ended",v._endTimers[h],!1)}delete v._endTimers[h]}return v},_soundById:function(h){for(var v=this,O=0;O<v._sounds.length;O++)if(h===v._sounds[O]._id)return v._sounds[O];return null},_inactiveSound:function(){var h=this;h._drain();for(var v=0;v<h._sounds.length;v++)if(h._sounds[v]._ended)return h._sounds[v].reset();return new m(h)},_drain:function(){var h=this,v=h._pool,O=0,x=0;if(!(h._sounds.length<v)){for(x=0;x<h._sounds.length;x++)h._sounds[x]._ended&&O++;for(x=h._sounds.length-1;x>=0;x--){if(O<=v)return;h._sounds[x]._ended&&(h._webAudio&&h._sounds[x]._node&&h._sounds[x]._node.disconnect(0),h._sounds.splice(x,1),O--)}}},_getSoundIds:function(h){if(void 0===h){for(var O=[],x=0;x<this._sounds.length;x++)O.push(this._sounds[x]._id);return O}return[h]},_refreshBuffer:function(h){return h._node.bufferSource=y.ctx.createBufferSource(),h._node.bufferSource.buffer=_[this._src],h._node.bufferSource.connect(h._panner?h._panner:h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,y.ctx.currentTime),this},_cleanBuffer:function(h){var O=y._navigator&&y._navigator.vendor.indexOf("Apple")>=0;if(y._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),O))try{h.bufferSource.buffer=y._scratchBuffer}catch(x){}return h.bufferSource=null,this},_clearSound:function(h){/MSIE |Trident\//.test(y._navigator&&y._navigator.userAgent)||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var m=function(h){this._parent=h,this.init()};m.prototype={init:function(){var h=this,v=h._parent;return h._muted=v._muted,h._loop=v._loop,h._volume=v._volume,h._rate=v._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++y._counter,v._sounds.push(h),h.create(),h},create:function(){var h=this,v=h._parent,O=y._muted||h._muted||h._parent._muted?0:h._volume;return v._webAudio?(h._node=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),h._node.gain.setValueAtTime(O,y.ctx.currentTime),h._node.paused=!0,h._node.connect(y.masterGain)):y.noAudio||(h._node=y._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(y._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=v._src,h._node.preload=!0===v._preload?"auto":v._preload,h._node.volume=O*y.volume(),h._node.load()),h},reset:function(){var h=this,v=h._parent;return h._muted=v._muted,h._loop=v._loop,h._volume=v._volume,h._rate=v._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++y._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,v=h._parent;v._duration=Math.ceil(10*h._node.duration)/10,0===Object.keys(v._sprite).length&&(v._sprite={__default:[0,1e3*v._duration]}),"loaded"!==v._state&&(v._state="loaded",v._emit("load"),v._loadQueue()),h._node.removeEventListener(y._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,v=h._parent;v._duration===1/0&&(v._duration=Math.ceil(10*h._node.duration)/10,v._sprite.__default[1]===1/0&&(v._sprite.__default[1]=1e3*v._duration),v._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var _={},f=function(h){var v=h._src;if(_[v])return h._duration=_[v].duration,void b(h);if(/^data:[^;]+;base64,/.test(v)){for(var O=atob(v.split(",")[1]),x=new Uint8Array(O.length),k=0;k<O.length;++k)x[k]=O.charCodeAt(k);d(x.buffer,h)}else{var G=new XMLHttpRequest;G.open(h._xhr.method,v,!0),G.withCredentials=h._xhr.withCredentials,G.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(H){G.setRequestHeader(H,h._xhr.headers[H])}),G.onload=function(){var H=(G.status+"")[0];"0"===H||"2"===H||"3"===H?d(G.response,h):h._emit("loaderror",null,"Failed loading audio file with status: "+G.status+".")},G.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete _[v],h.load())},p(G)}},p=function(h){try{h.send()}catch(v){h.onerror()}},d=function(h,v){var O=function(){v._emit("loaderror",null,"Decoding audio data failed.")},x=function(k){k&&v._sounds.length>0?(_[v._src]=k,b(v,k)):O()};"undefined"!=typeof Promise&&1===y.ctx.decodeAudioData.length?y.ctx.decodeAudioData(h).then(x).catch(O):y.ctx.decodeAudioData(h,x,O)},b=function(h,v){v&&!h._duration&&(h._duration=v.duration),0===Object.keys(h._sprite).length&&(h._sprite={__default:[0,1e3*h._duration]}),"loaded"!==h._state&&(h._state="loaded",h._emit("load"),h._loadQueue())},C=function(){if(y.usingWebAudio){try{"undefined"!=typeof AudioContext?y.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?y.ctx=new webkitAudioContext:y.usingWebAudio=!1}catch(k){y.usingWebAudio=!1}y.ctx||(y.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(y._navigator&&y._navigator.platform),v=y._navigator&&y._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),O=v?parseInt(v[1],10):null;if(h&&O&&O<9){var x=/safari/.test(y._navigator&&y._navigator.userAgent.toLowerCase());y._navigator&&!x&&(y.usingWebAudio=!1)}y.usingWebAudio&&(y.masterGain=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),y.masterGain.gain.setValueAtTime(y._muted?0:y._volume,y.ctx.currentTime),y.masterGain.connect(y.ctx.destination)),y._setup()}};void 0!==(u=function(){return{Howler:y,Howl:S}}.apply(U,[]))&&(me.exports=u),U.Howler=y,U.Howl=S,"undefined"!=typeof global?(global.HowlerGlobal=T,global.Howler=y,global.Howl=S,global.Sound=m):"undefined"!=typeof window&&(window.HowlerGlobal=T,window.Howler=y,window.Howl=S,window.Sound=m)}(),function(){"use strict";var y;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(y){var S=this;if(!S.ctx||!S.ctx.listener)return S;for(var m=S._howls.length-1;m>=0;m--)S._howls[m].stereo(y);return S},HowlerGlobal.prototype.pos=function(y,S,m){var _=this;return _.ctx&&_.ctx.listener?"number"!=typeof y?_._pos:(_._pos=[y,S="number"!=typeof S?_._pos[1]:S,m="number"!=typeof m?_._pos[2]:m],void 0!==_.ctx.listener.positionX?(_.ctx.listener.positionX.setTargetAtTime(_._pos[0],Howler.ctx.currentTime,.1),_.ctx.listener.positionY.setTargetAtTime(_._pos[1],Howler.ctx.currentTime,.1),_.ctx.listener.positionZ.setTargetAtTime(_._pos[2],Howler.ctx.currentTime,.1)):_.ctx.listener.setPosition(_._pos[0],_._pos[1],_._pos[2]),_):_},HowlerGlobal.prototype.orientation=function(y,S,m,_,f,p){var d=this;if(!d.ctx||!d.ctx.listener)return d;var b=d._orientation;return"number"!=typeof y?b:(d._orientation=[y,S="number"!=typeof S?b[1]:S,m="number"!=typeof m?b[2]:m,_="number"!=typeof _?b[3]:_,f="number"!=typeof f?b[4]:f,p="number"!=typeof p?b[5]:p],void 0!==d.ctx.listener.forwardX?(d.ctx.listener.forwardX.setTargetAtTime(y,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(S,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(m,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(_,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(y,S,m,_,f,p),d)},Howl.prototype.init=(y=Howl.prototype.init,function(S){var m=this;return m._orientation=S.orientation||[1,0,0],m._stereo=S.stereo||null,m._pos=S.pos||null,m._pannerAttr={coneInnerAngle:void 0!==S.coneInnerAngle?S.coneInnerAngle:360,coneOuterAngle:void 0!==S.coneOuterAngle?S.coneOuterAngle:360,coneOuterGain:void 0!==S.coneOuterGain?S.coneOuterGain:0,distanceModel:void 0!==S.distanceModel?S.distanceModel:"inverse",maxDistance:void 0!==S.maxDistance?S.maxDistance:1e4,panningModel:void 0!==S.panningModel?S.panningModel:"HRTF",refDistance:void 0!==S.refDistance?S.refDistance:1,rolloffFactor:void 0!==S.rolloffFactor?S.rolloffFactor:1},m._onstereo=S.onstereo?[{fn:S.onstereo}]:[],m._onpos=S.onpos?[{fn:S.onpos}]:[],m._onorientation=S.onorientation?[{fn:S.onorientation}]:[],y.call(this,S)}),Howl.prototype.stereo=function(y,S){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"stereo",action:function(){m.stereo(y,S)}}),m;var _=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===S){if("number"!=typeof y)return m._stereo;m._stereo=y,m._pos=[y,0,0]}for(var f=m._getSoundIds(S),p=0;p<f.length;p++){var d=m._soundById(f[p]);if(d){if("number"!=typeof y)return d._stereo;d._stereo=y,d._pos=[y,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&T(d,_),"spatial"===_?void 0!==d._panner.positionX?(d._panner.positionX.setValueAtTime(y,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(y,0,0):d._panner.pan.setValueAtTime(y,Howler.ctx.currentTime)),m._emit("stereo",d._id)}}return m},Howl.prototype.pos=function(y,S,m,_){var f=this;if(!f._webAudio)return f;if("loaded"!==f._state)return f._queue.push({event:"pos",action:function(){f.pos(y,S,m,_)}}),f;if(S="number"!=typeof S?0:S,m="number"!=typeof m?-.5:m,void 0===_){if("number"!=typeof y)return f._pos;f._pos=[y,S,m]}for(var p=f._getSoundIds(_),d=0;d<p.length;d++){var b=f._soundById(p[d]);if(b){if("number"!=typeof y)return b._pos;b._pos=[y,S,m],b._node&&((!b._panner||b._panner.pan)&&T(b,"spatial"),void 0!==b._panner.positionX?(b._panner.positionX.setValueAtTime(y,Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(S,Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(m,Howler.ctx.currentTime)):b._panner.setPosition(y,S,m)),f._emit("pos",b._id)}}return f},Howl.prototype.orientation=function(y,S,m,_){var f=this;if(!f._webAudio)return f;if("loaded"!==f._state)return f._queue.push({event:"orientation",action:function(){f.orientation(y,S,m,_)}}),f;if(S="number"!=typeof S?f._orientation[1]:S,m="number"!=typeof m?f._orientation[2]:m,void 0===_){if("number"!=typeof y)return f._orientation;f._orientation=[y,S,m]}for(var p=f._getSoundIds(_),d=0;d<p.length;d++){var b=f._soundById(p[d]);if(b){if("number"!=typeof y)return b._orientation;b._orientation=[y,S,m],b._node&&(b._panner||(b._pos||(b._pos=f._pos||[0,0,-.5]),T(b,"spatial")),void 0!==b._panner.orientationX?(b._panner.orientationX.setValueAtTime(y,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(S,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(m,Howler.ctx.currentTime)):b._panner.setOrientation(y,S,m)),f._emit("orientation",b._id)}}return f},Howl.prototype.pannerAttr=function(){var m,_,f,y=this,S=arguments;if(!y._webAudio)return y;if(0===S.length)return y._pannerAttr;if(1===S.length){if("object"!=typeof S[0])return(f=y._soundById(parseInt(S[0],10)))?f._pannerAttr:y._pannerAttr;m=S[0],void 0===_&&(m.pannerAttr||(m.pannerAttr={coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor,panningModel:m.panningModel}),y._pannerAttr={coneInnerAngle:void 0!==m.pannerAttr.coneInnerAngle?m.pannerAttr.coneInnerAngle:y._coneInnerAngle,coneOuterAngle:void 0!==m.pannerAttr.coneOuterAngle?m.pannerAttr.coneOuterAngle:y._coneOuterAngle,coneOuterGain:void 0!==m.pannerAttr.coneOuterGain?m.pannerAttr.coneOuterGain:y._coneOuterGain,distanceModel:void 0!==m.pannerAttr.distanceModel?m.pannerAttr.distanceModel:y._distanceModel,maxDistance:void 0!==m.pannerAttr.maxDistance?m.pannerAttr.maxDistance:y._maxDistance,refDistance:void 0!==m.pannerAttr.refDistance?m.pannerAttr.refDistance:y._refDistance,rolloffFactor:void 0!==m.pannerAttr.rolloffFactor?m.pannerAttr.rolloffFactor:y._rolloffFactor,panningModel:void 0!==m.pannerAttr.panningModel?m.pannerAttr.panningModel:y._panningModel})}else 2===S.length&&(m=S[0],_=parseInt(S[1],10));for(var p=y._getSoundIds(_),d=0;d<p.length;d++)if(f=y._soundById(p[d])){var b=f._pannerAttr;b={coneInnerAngle:void 0!==m.coneInnerAngle?m.coneInnerAngle:b.coneInnerAngle,coneOuterAngle:void 0!==m.coneOuterAngle?m.coneOuterAngle:b.coneOuterAngle,coneOuterGain:void 0!==m.coneOuterGain?m.coneOuterGain:b.coneOuterGain,distanceModel:void 0!==m.distanceModel?m.distanceModel:b.distanceModel,maxDistance:void 0!==m.maxDistance?m.maxDistance:b.maxDistance,refDistance:void 0!==m.refDistance?m.refDistance:b.refDistance,rolloffFactor:void 0!==m.rolloffFactor?m.rolloffFactor:b.rolloffFactor,panningModel:void 0!==m.panningModel?m.panningModel:b.panningModel};var C=f._panner;C?(C.coneInnerAngle=b.coneInnerAngle,C.coneOuterAngle=b.coneOuterAngle,C.coneOuterGain=b.coneOuterGain,C.distanceModel=b.distanceModel,C.maxDistance=b.maxDistance,C.refDistance=b.refDistance,C.rolloffFactor=b.rolloffFactor,C.panningModel=b.panningModel):(f._pos||(f._pos=y._pos||[0,0,-.5]),T(f,"spatial"))}return y},Sound.prototype.init=function(y){return function(){var S=this,m=S._parent;S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,y.call(this),S._stereo?m.stereo(S._stereo):S._pos&&m.pos(S._pos[0],S._pos[1],S._pos[2],S._id)}}(Sound.prototype.init),Sound.prototype.reset=function(y){return function(){var S=this,m=S._parent;return S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,S._stereo?m.stereo(S._stereo):S._pos?m.pos(S._pos[0],S._pos[1],S._pos[2],S._id):S._panner&&(S._panner.disconnect(0),S._panner=void 0,m._refreshBuffer(S)),y.call(this)}}(Sound.prototype.reset);var T=function(y,S){"spatial"===(S=S||"spatial")?(y._panner=Howler.ctx.createPanner(),y._panner.coneInnerAngle=y._pannerAttr.coneInnerAngle,y._panner.coneOuterAngle=y._pannerAttr.coneOuterAngle,y._panner.coneOuterGain=y._pannerAttr.coneOuterGain,y._panner.distanceModel=y._pannerAttr.distanceModel,y._panner.maxDistance=y._pannerAttr.maxDistance,y._panner.refDistance=y._pannerAttr.refDistance,y._panner.rolloffFactor=y._pannerAttr.rolloffFactor,y._panner.panningModel=y._pannerAttr.panningModel,void 0!==y._panner.positionX?(y._panner.positionX.setValueAtTime(y._pos[0],Howler.ctx.currentTime),y._panner.positionY.setValueAtTime(y._pos[1],Howler.ctx.currentTime),y._panner.positionZ.setValueAtTime(y._pos[2],Howler.ctx.currentTime)):y._panner.setPosition(y._pos[0],y._pos[1],y._pos[2]),void 0!==y._panner.orientationX?(y._panner.orientationX.setValueAtTime(y._orientation[0],Howler.ctx.currentTime),y._panner.orientationY.setValueAtTime(y._orientation[1],Howler.ctx.currentTime),y._panner.orientationZ.setValueAtTime(y._orientation[2],Howler.ctx.currentTime)):y._panner.setOrientation(y._orientation[0],y._orientation[1],y._orientation[2])):(y._panner=Howler.ctx.createStereoPanner(),y._panner.pan.setValueAtTime(y._stereo,Howler.ctx.currentTime)),y._panner.connect(y._node),y._paused||y._parent.pause(y._id,!0).play(y._id,!0)}}()},3894:me=>{me.exports="function"==typeof Object.create?function(M,u){u&&(M.super_=u,M.prototype=Object.create(u.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,u){if(u){M.super_=u;var T=function(){};T.prototype=u.prototype,M.prototype=new T,M.prototype.constructor=M}}},5943:me=>{"use strict";var U=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function T(S){if(null==S)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(S)}me.exports=function y(){try{if(!Object.assign)return!1;var S=new String("abc");if(S[5]="de","5"===Object.getOwnPropertyNames(S)[0])return!1;for(var m={},_=0;_<10;_++)m["_"+String.fromCharCode(_)]=_;if("0123456789"!==Object.getOwnPropertyNames(m).map(function(d){return m[d]}).join(""))return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(d){p[d]=d}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},p)).join("")}catch(d){return!1}}()?Object.assign:function(S,m){for(var _,p,f=T(S),d=1;d<arguments.length;d++){for(var b in _=Object(arguments[d]))M.call(_,b)&&(f[b]=_[b]);if(U){p=U(_);for(var C=0;C<p.length;C++)u.call(_,p[C])&&(f[p[C]]=_[p[C]])}}return f}},516:me=>{"use strict";function U(M,u){return Object.prototype.hasOwnProperty.call(M,u)}me.exports=function(M,u,T,y){T=T||"=";var S={};if("string"!=typeof M||0===M.length)return S;var m=/\+/g;M=M.split(u=u||"&");var _=1e3;y&&"number"==typeof y.maxKeys&&(_=y.maxKeys);var f=M.length;_>0&&f>_&&(f=_);for(var p=0;p<f;++p){var C,h,v,O,d=M[p].replace(m,"%20"),b=d.indexOf(T);b>=0?(C=d.substr(0,b),h=d.substr(b+1)):(C=d,h=""),v=decodeURIComponent(C),O=decodeURIComponent(h),U(S,v)?Array.isArray(S[v])?S[v].push(O):S[v]=[S[v],O]:S[v]=O}return S}},5776:me=>{"use strict";var U=function(M){switch(typeof M){case"string":return M;case"boolean":return M?"true":"false";case"number":return isFinite(M)?M:"";default:return""}};me.exports=function(M,u,T,y){return u=u||"&",T=T||"=",null===M&&(M=void 0),"object"==typeof M?Object.keys(M).map(function(S){var m=encodeURIComponent(U(S))+T;return Array.isArray(M[S])?M[S].map(function(_){return m+encodeURIComponent(U(_))}).join(u):m+encodeURIComponent(U(M[S]))}).join(u):y?encodeURIComponent(U(y))+T+encodeURIComponent(U(M)):""}},7137:(me,U,M)=>{"use strict";U.decode=U.parse=M(516),U.encode=U.stringify=M(5776)},2858:(me,U)=>{"use strict";var M=Object.prototype.hasOwnProperty;function T(_){try{return decodeURIComponent(_.replace(/\+/g," "))}catch(f){return null}}function y(_){try{return encodeURIComponent(_)}catch(f){return null}}U.stringify=function m(_,f){f=f||"";var d,b,p=[];for(b in"string"!=typeof f&&(f="?"),_)if(M.call(_,b)){if(!(d=_[b])&&(null==d||isNaN(d))&&(d=""),b=y(b),d=y(d),null===b||null===d)continue;p.push(b+"="+d)}return p.length?f+p.join("&"):""},U.parse=function S(_){for(var d,f=/([^=?#&]+)=?([^&]*)/g,p={};d=f.exec(_);){var b=T(d[1]),C=T(d[2]);null===b||null===C||b in p||(p[b]=C)}return p}},8237:me=>{"use strict";me.exports=function(M,u){if(u=u.split(":")[0],!(M=+M))return!1;switch(u){case"http":case"ws":return 80!==M;case"https":case"wss":return 443!==M;case"ftp":return 21!==M;case"gopher":return 70!==M;case"file":return!1}return 0!==M}},8135:function(me){me.exports=function(U){var M={};function u(T){if(M[T])return M[T].exports;var y=M[T]={i:T,l:!1,exports:{}};return U[T].call(y.exports,y,y.exports,u),y.l=!0,y.exports}return u.m=U,u.c=M,u.d=function(T,y,S){u.o(T,y)||Object.defineProperty(T,y,{configurable:!1,enumerable:!0,get:S})},u.r=function(T){Object.defineProperty(T,"__esModule",{value:!0})},u.n=function(T){var y=T&&T.__esModule?function(){return T.default}:function(){return T};return u.d(y,"a",y),y},u.o=function(T,y){return Object.prototype.hasOwnProperty.call(T,y)},u.p="",u(u.s=325)}([function(U,M,u){var T=u(6),y=u(37),S=u(18),m=u(15),_=u(27),f=function(p,d,b){var C,h,v,O,x=p&f.F,k=p&f.G,H=p&f.P,L=p&f.B,j=k?T:p&f.S?T[d]||(T[d]={}):(T[d]||{}).prototype,F=k?y:y[d]||(y[d]={}),V=F.prototype||(F.prototype={});for(C in k&&(b=d),b)v=((h=!x&&j&&void 0!==j[C])?j:b)[C],O=L&&h?_(v,T):H&&"function"==typeof v?_(Function.call,v):v,j&&m(j,C,v,p&f.U),F[C]!=v&&S(F,C,O),H&&V[C]!=v&&(V[C]=v)};T.core=y,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,U.exports=f},function(U,M,u){"use strict";function T(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function y(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?p:d}function S(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}Object.defineProperty(M,"__esModule",{value:!0});var m=function(p){function d(b){T(this,d);var C=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return C.name="SFSError",C}return S(d,Error),d}(),_=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T(this,d);var h=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return h.name="SFSValidationError",h.errors=C,h}return S(d,m),d}(),f=function(p){function d(b){T(this,d);var C=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return C.name="SFSTypeError",C}return S(d,m),d}();M.SFSError=m,M.SFSValidationError=_,M.SFSTypeError=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Message=M.Requests=M.BaseRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=u(8),S=u(50);function m(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}var _=function(){function d(b){m(this,d),this._reqObj=new y.SFSObject,this._id=b,this._targetController=0,this._logger=S.Logger.instance}return T(d,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),T(d,[{key:"getMessage",value:function(){return new f(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),d}(),f=function(){function d(b,C,h){m(this,d),this._id=b,this._targetController=C,this._content=h,Object.freeze(this)}return T(d,[{key:"dump",value:function(){return(p.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),d}(),p=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(d){for(var b in this)if(this.hasOwnProperty(b)&&this[b]===d)return b;return""}});M.BaseRequest=_,M.Requests=p,M.Message=f},function(U,M){U.exports=function(u){try{return!!u()}catch(T){return!0}}},function(U,M){U.exports=function(u){return"object"==typeof u?null!==u:"function"==typeof u}},function(U,M,u){var T=u(4);U.exports=function(y){if(!T(y))throw TypeError(y+" is not an object!");return y}},function(U,M){var u=U.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=u)},function(U,M,u){var T=u(95)("wks"),y=u(35),S=u(6).Symbol,m="function"==typeof S;(U.exports=function(_){return T[_]||(T[_]=m&&S[_]||(m?S:y)("Symbol."+_))}).store=T},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Vec3D=M.SFSArray=M.SFSObject=M.SFSDataWrapper=M.SFSDataType=void 0;var T=function(){function v(O,x){for(var k=0;k<x.length;k++){var G=x[k];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}return function(O,x,k){return x&&v(O.prototype,x),k&&v(O,k),O}}(),y=u(174),S=u(51),m=u(50),_=u(1);function f(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}var p=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(v){if("number"!=typeof v)return null;for(var O in this)if(this.hasOwnProperty(O)&&this[O]===v)return O},validate:function(v,O){if(null==this.fromId(v))throw new _.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var x=null;if(v===this.NULL&&null!=O&&(x="a null value"),v!==this.NULL&&null==O&&(x="a non-null value"),v!==this.BOOL||this.isBoolType(O)||(x="a boolean value"),v!==this.BYTE||this.isByteType(O)||(x="an integer number in this range: 0 <= value < 256"),v!==this.SHORT||this.isShortType(O)||(x="an integer number in this range: -32.768 <= value < +32.768"),v!==this.INT||this.isIntType(O)||(x="an integer number in this range: -2^31 <= value < +2^31"),v!==this.LONG||this.isLongType(O)||(x="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT||this.isFloatType(O)||(x="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE||this.isDoubleType(O)||(x="a finite number"),v!==this.UTF_STRING&&v!==this.TEXT||this.isStringType(O)||(x="a string value"),v!==this.BOOL_ARRAY||this.isArrayType(O,this.isBoolType)||(x="an array of boolean values"),v!==this.BYTE_ARRAY||O instanceof Uint8Array||(x="a Uint8Array"),v!==this.SHORT_ARRAY||this.isArrayType(O,this.isShortType)||(x="an array of integer numbers in this range: -32.768 <= value < +32.768"),v!==this.INT_ARRAY||this.isArrayType(O,this.isIntType)||(x="an array of integer numbers in this range: -2^31 <= value < +2^31"),v!==this.LONG_ARRAY||this.isArrayType(O,this.isLongType)||(x="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT_ARRAY||this.isArrayType(O,this.isFloatType)||(x="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE_ARRAY||this.isArrayType(O,this.isDoubleType)||(x="an array of finite numbers"),v!==this.UTF_STRING_ARRAY||this.isArrayType(O,this.isStringType)||(x="an array of string values"),v!==this.SFS_OBJECT||O instanceof b||(x="a SFSObject instance"),v!==this.SFS_ARRAY||O instanceof C||(x="a SFSArray instance"),null!=x)throw new _.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(v)+" requires "+x)},isBoolType:function(v){return"boolean"==typeof v},isByteType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=0&&v<256},isShortType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-32768&&v<32768},isIntType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-2147483648&&v<2147483648},isLongType:function(v){return"number"==typeof v&&Math.floor(v)===v&&Number.isSafeInteger(v)},isFloatType:function(v){return"number"==typeof v&&v>=-34028234663852886e22&&v<=34028234663852886e22},isDoubleType:function(v){return"number"==typeof v&&isFinite(v)},isStringType:function(v){return"string"==typeof v},isArrayType:function(v,O){return v instanceof Array&&(!(v.length>0)||O(v[0]))}}),d=function v(O,x){f(this,v),this.type=O,this.value=x,Object.freeze(this)},b=function(){function v(){f(this,v),this._dataHolder=new Map,this._serializer=y.SFSDataSerializer.instance,Object.freeze(this)}return T(v,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(O){return this._dataHolder.get(O)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(O){return null!=this.getWrappedItem(O)}},{key:"get",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,k=this.getWrappedItem(O);if(null!=k&&null!=x&&k.type!=x)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(x));return null!=k?k.value:null}},{key:"isNull",value:function(O){var x=this.getWrappedItem(O);return null==x||x.type==p.NULL}},{key:"getBool",value:function(O){return this.get(O,p.BOOL)}},{key:"getByte",value:function(O){return this.get(O,p.BYTE)}},{key:"getShort",value:function(O){return this.get(O,p.SHORT)}},{key:"getInt",value:function(O){return this.get(O,p.INT)}},{key:"getLong",value:function(O){var x=this.get(O,p.LONG);return Number.isSafeInteger(x)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),x}},{key:"getFloat",value:function(O){return this.get(O,p.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,p.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,p.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,p.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,p.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,p.SFS_ARRAY)}},{key:"put",value:function(O,x,k){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof O)throw"Invalid key passed; must be of type string";p.validate(k,x)}this._dataHolder.set(O,new d(k,x))}},{key:"putNull",value:function(O){this.put(O,null,p.NULL)}},{key:"putBool",value:function(O,x){this.put(O,x,p.BOOL)}},{key:"putByte",value:function(O,x){this.put(O,x,p.BYTE)}},{key:"putShort",value:function(O,x){this.put(O,x,p.SHORT)}},{key:"putInt",value:function(O,x){this.put(O,x,p.INT)}},{key:"putLong",value:function(O,x){this.put(O,x,p.LONG)}},{key:"putFloat",value:function(O,x){this.put(O,x,p.FLOAT)}},{key:"putDouble",value:function(O,x){this.put(O,x,p.DOUBLE)}},{key:"putUtfString",value:function(O,x){this.put(O,x,p.UTF_STRING)}},{key:"putText",value:function(O,x){this.put(O,x,p.TEXT)}},{key:"putBoolArray",value:function(O,x){this.put(O,x,p.BOOL_ARRAY)}},{key:"putByteArray",value:function(O,x){this.put(O,x,p.BYTE_ARRAY)}},{key:"putShortArray",value:function(O,x){this.put(O,x,p.SHORT_ARRAY)}},{key:"putIntArray",value:function(O,x){this.put(O,x,p.INT_ARRAY)}},{key:"putLongArray",value:function(O,x){this.put(O,x,p.LONG_ARRAY)}},{key:"putFloatArray",value:function(O,x){this.put(O,x,p.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(O,x){this.put(O,x,p.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(O,x){this.put(O,x,p.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(O,x){this.put(O,x,p.SFS_ARRAY)}},{key:"putSFSObject",value:function(O,x){this.put(O,x,p.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":O?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var O=S.DumpFormatter.TOKEN_INDENT_OPEN,x=!0,k=!1,G=void 0;try{for(var H,L=this.keys()[Symbol.iterator]();!(x=(H=L.next()).done);x=!0){var j=H.value,F=this.getWrappedItem(j);O+="("+p.fromId(F.type).toLowerCase()+") "+j+": ",O+=F.type===p.SFS_OBJECT||F.type===p.SFS_ARRAY?F.value.getDump(!1):F.type===p.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(F.value):F.value,O+=S.DumpFormatter.TOKEN_DIVIDER}}catch(V){k=!0,G=V}finally{try{!x&&L.return&&L.return()}finally{if(k)throw G}}return O+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return y.SFSDataSerializer.instance.binary2object(O)}}]),v}(),C=function(){function v(){f(this,v),this._dataHolder=[],this._serializer=y.SFSDataSerializer.instance,Object.freeze(this)}return T(v,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(O){return"number"!=typeof O||O>=this._dataHolder.length?null:this._dataHolder[O]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(O){if(O instanceof v||O instanceof b)throw new _.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var x=0;x<this.size();x++){var k=this.getWrappedItem(x);if(null!=k&&k.value==O)return!0}return!1}},{key:"get",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof O||O>=this._dataHolder.length)return null;var k=this.getWrappedItem(O);if(null!=k&&null!=x&&k.type!=x)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(x));return null!=k?k.value:null}},{key:"isNull",value:function(O){var x=this.getWrappedItem(O);return null==x||x.type==p.NULL}},{key:"getBool",value:function(O){return this.get(O,p.BOOL)}},{key:"getByte",value:function(O){return this.get(O,p.BYTE)}},{key:"getShort",value:function(O){return this.get(O,p.SHORT)}},{key:"getInt",value:function(O){return this.get(O,p.INT)}},{key:"getLong",value:function(O){var x=this.get(O,p.LONG);return Number.isSafeInteger(x)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),x}},{key:"getFloat",value:function(O){return this.get(O,p.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,p.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,p.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,p.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,p.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,p.SFS_ARRAY)}},{key:"add",value:function(O,x){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||p.validate(x,O),this._dataHolder.push(new d(x,O))}},{key:"addNull",value:function(){this.add(null,p.NULL)}},{key:"addBool",value:function(O){this.add(O,p.BOOL)}},{key:"addByte",value:function(O){this.add(O,p.BYTE)}},{key:"addShort",value:function(O){this.add(O,p.SHORT)}},{key:"addInt",value:function(O){this.add(O,p.INT)}},{key:"addLong",value:function(O){this.add(O,p.LONG)}},{key:"addFloat",value:function(O){this.add(O,p.FLOAT)}},{key:"addDouble",value:function(O){this.add(O,p.DOUBLE)}},{key:"addUtfString",value:function(O){this.add(O,p.UTF_STRING)}},{key:"addText",value:function(O){this.add(O,p.TEXT)}},{key:"addBoolArray",value:function(O){this.add(O,p.BOOL_ARRAY)}},{key:"addByteArray",value:function(O){this.add(O,p.BYTE_ARRAY)}},{key:"addShortArray",value:function(O){this.add(O,p.SHORT_ARRAY)}},{key:"addIntArray",value:function(O){this.add(O,p.INT_ARRAY)}},{key:"addLongArray",value:function(O){this.add(O,p.LONG_ARRAY)}},{key:"addFloatArray",value:function(O){this.add(O,p.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(O){this.add(O,p.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(O){this.add(O,p.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(O){this.add(O,p.SFS_ARRAY)}},{key:"addSFSObject",value:function(O){this.add(O,p.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":O?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var O=S.DumpFormatter.TOKEN_INDENT_OPEN,x=0;x<this.size();x++){var k=this.getWrappedItem(x);O+="("+p.fromId(k.type).toLowerCase()+") "+x+": ",O+=k.type===p.SFS_OBJECT||k.type===p.SFS_ARRAY?k.value.getDump(!1):k.type===p.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(k.value):k.value,O+=S.DumpFormatter.TOKEN_DIVIDER}return O+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return y.SFSDataSerializer.instance.binary2array(O)}}]),v}(),h=function(){function v(O,x){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,G=arguments.length>3&&void 0!==arguments[3]&&arguments[3];f(this,v),this.px=O,this.py=x,this.pz=k,this._useFloatCoordinates=G}return T(v,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(O){return new v(O[0],O[1],O[2])}}]),v}();M.SFSDataType=p,M.SFSDataWrapper=d,M.SFSObject=b,M.SFSArray=C,M.Vec3D=h},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMORoom=M.SFSRoom=void 0;var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}(),y=u(8),S=u(49),m=u(119),_=u(1);function f(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var p=function(){function b(C,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",O=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];f(this,b),this._id=C,this._name=h,this._groupId=v,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new m.SFSUserManager,this._roomManager=null,this.properties={},O&&Object.seal(this)}return T(b,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(C){return this._userManager.getUserByName(C)}},{key:"getUserById",value:function(C){return this._userManager.getUserById(C)}},{key:"containsUser",value:function(C){return this._userManager.containsUser(C)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isPlayerInRoom(C)})}},{key:"getSpectatorList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isSpectatorInRoom(C)})}},{key:"getVariable",value:function(C){return this._variables.get(C)}},{key:"containsVariable",value:function(C){return this._variables.has(C)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(C){this._userManager._addUser(C)}},{key:"_removeUser",value:function(C){this._userManager._removeUser(C)}},{key:"_setVariables",value:function(C){var h=!0,v=!1,O=void 0;try{for(var x,k=C[Symbol.iterator]();!(h=(x=k.next()).done);h=!0)this._setVariable(x.value)}catch(H){v=!0,O=H}finally{try{!h&&k.return&&k.return()}finally{if(v)throw O}}}},{key:"_setVariable",value:function(C){C.isNull?this._variables.delete(C.name):this._variables.set(C.name,C)}},{key:"_setRoomManager",value:function(C){if(null!=this._roomManager)throw new _.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=C}},{key:"_merge",value:function(C){if(!this.isJoined){this._variables.clear();var h=!0,v=!1,O=void 0;try{for(var x,k=C._variables.values()[Symbol.iterator]();!(h=(x=k.next()).done);h=!0)this._setVariable(x.value)}catch(W){v=!0,O=W}finally{try{!h&&k.return&&k.return()}finally{if(v)throw O}}this._userManager._clearAll();var H=!0,L=!1,j=void 0;try{for(var F,V=C.getUserList()[Symbol.iterator]();!(H=(F=V.next()).done);H=!0)this._addUser(F.value)}catch(W){L=!0,j=W}finally{try{!H&&V.return&&V.return()}finally{if(L)throw j}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(C){var h=14===C.size(),v=void 0;(v=h?new d(C.get(0),C.get(1),C.get(2)):new b(C.get(0),C.get(1),C.get(2)))._isGame=C.get(3),v._isHidden=C.get(4),v._isPasswordProtected=C.get(5),v._userCount=C.get(6),v._maxUsers=C.get(7);var O=C.get(8);if(null!=O)for(var x=0;x<O.size();x++){var k=S.SFSRoomVariable.fromSFSArray(O.get(x));v._setVariable(k)}return v._isGame&&(v._specCount=C.get(9),v._maxSpectators=C.get(10)),h&&(v._defaultAOI=y.Vec3D.fromArray(C.get(11)),null!=C.get(13)&&(v._lowerMapLimit=y.Vec3D.fromArray(C.get(12)),v._higherMapLimit=y.Vec3D.fromArray(C.get(13)))),v}}]),b}(),d=function(b){function C(h,v){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";f(this,C);var x=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,h,v,O,!1));return x._defaultAOI=null,x._lowerMapLimit=null,x._higherMapLimit=null,x._itemsById=new Map,Object.seal(x),x}return function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}(C,p),T(C,[{key:"getMMOItem",value:function(h){return this._itemsById.get(h)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(h){this._itemsById.set(h.id,h)}},{key:"_removeItem",value:function(h){this._itemsById.delete(h)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),C}();M.SFSRoom=p,M.MMORoom=d},function(U,M,u){var T=u(5),y=u(148),S=u(30),m=Object.defineProperty;M.f=u(11)?Object.defineProperty:function(_,f,p){if(T(_),f=S(f,!0),T(p),y)try{return m(_,f,p)}catch(d){}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(_[f]=p.value),_}},function(U,M,u){U.exports=!u(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(U,M,u){var T=u(24),y=Math.min;U.exports=function(S){return S>0?y(T(S),9007199254740991):0}},function(U,M,u){var T=u(0),y=u(3),S=u(28),m=/"/g,_=function(f,p,d,b){var C=String(S(f)),h="<"+p;return""!==d&&(h+=" "+d+'="'+String(b).replace(m,"&quot;")+'"'),h+">"+C+"</"+p+">"};U.exports=function(f,p){var d={};d[f]=p(_),T(T.P+T.F*y(function(){var b=""[f]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",d)}},function(U,M,u){var T=u(28);U.exports=function(y){return Object(T(y))}},function(U,M,u){var T=u(6),y=u(18),S=u(16),m=u(35)("src"),_=Function.toString,f=(""+_).split("toString");u(37).inspectSource=function(p){return _.call(p)},(U.exports=function(p,d,b,C){var h="function"==typeof b;h&&(S(b,"name")||y(b,"name",d)),p[d]!==b&&(h&&(S(b,m)||y(b,m,p[d]?""+p[d]:f.join(String(d)))),p===T?p[d]=b:C?p[d]?p[d]=b:y(p,d,b):(delete p[d],y(p,d,b)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||_.call(this)})},function(U,M){var u={}.hasOwnProperty;U.exports=function(T,y){return u.call(T,y)}},function(U,M,u){"use strict";var T=u(3);U.exports=function(y,S){return!!y&&T(function(){S?y.call(null,function(){},1):y.call(null)})}},function(U,M,u){var T=u(10),y=u(36);U.exports=u(11)?function(S,m,_){return T.f(S,m,y(1,_))}:function(S,m,_){return S[m]=_,S}},function(U,M,u){var T=u(27),y=u(54),S=u(14),m=u(12),_=u(231);U.exports=function(f,p){var d=1==f,b=2==f,C=3==f,h=4==f,v=6==f,O=5==f||v,x=p||_;return function(k,G,H){for(var L,j,F=S(k),V=y(F),Q=T(G,H,3),W=m(V.length),ee=0,J=d?x(k,W):b?x(k,0):void 0;W>ee;ee++)if((O||ee in V)&&(j=Q(L=V[ee],ee,F),f))if(d)J[ee]=j;else if(j)switch(f){case 3:return!0;case 5:return L;case 6:return ee;case 2:J.push(L)}else if(h)return!1;return v?-1:C||h?h:J}}},function(U,M,u){var T=u(0),y=u(37),S=u(3);U.exports=function(m,_){var f=(y.Object||{})[m]||Object[m],p={};p[m]=_(f),T(T.S+T.F*S(function(){f(1)}),"Object",p)}},function(U,M,u){var T=u(54),y=u(28);U.exports=function(S){return T(y(S))}},function(U,M,u){"use strict";if(u(11)){var T=u(44),y=u(6),S=u(3),m=u(0),_=u(60),f=u(75),p=u(27),d=u(42),b=u(36),C=u(18),h=u(41),v=u(24),O=u(12),x=u(121),k=u(34),G=u(30),H=u(16),L=u(66),j=u(4),F=u(14),V=u(80),Q=u(33),W=u(31),ee=u(32).f,J=u(79),ue=u(35),Ce=u(7),_e=u(19),Ee=u(94),X=u(76),se=u(128),Z=u(53),be=u(64),oe=u(43),le=u(78),de=u(129),Be=u(10),Je=u(23),Le=Be.f,Mt=Je.f,qe=y.RangeError,je=y.TypeError,ie=y.Uint8Array,fe=Array.prototype,pe=f.ArrayBuffer,Ge=f.DataView,ze=_e(0),et=_e(2),xe=_e(3),He=_e(4),zt=_e(5),It=_e(6),qt=Ee(!0),zn=Ee(!1),tt=se.values,ft=se.keys,ve=se.entries,ge=fe.lastIndexOf,we=fe.reduce,Re=fe.reduceRight,Se=fe.join,Fe=fe.sort,st=fe.slice,_t=fe.toString,vt=fe.toLocaleString,dn=Ce("iterator"),Pn=Ce("toStringTag"),$n=ue("typed_constructor"),Bt=ue("def_constructor"),An=_.CONSTR,en=_.TYPED,Lt=_.VIEW,Tn=_e(1,function(Qe,Tt){return _i(X(Qe,Qe[Bt]),Tt)}),lr=S(function(){return 1===new ie(new Uint16Array([1]).buffer)[0]}),cr=!!ie&&!!ie.prototype.set&&S(function(){new ie(1).set({})}),Fn=function(Qe,Tt){var Ut=v(Qe);if(Ut<0||Ut%Tt)throw qe("Wrong offset!");return Ut},Jt=function(Qe){if(j(Qe)&&en in Qe)return Qe;throw je(Qe+" is not a typed array!")},_i=function(Qe,Tt){if(!j(Qe)||!($n in Qe))throw je("It is not a typed array constructor!");return new Qe(Tt)},$t=function(Qe,Tt){return Bi(X(Qe,Qe[Bt]),Tt)},Bi=function(Qe,Tt){for(var Ut=0,ui=Tt.length,rn=_i(Qe,ui);ui>Ut;)rn[Ut]=Tt[Ut++];return rn},ur=function(Qe,Tt,Ut){Le(Qe,Tt,{get:function(){return this._d[Ut]}})},gt=function(Qe){var Tt,Ut,ui,rn,Pi,cs,on=F(Qe),Ai=arguments.length,fr=Ai>1?arguments[1]:void 0,go=void 0!==fr,Xr=J(on);if(null!=Xr&&!V(Xr)){for(cs=Xr.call(on),ui=[],Tt=0;!(Pi=cs.next()).done;Tt++)ui.push(Pi.value);on=ui}for(go&&Ai>2&&(fr=p(fr,arguments[2],2)),Tt=0,Ut=O(on.length),rn=_i(this,Ut);Ut>Tt;Tt++)rn[Tt]=go?fr(on[Tt],Tt):on[Tt];return rn},hr=function(){for(var Qe=0,Tt=arguments.length,Ut=_i(this,Tt);Tt>Qe;)Ut[Qe]=arguments[Qe++];return Ut},Fr=!!ie&&S(function(){vt.call(new ie(1))}),Ls=function(){return vt.apply(Fr?st.call(Jt(this)):Jt(this),arguments)},Ou={copyWithin:function(Qe,Tt){return de.call(Jt(this),Qe,Tt,arguments.length>2?arguments[2]:void 0)},every:function(Qe){return He(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},fill:function(Qe){return le.apply(Jt(this),arguments)},filter:function(Qe){return $t(this,et(Jt(this),Qe,arguments.length>1?arguments[1]:void 0))},find:function(Qe){return zt(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},findIndex:function(Qe){return It(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},forEach:function(Qe){ze(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},indexOf:function(Qe){return zn(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},includes:function(Qe){return qt(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},join:function(Qe){return Se.apply(Jt(this),arguments)},lastIndexOf:function(Qe){return ge.apply(Jt(this),arguments)},map:function(Qe){return Tn(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},reduce:function(Qe){return we.apply(Jt(this),arguments)},reduceRight:function(Qe){return Re.apply(Jt(this),arguments)},reverse:function(){for(var Qe,Tt=Jt(this).length,Ut=Math.floor(Tt/2),ui=0;ui<Ut;)Qe=this[ui],this[ui++]=this[--Tt],this[Tt]=Qe;return this},some:function(Qe){return xe(Jt(this),Qe,arguments.length>1?arguments[1]:void 0)},sort:function(Qe){return Fe.call(Jt(this),Qe)},subarray:function(Qe,Tt){var Ut=Jt(this),ui=Ut.length,rn=k(Qe,ui);return new(X(Ut,Ut[Bt]))(Ut.buffer,Ut.byteOffset+rn*Ut.BYTES_PER_ELEMENT,O((void 0===Tt?ui:k(Tt,ui))-rn))}},Us=function(Qe,Tt){return $t(this,st.call(Jt(this),Qe,Tt))},Nl=function(Qe){Jt(this);var Tt=Fn(arguments[1],1),Ut=this.length,ui=F(Qe),rn=O(ui.length),Pi=0;if(rn+Tt>Ut)throw qe("Wrong length!");for(;Pi<rn;)this[Tt+Pi]=ui[Pi++]},dr={entries:function(){return ve.call(Jt(this))},keys:function(){return ft.call(Jt(this))},values:function(){return tt.call(Jt(this))}},ko=function(Qe,Tt){return j(Qe)&&Qe[en]&&"symbol"!=typeof Tt&&Tt in Qe&&String(+Tt)==String(Tt)},$r=function(Qe,Tt){return ko(Qe,Tt=G(Tt,!0))?b(2,Qe[Tt]):Mt(Qe,Tt)},wi=function(Qe,Tt,Ut){return!(ko(Qe,Tt=G(Tt,!0))&&j(Ut)&&H(Ut,"value"))||H(Ut,"get")||H(Ut,"set")||Ut.configurable||H(Ut,"writable")&&!Ut.writable||H(Ut,"enumerable")&&!Ut.enumerable?Le(Qe,Tt,Ut):(Qe[Tt]=Ut.value,Qe)};An||(Je.f=$r,Be.f=wi),m(m.S+m.F*!An,"Object",{getOwnPropertyDescriptor:$r,defineProperty:wi}),S(function(){_t.call({})})&&(_t=vt=function(){return Se.call(this)});var Br=h({},Ou);h(Br,dr),C(Br,dn,dr.values),h(Br,{slice:Us,set:Nl,constructor:function(){},toString:_t,toLocaleString:Ls}),ur(Br,"buffer","b"),ur(Br,"byteOffset","o"),ur(Br,"byteLength","l"),ur(Br,"length","e"),Le(Br,Pn,{get:function(){return this[en]}}),U.exports=function(Qe,Tt,Ut,ui){var rn=Qe+((ui=!!ui)?"Clamped":"")+"Array",Pi="get"+Qe,cs="set"+Qe,on=y[rn],Ai=on||{},fr=on&&W(on),Xr={},yr=on&&on.prototype,kl=function(Gn,fi){Le(Gn,fi,{get:function(){return(mo=this._d).v[Pi](fi*Tt+mo.o,lr);var mo},set:function(Xn){return mo=fi,Cn=Xn,Gs=this._d,ui&&(Cn=(Cn=Math.round(Cn))<0?0:Cn>255?255:255&Cn),void Gs.v[cs](mo*Tt+Gs.o,Cn,lr);var mo,Cn,Gs},enumerable:!0})};on&&_.ABV?S(function(){on(1)})&&S(function(){new on(-1)})&&be(function(Gn){new on,new on(null),new on(1.5),new on(Gn)},!0)||(on=Ut(function(Gn,fi,Xn,_o){var mo;return d(Gn,on,rn),j(fi)?fi instanceof pe||"ArrayBuffer"==(mo=L(fi))||"SharedArrayBuffer"==mo?void 0!==_o?new Ai(fi,Fn(Xn,Tt),_o):void 0!==Xn?new Ai(fi,Fn(Xn,Tt)):new Ai(fi):en in fi?Bi(on,fi):gt.call(on,fi):new Ai(x(fi))}),ze(fr!==Function.prototype?ee(Ai).concat(ee(fr)):ee(Ai),function(Gn){Gn in on||C(on,Gn,Ai[Gn])}),on.prototype=yr,T||(yr.constructor=on)):(on=Ut(function(Gn,fi,Xn,_o){d(Gn,on,rn,"_d");var mo,Cn,Gs,ri,Pd=0,Ad=0;if(j(fi)){if(!(fi instanceof pe||"ArrayBuffer"==(ri=L(fi))||"SharedArrayBuffer"==ri))return en in fi?Bi(on,fi):gt.call(on,fi);mo=fi,Ad=Fn(Xn,Tt);var vn=fi.byteLength;if(void 0===_o){if(vn%Tt||(Cn=vn-Ad)<0)throw qe("Wrong length!")}else if((Cn=O(_o)*Tt)+Ad>vn)throw qe("Wrong length!");Gs=Cn/Tt}else Gs=x(fi),mo=new pe(Cn=Gs*Tt);for(C(Gn,"_d",{b:mo,o:Ad,l:Cn,e:Gs,v:new Ge(mo)});Pd<Gs;)kl(Gn,Pd++)}),yr=on.prototype=Q(Br),C(yr,"constructor",on));var va=yr[dn],Sc=!!va&&("values"==va.name||null==va.name),Mu=dr.values;C(on,$n,!0),C(yr,en,rn),C(yr,Lt,!0),C(yr,Bt,on),(ui?new on(1)[Pn]==rn:Pn in yr)||Le(yr,Pn,{get:function(){return rn}}),Xr[rn]=on,m(m.G+m.W+m.F*(on!=Ai),Xr),m(m.S,rn,{BYTES_PER_ELEMENT:Tt}),m(m.S+m.F*S(function(){Ai.of.call(on,1)}),rn,{from:gt,of:hr}),"BYTES_PER_ELEMENT"in yr||C(yr,"BYTES_PER_ELEMENT",Tt),m(m.P,rn,Ou),oe(rn),m(m.P+m.F*cr,rn,{set:Nl}),m(m.P+m.F*!Sc,rn,dr),T||yr.toString==_t||(yr.toString=_t),m(m.P+m.F*S(function(){new on(1).slice()}),rn,{slice:Us}),m(m.P+m.F*(S(function(){return[1,2].toLocaleString()!=new on([1,2]).toLocaleString()})||!S(function(){yr.toLocaleString.call([1,2])})),rn,{toLocaleString:Ls}),Z[rn]=Sc?va:Mu,T||Sc||C(yr,dn,Mu)}}else U.exports=function(){}},function(U,M,u){var T=u(67),y=u(36),S=u(21),m=u(30),_=u(16),f=u(148),p=Object.getOwnPropertyDescriptor;M.f=u(11)?p:function(d,b){if(d=S(d),b=m(b,!0),f)try{return p(d,b)}catch(C){}if(_(d,b))return y(!T.f.call(d,b),d[b])}},function(U,M){var u=Math.ceil,T=Math.floor;U.exports=function(y){return isNaN(y=+y)?0:(y>0?T:u)(y)}},function(U,M){var u={}.toString;U.exports=function(T){return u.call(T).slice(8,-1)}},function(U,M){U.exports=function(u){if("function"!=typeof u)throw TypeError(u+" is not a function!");return u}},function(U,M,u){var T=u(26);U.exports=function(y,S,m){if(T(y),void 0===S)return y;switch(m){case 1:return function(_){return y.call(S,_)};case 2:return function(_,f){return y.call(S,_,f)};case 3:return function(_,f,p){return y.call(S,_,f,p)}}return function(){return y.apply(S,arguments)}}},function(U,M){U.exports=function(u){if(null==u)throw TypeError("Can't call method on  "+u);return u}},function(U,M,u){var T=u(35)("meta"),y=u(4),S=u(16),m=u(10).f,_=0,f=Object.isExtensible||function(){return!0},p=!u(3)(function(){return f(Object.preventExtensions({}))}),d=function(C){m(C,T,{value:{i:"O"+ ++_,w:{}}})},b=U.exports={KEY:T,NEED:!1,fastKey:function(C,h){if(!y(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!S(C,T)){if(!f(C))return"F";if(!h)return"E";d(C)}return C[T].i},getWeak:function(C,h){if(!S(C,T)){if(!f(C))return!0;if(!h)return!1;d(C)}return C[T].w},onFreeze:function(C){return p&&b.NEED&&f(C)&&!S(C,T)&&d(C),C}}},function(U,M,u){var T=u(4);U.exports=function(y,S){if(!T(y))return y;var m,_;if(S&&"function"==typeof(m=y.toString)&&!T(_=m.call(y))||"function"==typeof(m=y.valueOf)&&!T(_=m.call(y))||!S&&"function"==typeof(m=y.toString)&&!T(_=m.call(y)))return _;throw TypeError("Can't convert object to primitive value")}},function(U,M,u){var T=u(16),y=u(14),S=u(93)("IE_PROTO"),m=Object.prototype;U.exports=Object.getPrototypeOf||function(_){return _=y(_),T(_,S)?_[S]:"function"==typeof _.constructor&&_ instanceof _.constructor?_.constructor.prototype:_ instanceof Object?m:null}},function(U,M,u){var T=u(146),y=u(92).concat("length","prototype");M.f=Object.getOwnPropertyNames||function(S){return T(S,y)}},function(U,M,u){var T=u(5),y=u(145),S=u(92),m=u(93)("IE_PROTO"),_=function(){},f=function(){var p,d=u(96)("iframe"),b=S.length;for(d.style.display="none",u(90).appendChild(d),d.src="javascript:",(p=d.contentWindow.document).open(),p.write("<script>document.F=Object<\/script>"),p.close(),f=p.F;b--;)delete f.prototype[S[b]];return f()};U.exports=Object.create||function(p,d){var b;return null!==p?(_.prototype=T(p),b=new _,_.prototype=null,b[m]=p):b=f(),void 0===d?b:y(b,d)}},function(U,M,u){var T=u(24),y=Math.max,S=Math.min;U.exports=function(m,_){return(m=T(m))<0?y(m+_,0):S(m,_)}},function(U,M){var u=0,T=Math.random();U.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++u+T).toString(36))}},function(U,M){U.exports=function(u,T){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:T}}},function(U,M){var u=U.exports={version:"2.5.4"};"number"==typeof __e&&(__e=u)},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LogicOperator=M.MatchExpression=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(8);function S(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var m=function(){function f(p,d,b){S(this,f),this._varName=p,this._condition=d,this._value=b,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return T(f,[{key:"and",value:function(p,d,b){return this._next=f.chainedMatchExpression(p,d,b,_.AND,this),this._next}},{key:"or",value:function(p,d,b){return this._next=f.chainedMatchExpression(p,d,b,_.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var p=this;null!=p._parent;)p=p._parent;return p}},{key:"toString",value:function(){for(var p=this.rewind(),d=p.asString();p.hasNext();)d+=(p=p.next).asString();return d}},{key:"asString",value:function(){var p="";return null!=this._logicOp&&(p+=" "+this._logicOp.id+" "),p+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var p=this.rewind(),d=new y.SFSArray;for(d.addSFSArray(p.expressionAsSFSArray());p.hasNext();)d.addSFSArray((p=p.next).expressionAsSFSArray());return d}},{key:"expressionAsSFSArray",value:function(){var p=new y.SFSArray;return null!=this._logicOp?p.addUtfString(this._logicOp.id):p.addNull(),p.addUtfString(this._varName),p.addByte(this._condition.type),p.addUtfString(this._condition.symbol),0===this._condition.type?p.addBool(this._value):1===this._condition.type?p.addDouble(this._value):p.addUtfString(this._value),p}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(p,d,b,C,h){var v=new f(p,d,b);return v._logicOp=C,v._parent=h,v}}]),f}(),_=function(){function f(p){S(this,f),this._id=p,Object.freeze(this)}return T(f,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new f("AND")}},{key:"OR",get:function(){return new f("OR")}}]),f}();M.MatchExpression=m,M.LogicOperator=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=function(){function _(){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,_),this._listenersByEvent={}}return T(_,[{key:"addEventListener",value:function(f,p,d){this._listenersByEvent[f]||(this._listenersByEvent[f]=[]),this._listenersByEvent[f].push({callback:p,scope:d})}},{key:"removeEventListener",value:function(f,p){var d=this._listenersByEvent[f];if(d)for(var b=0;b<d.length;b++)if(d[b].callback===p){d.splice(b,1);break}}},{key:"dispatchEvent",value:function(f,p){var d=this._listenersByEvent[f];if(d){var b=!0,C=!1,h=void 0;try{for(var v,O=d[Symbol.iterator]();!(b=(v=O.next()).done);b=!0){var x=v.value;x.callback.call(x.scope,p)}}catch(k){C=!0,h=k}finally{try{!b&&O.return&&O.return()}finally{if(C)throw h}}}}}]),_}(),S=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),m=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});M.EventDispatcher=y,M.SFSEvent=S,M.SFSBuddyEvent=m},function(U,M,u){var T=u(4);U.exports=function(y,S){if(!T(y)||y._t!==S)throw TypeError("Incompatible receiver, "+S+" required!");return y}},function(U,M,u){var T=u(15);U.exports=function(y,S,m){for(var _ in S)T(y,_,S[_],m);return y}},function(U,M){U.exports=function(u,T,y,S){if(!(u instanceof T)||void 0!==S&&S in u)throw TypeError(y+": incorrect invocation!");return u}},function(U,M,u){"use strict";var T=u(6),y=u(10),S=u(11),m=u(7)("species");U.exports=function(_){var f=T[_];S&&f&&!f[m]&&y.f(f,m,{configurable:!0,get:function(){return this}})}},function(U,M){U.exports=!1},function(U,M,u){var T=u(10).f,y=u(16),S=u(7)("toStringTag");U.exports=function(m,_,f){m&&!y(m=f?m:m.prototype,S)&&T(m,S,{configurable:!0,value:_})}},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSBuddyVariable=M.ReservedBuddyVariables=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(48),S=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p,d,b));return Object.freeze(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseVariable),T(f,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),T(f,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===f.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(p){return new f(p.get(0),p.get(2),p.get(1))}}]),f}();M.ReservedBuddyVariables=S,M.SFSBuddyVariable=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.UserPrivileges=M.SFSUser=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(59),S=u(1),m=function(){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,f),this._id=p,this._name=d,this._isItMe=b,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return T(f,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(p){return p.containsUser(this)}},{key:"getPlayerId",value:function(p){var d=this._playerIdByRoomId.get(p.id);return null!=d?d:0}},{key:"isPlayerInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)>0}},{key:"isSpectatorInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)<0}},{key:"getVariable",value:function(p){return this._variables.get(p)}},{key:"containsVariable",value:function(p){return this._variables.has(p)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(p,d){this._playerIdByRoomId.set(d.id,p)}},{key:"_removePlayerId",value:function(p){this._playerIdByRoomId.delete(p.id)}},{key:"_setVariables",value:function(p){var d=!0,b=!1,C=void 0;try{for(var h,v=p[Symbol.iterator]();!(d=(h=v.next()).done);d=!0)this._setVariable(h.value)}catch(x){b=!0,C=x}finally{try{!d&&v.return&&v.return()}finally{if(b)throw C}}}},{key:"_setVariable",value:function(p){p.isNull?this._variables.delete(p.name):this._variables.set(p.name,p)}},{key:"_setUserManager",value:function(p){if(null!=this._userManager)throw new S.SFSError("User Manager already assigned to user "+this.toString());this._userManager=p}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===_.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===_.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===_.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===_.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=new f(p.get(0),p.get(1));b._privilegeId=p.get(2),null!=d&&b._setPlayerId(p.get(3),d);var C=p.get(4);if(null!=C)for(var h=0;h<C.size();h++)b._setVariable(y.SFSUserVariable.fromSFSArray(C.get(h)));return b}}]),f}(),_=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});M.SFSUser=m,M.UserPrivileges=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BaseVariable=M.VariableType=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},y=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),S=u(8),m=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(f){return["null","boolean","int","double","string","SFSObject","SFSArray"][f]}}),_=function(){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=p,this._value=d,this._type=b>-1?b:this._evalType()}return y(f,[{key:"toSFSArray",value:function(){var p=new S.SFSArray;return p.addUtfString(this.name),p.addByte(this._type),this._populateArrayWithValue(p),p}},{key:"_populateArrayWithValue",value:function(p){switch(this._type){case m.NULL:p.addNull();break;case m.BOOLEAN:p.addBool(this.value);break;case m.INT:p.addInt(this.value);break;case m.DOUBLE:p.addDouble(this.value);break;case m.STRING:p.addUtfString(this.value);break;case m.SFSOBJECT:p.addSFSObject(this.value);break;case m.SFSARRAY:p.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return m.NULL;var p=T(this._value);if("boolean"===p)return m.BOOLEAN;if("number"===p){var d=this._value;return d===+d&&d===(0|d)?m.INT:m.DOUBLE}return"string"===p?m.STRING:"object"===p?this._value instanceof S.SFSArray?m.SFSARRAY:m.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return m.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===m.NULL}}]),f}();M.VariableType=m,M.BaseVariable=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSRoomVariable=M.ReservedRoomVariables=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(48),S=Object.freeze({RV_GAME_STARTED:"$GS"}),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p,d,b));return C.isPrivate=!1,C.isPersistent=!1,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseVariable),T(f,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var p=function d(b,C,h){null===b&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,C);if(void 0===v){var O=Object.getPrototypeOf(b);return null===O?void 0:d(O,C,h)}if("value"in v)return v.value;var x=v.get;return void 0!==x?x.call(h):void 0}(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"toSFSArray",this).call(this);return p.addBool(this.isPrivate),p.addBool(this.isPersistent),p}}],[{key:"fromSFSArray",value:function(p){var d=new f(p.get(0),p.get(2),p.get(1));return d.isPrivate=p.get(3),d.isPersistent=p.get(4),d}}]),f}();M.ReservedRoomVariables=S,M.SFSRoomVariable=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LoggerEvent=M.Logger=M.LogLevel=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=u(39),S=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(d){return d===this.DEBUG?"DEBUG":d===this.INFO?"INFO":d===this.WARN?"WARN":d===this.ERROR?"ERROR":void 0}}),m=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),_=Symbol(),f=Symbol(),p=function(d){function b(C){!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(C!==f)throw"Logger is a singleton class; you can't instantiate it";return h._enableConsoleOutput=void 0!==console,h._enableEventDispatching=!1,h._level=S.INFO,h._useBasicLog=!0,void 0!==console&&(h._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),h}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.EventDispatcher),T(b,[{key:"log",value:function(C){for(var h=this,v=arguments.length,O=Array(v>1?v-1:0),x=1;x<v;x++)O[x-1]=arguments[x];if(this.isValidLevel(C)&&C>=this._level){if(this._enableConsoleOutput){var k=function(G,H){h._useBasicLog&&(H=function(L){console.log(L)}),H("[ SFS2X | "+G+" ] "+O.join(" "))};switch(C){case S.DEBUG:k("DEBUG",function(G){console.debug(G)});break;case S.INFO:k("INFO",function(G){console.info(G)});break;case S.WARN:k("WARN",function(G){console.warn(G)});break;case S.ERROR:k("ERROR",function(G){console.error(G)})}}this._enableEventDispatching&&this.dispatchEvent(S.toString(C).toLowerCase(),{message:O.join(" ")})}}},{key:"debug",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.DEBUG,h)}},{key:"info",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.INFO,h)}},{key:"warn",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.WARN,h)}},{key:"error",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.ERROR,h)}},{key:"isValidLevel",value:function(C){if(!Number.isInteger(C)||C<S.DEBUG||C>S.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(C){this.isValidLevel(C)&&(this._level=C)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(C){void 0!==console&&(this._enableConsoleOutput=C)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(C){this._enableEventDispatching=C},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[_]||(this[_]=new b(f)),Object.seal(this[_])}}]),b}();M.LogLevel=S,M.Logger=p,M.LoggerEvent=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(m){switch(m){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),S=function(){function m(){!function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m)}return T(m,null,[{key:"prettyPrintByteArray",value:function(_){return null==_?"Null":_.length<32?_.toString():"Byte["+_.length+"]"}},{key:"prettyPrintDump",value:function(_){for(var f="",p=0,d=0;d<_.length;d++){var b=_.charAt(d);if(b==this.TOKEN_INDENT_OPEN)p++,f+=this.NEW_LINE+this.getFormatTabs(p);else if(b==this.TOKEN_INDENT_CLOSE){if(--p<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";f+=this.NEW_LINE+this.getFormatTabs(p)}else f+=b==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(p):b}if(0!=p)throw"DumpFormatter: the indentPos is not === 0 ("+p+"). TOKENS ARE NOT BALANCED!";return f}},{key:"getFormatTabs",value:function(_){return this.strFill(this.TAB,_)}},{key:"strFill",value:function(_,f){for(var p="",d=0;d<f;d++)p+=_;return p}},{key:"hexDump",value:function(_){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===f&&(f=this.HEX_BYTES_PER_LINE);var p="Binary size: "+_.byteLength+this.NEW_LINE,d="",b="",C=0,h=0,v=null;do{var O=(v=_[C]).toString(16).toUpperCase();1===O.length&&(O="0"+O),d+=O+" ",b+=v>=33&&v<=126?String.fromCharCode(v):this.DOT,++h===f&&(h=0,p+=d+this.TAB+b+this.NEW_LINE,d="",b="")}while(++C<_.length);if(0!==h){for(var x=f-h;x>0;--x)d+="   ",b+=" ";p+=d+this.TAB+b+this.NEW_LINE}return p}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),m}();M.ClientDisconnectionReason=y,M.DumpFormatter=S},function(U,M,u){var T=u(7)("unscopables"),y=Array.prototype;null==y[T]&&u(18)(y,T,{}),U.exports=function(S){y[T][S]=!0}},function(U,M){U.exports={}},function(U,M,u){var T=u(25);U.exports=Object("z").propertyIsEnumerable(0)?Object:function(y){return"String"==T(y)?y.split(""):Object(y)}},function(U,M,u){var T=u(146),y=u(92);U.exports=Object.keys||function(S){return T(S,y)}},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MessageRecipientMode=M.BanMode=M.MapLimits=M.RoomExtension=M.RoomEvents=M.RoomPermissions=M.MMORoomSettings=M.SFSGameSettings=M.RoomSettings=void 0;var T=function(){function h(v,O){for(var x=0;x<O.length;x++){var k=O[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,O,x){return O&&h(v.prototype,O),x&&h(v,x),v}}(),y=u(1);function S(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}function m(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}function _(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}var f=function h(v){_(this,h),this.name=v,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},p=function(h){function v(O){_(this,v);var x=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,O));return x.isPublic=!0,x.minPlayersToStartGame=2,x.invitedPlayers=null,x.searchableRooms=null,x.invitationExpiryTime=15,x.leaveLastJoinedRoom=!0,x.notifyGameStarted=!1,x.playerMatchExpression=null,x.spectatorMatchExpression=null,x.invitationParams=null,Object.seal(x),x}return m(v,f),v}(),d=function(h){function v(O,x){_(this,v);var k=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,O));return k.defaultAOI=x,k.mapLimits=null,k.userMaxLimboSeconds=50,k.proximityListUpdateMillis=250,k.sendAOIEntryPoint=!0,Object.seal(k),k}return m(v,f),v}(),b=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),C=function(){function h(v,O){if(_(this,h),v<h.TO_USER||v>h.TO_ZONE)throw new y.SFSError("Illegal recipient mode: "+v);this._mode=v,this._target=O,Object.freeze(this)}return T(h,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),T(h,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),h}();M.RoomSettings=f,M.SFSGameSettings=p,M.MMORoomSettings=d,M.RoomPermissions=function h(){_(this,h),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},M.RoomEvents=function h(){_(this,h),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},M.RoomExtension=function h(v,O){_(this,h),this.id=v,this.className=O,this.propertiesFile="",Object.seal(this)},M.MapLimits=function h(v,O){if(_(this,h),null==v||null==O)throw new y.SFSError("Map limits arguments must be both non null!");this.lowerLimit=v,this.higherLimit=O,Object.seal(this)},M.BanMode=b,M.MessageRecipientMode=C},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CreateRoomRequest=void 0;var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}(),y=u(2),S=u(1),m=u(56),_=u(8),f=u(9),p=u(49),d=function(b){function C(h){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,C);var x=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,y.Requests.CreateRoom));return x._settings=h,x._autoJoin=v,x._roomToLeave=O,Object.seal(x),x}return function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}(C,y.BaseRequest),T(C,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),T(C,[{key:"validate",value:function(h){if(!(this._settings instanceof m.RoomSettings))throw new S.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var v=[];if(null!=this._settings.name&&0!==this._settings.name.length||v.push("Missing Room name"),this._settings.maxUsers<=0&&v.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&v.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&v.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(O){return O instanceof p.SFSRoomVariable})||v.push("Each Room Variable must be an instance of SFSRoomVariable class"):v.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof m.RoomPermissions||v.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof m.RoomEvents||v.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof m.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||v.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||v.push("Missing Room Extension id")):v.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof m.MMORoomSettings&&(null==this._settings.defaultAOI&&v.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof _.Vec3D||v.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof m.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||v.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof _.Vec3D&&this._settings.mapLimits.higherLimit instanceof _.Vec3D||v.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):v.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof f.SFSRoom||v.push("Room to leave must be an instance of SFSRoom class"),v.length>0)throw new S.SFSValidationError("CreateRoomRequest Error",v)}},{key:"execute",value:function(h){if(this._reqObj.putUtfString(C.KEY_NAME,this._settings.name),this._reqObj.putUtfString(C.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(C.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(C.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(C.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(C.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(C.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(C.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var v=new _.SFSArray,O=!0,x=!1,k=void 0;try{for(var G,H=this._settings.variables[Symbol.iterator]();!(O=(G=H.next()).done);O=!0)v.addSFSArray(G.value.toSFSArray())}catch(V){x=!0,k=V}finally{try{!O&&H.return&&H.return()}finally{if(x)throw k}}this._reqObj.putSFSArray(C.KEY_ROOMVARS,v)}if(null!=this._settings.permissions){var j=[];j.push(this._settings.permissions.allowNameChange),j.push(this._settings.permissions.allowPasswordStateChange),j.push(this._settings.permissions.allowPublicMessages),j.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(C.KEY_PERMISSIONS,j)}if(null!=this._settings.events){var F=[];F.push(this._settings.events.allowUserEnter),F.push(this._settings.events.allowUserExit),F.push(this._settings.events.allowUserCountChange),F.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(C.KEY_EVENTS,F)}null!=this._settings.extension&&(this._reqObj.putUtfString(C.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(C.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(C.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof m.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(C.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(C.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(C.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(C.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(C.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),C}();M.CreateRoomRequest=d},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BuddyOnlineState=M.SFSBuddy=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(46),S=function(){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,_),this._id=f,this._name=p,this._isBlocked=d,this._isTemp=b,this._variables=new Map,Object.seal(this)}return T(_,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(f){return this._variables.get(f)}},{key:"containsVariable",value:function(f){return this._variables.has(f)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(f){return f.name.charAt(0)===y.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(f){return f.name.charAt(0)!==y.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(f){var p=!0,d=!1,b=void 0;try{for(var C,h=f[Symbol.iterator]();!(p=(C=h.next()).done);p=!0)this._setVariable(C.value)}catch(O){d=!0,b=O}finally{try{!p&&h.return&&h.return()}finally{if(d)throw b}}}},{key:"_setVariable",value:function(f){f.isNull?this._variables.delete(f.name):this._variables.set(f.name,f)}},{key:"_removeVariable",value:function(f){this._variables.delete(f)}},{key:"_clearVolatileVariables",value:function(){var f=!0,p=!1,d=void 0;try{for(var b,C=this.getOnlineVariables()[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._removeVariable(b.value.name)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var f=!0;return this.containsVariable(y.ReservedBuddyVariables.BV_ONLINE)&&(f=this.getVariable(y.ReservedBuddyVariables.BV_ONLINE).value),f&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(y.ReservedBuddyVariables.BV_STATE)?this.getVariable(y.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(y.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(y.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(f){var p=new _(f.get(0),f.get(1),f.get(2),f.size()>3&&f.get(4)),d=f.get(3);if(null!=d)for(var b=0;b<d.size();b++)p._setVariable(y.SFSBuddyVariable.fromSFSArray(d.get(b)));return p}}]),_}(),m=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});M.SFSBuddy=S,M.BuddyOnlineState=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSUserVariable=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(48),S=function(m){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,f,p,d));return b.isPrivate=!1,Object.seal(b),b}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseVariable),T(_,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var f=function p(d,b,C){null===d&&(d=Function.prototype);var h=Object.getOwnPropertyDescriptor(d,b);if(void 0===h){var v=Object.getPrototypeOf(d);return null===v?void 0:p(v,b,C)}if("value"in h)return h.value;var O=h.get;return void 0!==O?O.call(C):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"toSFSArray",this).call(this);return f.addBool(this.isPrivate),f}}],[{key:"fromSFSArray",value:function(f){var p=new _(f.get(0),f.get(2),f.get(1));return f.size()>3&&(p.isPrivate=f.get(3)),p}}]),_}();M.SFSUserVariable=S},function(U,M,u){for(var T,y=u(6),S=u(18),m=u(35),_=m("typed_array"),f=m("view"),p=!(!y.ArrayBuffer||!y.DataView),d=p,b=0,C="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");b<9;)(T=y[C[b++]])?(S(T.prototype,_,!0),S(T.prototype,f,!0)):d=!1;U.exports={ABV:p,CONSTR:d,TYPED:_,VIEW:f}},function(U,M,u){"use strict";var T=u(6),y=u(0),S=u(15),m=u(41),_=u(29),f=u(62),p=u(42),d=u(4),b=u(3),C=u(64),h=u(45),v=u(87);U.exports=function(O,x,k,G,H,L){var j=T[O],F=j,V=H?"set":"add",Q=F&&F.prototype,W={},ee=function(X){var se=Q[X];S(Q,X,"delete"==X||"has"==X?function(Z){return!(L&&!d(Z))&&se.call(this,0===Z?0:Z)}:"get"==X?function(Z){return L&&!d(Z)?void 0:se.call(this,0===Z?0:Z)}:"add"==X?function(Z){return se.call(this,0===Z?0:Z),this}:function(Z,be){return se.call(this,0===Z?0:Z,be),this})};if("function"==typeof F&&(L||Q.forEach&&!b(function(){(new F).entries().next()}))){var J=new F,ue=J[V](L?{}:-0,1)!=J,Ce=b(function(){J.has(1)}),_e=C(function(X){new F(X)}),Ee=!L&&b(function(){for(var X=new F,se=5;se--;)X[V](se,se);return!X.has(-0)});_e||((F=x(function(X,se){p(X,F,O);var Z=v(new j,X,F);return null!=se&&f(se,H,Z[V],Z),Z})).prototype=Q,Q.constructor=F),(Ce||Ee)&&(ee("delete"),ee("has"),H&&ee("get")),(Ee||ue)&&ee(V),L&&Q.clear&&delete Q.clear}else F=G.getConstructor(x,O,H,V),m(F.prototype,k),_.NEED=!0;return h(F,O),W[O]=F,y(y.G+y.W+y.F*(F!=j),W),L||G.setStrong(F,O,H),F}},function(U,M,u){var T=u(27),y=u(132),S=u(80),m=u(5),_=u(12),f=u(79),p={},d={};(M=U.exports=function(b,C,h,v,O){var x,k,G,H,L=O?function(){return b}:f(b),j=T(h,v,C?2:1),F=0;if("function"!=typeof L)throw TypeError(b+" is not iterable!");if(S(L)){for(x=_(b.length);x>F;F++)if((H=C?j(m(k=b[F])[0],k[1]):j(b[F]))===p||H===d)return H}else for(G=L.call(b);!(k=G.next()).done;)if((H=y(G,j,k.value,C))===p||H===d)return H}).BREAK=p,M.RETURN=d},function(U,M,u){"use strict";var T=u(18),y=u(15),S=u(3),m=u(28),_=u(7);U.exports=function(f,p,d){var b=_(f),C=d(m,b,""[f]),h=C[0],v=C[1];S(function(){var O={};return O[b]=function(){return 7},7!=""[f](O)})&&(y(String.prototype,f,h),T(RegExp.prototype,b,2==p?function(O,x){return v.call(O,this,x)}:function(O){return v.call(O,this)}))}},function(U,M,u){var T=u(7)("iterator"),y=!1;try{var S=[7][T]();S.return=function(){y=!0},Array.from(S,function(){throw 2})}catch(m){}U.exports=function(m,_){if(!_&&!y)return!1;var f=!1;try{var p=[7],d=p[T]();d.next=function(){return{done:f=!0}},p[T]=function(){return d},m(p)}catch(b){}return f}},function(U,M,u){var T=u(0),y=u(28),S=u(3),m=u(88),_="["+m+"]",f=RegExp("^"+_+_+"*"),p=RegExp(_+_+"*$"),d=function(C,h,v){var O={},x=S(function(){return!!m[C]()||"\u200b\x85"!="\u200b\x85"[C]()}),k=O[C]=x?h(b):m[C];v&&(O[v]=k),T(T.P+T.F*x,"String",O)},b=d.trim=function(C,h){return C=String(y(C)),1&h&&(C=C.replace(f,"")),2&h&&(C=C.replace(p,"")),C};U.exports=d},function(U,M,u){var T=u(25),y=u(7)("toStringTag"),S="Arguments"==T(function(){return arguments}());U.exports=function(m){var _,f,p;return void 0===m?"Undefined":null===m?"Null":"string"==typeof(f=function(d,b){try{return d[b]}catch(C){}}(_=Object(m),y))?f:S?T(_):"Object"==(p=T(_))&&"function"==typeof _.callee?"Arguments":p}},function(U,M){M.f={}.propertyIsEnumerable},function(U,M){M.f=Object.getOwnPropertySymbols},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InviteUsersRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=u(2),S=u(1),m=u(47),_=u(58),f=u(8),p=function(d){function b(C,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,b);var O=function(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?x:k}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.InviteUsers));return O._invitedUsers=C,O._secondsForAnswer=h,O._params=v,Object.seal(O),O}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),T(b,[{key:"validate",value:function(C){var h=[];if(null==this._invitedUsers?h.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&h.push("No invited users"),this._invitedUsers.length>b.MAX_INVITATIONS_FROM_CLIENT_SIDE&&h.push("Too many invitations; "+b.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(v){return v instanceof m.SFSUser||v instanceof _.SFSBuddy})||h.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):h.push("Invited users must be passed in an array"),(this._secondsForAnswer<b.MIN_EXPIRY_TIME||this._secondsForAnswer>b.MAX_EXPIRY_TIME)&&h.push("secondsForAnswer value is out of range (min: "+b.MIN_EXPIRY_TIME+"; max: "+b.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof f.SFSObject||h.push("Custom invitation parameters must be set in a SFSObject class instance"),h.length>0)throw new S.SFSValidationError("InviteUsersRequest Error",h)}},{key:"execute",value:function(C){var h=[],v=!0,O=!1,x=void 0;try{for(var k,G=this._invitedUsers[Symbol.iterator]();!(v=(k=G.next()).done);v=!0){var H=k.value;if(H instanceof m.SFSUser||H instanceof _.SFSBuddy){if(H===C.mySelf)continue;h.push(H.id)}}}catch(L){O=!0,x=L}finally{try{!v&&G.return&&G.return()}finally{if(O)throw x}}this._reqObj.putIntArray(b.KEY_INVITED_USERS,h),this._reqObj.putShort(b.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(b.KEY_PARAMS,this._params)}}]),b}();M.InviteUsersRequest=p},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AdminMessageRequest=M.ModeratorMessageRequest=M.ObjectMessageRequest=M.PrivateMessageRequest=M.PublicMessageRequest=M.GenericMessageRequest=M.GenericMessageType=void 0;var T=function(){function L(j,F){for(var V=0;V<F.length;V++){var Q=F[V];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(j,Q.key,Q)}}return function(j,F,V){return F&&L(j.prototype,F),V&&L(j,V),j}}(),y=u(2),S=u(1),m=u(56),_=u(8),f=u(9),p=u(47);function d(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}function b(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?L:j}function C(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}var h=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),v=function(L){function j(){d(this,j);var F=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,y.Requests.GenericMessage));return F._type=-1,F._room=null,F._user=null,F._message=null,F._params=null,F._recipient=null,F._sendMode=-1,Object.seal(F),F}return C(j,y.BaseRequest),T(j,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),T(j,[{key:"validate",value:function(F){if(this._type<0)throw new S.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var V=[];switch(this._type){case h.PUBLIC_MSG:this._validatePublicMessage(F,V);break;case h.PRIVATE_MSG:this._validatePrivateMessage(F,V);break;case h.OBJECT_MSG:this._validateObjectMessage(F,V);break;case h.BUDDY_MSG:this._validateBuddyMessage(F,V);break;default:this._validateSuperUserMessage(F,V)}if(V.length>0)throw new S.SFSValidationError("GenericMessageRequest Error",V)}},{key:"execute",value:function(F){switch(this._reqObj.putByte(j.KEY_MESSAGE_TYPE,this._type),this._type){case h.PUBLIC_MSG:this._executePublicMessage(F);break;case h.PRIVATE_MSG:this._executePrivateMessage(F);break;case h.OBJECT_MSG:this._executeObjectMessage(F);break;case h.BUDDY_MSG:this._executeBuddyMessage(F);break;default:this._executeSuperUserMessage(F)}}},{key:"_validatePublicMessage",value:function(F,V){null!=this._message&&0!==this._message.length||V.push("Public message is empty"),null==this._room&&(this._room=F.lastJoinedRoom),null==this._room?V.push("You must be joined in a Room to send a message"):this._room instanceof f.SFSRoom?F.getJoinedRooms().indexOf(this._room)<0&&V.push("You are not joined in the target Room: "+this._room):V.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(F,V){null!=this._message&&0!==this._message.length||V.push("Private message is empty"),this._recipient<0&&V.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(F,V){null==this._params?V.push("Object message is null"):this._params instanceof _.SFSObject||V.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=F.lastJoinedRoom),null==this._room?V.push("You must be joined in a Room to send a message"):this._room instanceof f.SFSRoom?F.getJoinedRooms().indexOf(this._room)<0&&V.push("You are not joined in the target Room: "+this._room):V.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(Q){return Q instanceof p.SFSUser})||V.push("Each message recipient must be an instance of SFSUser class"):V.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&V.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(F,V){F.buddyManager.isInited||V.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===F.buddyManager.myOnlineState&&V.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||V.push("Buddy message is empty"),this._recipient<0&&V.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(F,V){switch(null!=this._message&&0!==this._message.length||V.push("Moderator message is empty"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case m.MessageRecipientMode.TO_USER:this._recipient instanceof p.SFSUser||V.push("Recipient must be an instance of SFSUser class");break;case m.MessageRecipientMode.TO_ROOM:this._recipient instanceof f.SFSRoom||V.push("Recipient must be an instance of SFSRoom class");break;case m.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&V.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(F){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(j.KEY_USER_ID,F.mySelf.id),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(F){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(F){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(F){switch(this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(j.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case m.MessageRecipientMode.TO_USER:case m.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient.id);break;case m.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(j.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(F){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params);var V=new Set;if(null!=this._recipient){var Q=!0,W=!1,ee=void 0;try{for(var J,ue=this._recipient[Symbol.iterator]();!(Q=(J=ue.next()).done);Q=!0)V.add(J.value.id)}catch(_e){W=!0,ee=_e}finally{try{!Q&&ue.return&&ue.return()}finally{if(W)throw ee}}}V.size>0&&this._reqObj.putIntArray(j.KEY_RECIPIENT,Array.from(V))}}]),j}(),O=function(L){function j(F){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.OBJECT_MSG,W._params=F,W._room=V,W._recipient=Q,Object.seal(W),W}return C(j,v),j}(),x=function(L){function j(F){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.PUBLIC_MSG,W._message=F,W._room=Q,W._params=V,Object.seal(W),W}return C(j,v),j}(),k=function(L){function j(F,V){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.PRIVATE_MSG,W._message=F,W._recipient=V,W._params=Q,Object.seal(W),W}return C(j,v),j}(),G=function(L){function j(F,V){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==V)throw new S.SFSError("Recipient mode cannot be null");if(!(V instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return W._type=h.MODERATOR_MSG,W._message=F,W._params=Q,W._recipient=V.target,W._sendMode=V.mode,Object.seal(W),W}return C(j,v),j}(),H=function(L){function j(F,V){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==V)throw new S.SFSError("Recipient mode cannot be null");if(!(V instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must an instance of MessageRecipientMode class");return W._type=h.ADMING_MSG,W._message=F,W._params=Q,W._recipient=V.target,W._sendMode=V.mode,Object.seal(W),W}return C(j,v),j}();M.GenericMessageType=h,M.GenericMessageRequest=v,M.PublicMessageRequest=x,M.PrivateMessageRequest=k,M.ObjectMessageRequest=O,M.ModeratorMessageRequest=G,M.AdminMessageRequest=H},function(U,M,u){"use strict";u.r(M),u.d(M,"MD5",function(){return T});var T=function(){this.hexcase=0,this.b64pad=""};T.prototype={},T.prototype.hex_md5=function(y){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(y)))},T.prototype.b64_md5=function(y){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(y)))},T.prototype.any_md5=function(y,S){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(y)),S)},T.prototype.hex_hmac_md5=function(y,S){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)))},T.prototype.b64_hmac_md5=function(y,S){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)))},T.prototype.any_hmac_md5=function(y,S,m){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)),m)},T.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},T.prototype.rstr_md5=function(y){return this.binl2rstr(this.binl_md5(this.rstr2binl(y),8*y.length))},T.prototype.rstr_hmac_md5=function(y,S){var m=this.rstr2binl(y);m.length>16&&(m=this.binl_md5(m,8*y.length));for(var _=Array(16),f=Array(16),p=0;p<16;p++)_[p]=909522486^m[p],f[p]=1549556828^m[p];var d=this.binl_md5(_.concat(this.rstr2binl(S)),512+8*S.length);return this.binl2rstr(this.binl_md5(f.concat(d),640))},T.prototype.rstr2hex=function(y){for(var S,m=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",_="",f=0;f<y.length;f++)S=y.charCodeAt(f),_+=m.charAt(S>>>4&15)+m.charAt(15&S);return _},T.prototype.rstr2b64=function(y){for(var S="",m=y.length,_=0;_<m;_+=3)for(var f=y.charCodeAt(_)<<16|(_+1<m?y.charCodeAt(_+1)<<8:0)|(_+2<m?y.charCodeAt(_+2):0),p=0;p<4;p++)S+=8*_+6*p>8*y.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-p)&63);return S},T.prototype.rstr2any=function(y,S){var m,_,f,p,d,b=S.length,C=Array(Math.ceil(y.length/2));for(m=0;m<C.length;m++)C[m]=y.charCodeAt(2*m)<<8|y.charCodeAt(2*m+1);var h=Math.ceil(8*y.length/(Math.log(S.length)/Math.log(2))),v=Array(h);for(_=0;_<h;_++){for(d=Array(),p=0,m=0;m<C.length;m++)p=(p<<16)+C[m],p-=(f=Math.floor(p/b))*b,(d.length>0||f>0)&&(d[d.length]=f);v[_]=p,C=d}var O="";for(m=v.length-1;m>=0;m--)O+=S.charAt(v[m]);return O},T.prototype.str2rstr_utf8=function(y){for(var S,m,_="",f=-1;++f<y.length;)S=y.charCodeAt(f),m=f+1<y.length?y.charCodeAt(f+1):0,55296<=S&&S<=56319&&56320<=m&&m<=57343&&(S=65536+((1023&S)<<10)+(1023&m),f++),S<=127?_+=String.fromCharCode(S):S<=2047?_+=String.fromCharCode(192|S>>>6&31,128|63&S):S<=65535?_+=String.fromCharCode(224|S>>>12&15,128|S>>>6&63,128|63&S):S<=2097151&&(_+=String.fromCharCode(240|S>>>18&7,128|S>>>12&63,128|S>>>6&63,128|63&S));return _},T.prototype.str2rstr_utf16le=function(y){for(var S="",m=0;m<y.length;m++)S+=String.fromCharCode(255&y.charCodeAt(m),y.charCodeAt(m)>>>8&255);return S},T.prototype.str2rstr_utf16be=function(y){for(var S="",m=0;m<y.length;m++)S+=String.fromCharCode(y.charCodeAt(m)>>>8&255,255&y.charCodeAt(m));return S},T.prototype.rstr2binl=function(y){for(var S=Array(y.length>>2),m=0;m<S.length;m++)S[m]=0;for(m=0;m<8*y.length;m+=8)S[m>>5]|=(255&y.charCodeAt(m/8))<<m%32;return S},T.prototype.binl2rstr=function(y){for(var S="",m=0;m<32*y.length;m+=8)S+=String.fromCharCode(y[m>>5]>>>m%32&255);return S},T.prototype.binl_md5=function(y,S){y[S>>5]|=128<<S%32,y[14+(S+64>>>9<<4)]=S;for(var m=1732584193,_=-271733879,f=-1732584194,p=271733878,d=0;d<y.length;d+=16){var b=m,C=_,h=f,v=p;m=this.md5_ff(m,_,f,p,y[d+0],7,-680876936),p=this.md5_ff(p,m,_,f,y[d+1],12,-389564586),f=this.md5_ff(f,p,m,_,y[d+2],17,606105819),_=this.md5_ff(_,f,p,m,y[d+3],22,-1044525330),m=this.md5_ff(m,_,f,p,y[d+4],7,-176418897),p=this.md5_ff(p,m,_,f,y[d+5],12,1200080426),f=this.md5_ff(f,p,m,_,y[d+6],17,-1473231341),_=this.md5_ff(_,f,p,m,y[d+7],22,-45705983),m=this.md5_ff(m,_,f,p,y[d+8],7,1770035416),p=this.md5_ff(p,m,_,f,y[d+9],12,-1958414417),f=this.md5_ff(f,p,m,_,y[d+10],17,-42063),_=this.md5_ff(_,f,p,m,y[d+11],22,-1990404162),m=this.md5_ff(m,_,f,p,y[d+12],7,1804603682),p=this.md5_ff(p,m,_,f,y[d+13],12,-40341101),f=this.md5_ff(f,p,m,_,y[d+14],17,-1502002290),_=this.md5_ff(_,f,p,m,y[d+15],22,1236535329),m=this.md5_gg(m,_,f,p,y[d+1],5,-165796510),p=this.md5_gg(p,m,_,f,y[d+6],9,-1069501632),f=this.md5_gg(f,p,m,_,y[d+11],14,643717713),_=this.md5_gg(_,f,p,m,y[d+0],20,-373897302),m=this.md5_gg(m,_,f,p,y[d+5],5,-701558691),p=this.md5_gg(p,m,_,f,y[d+10],9,38016083),f=this.md5_gg(f,p,m,_,y[d+15],14,-660478335),_=this.md5_gg(_,f,p,m,y[d+4],20,-405537848),m=this.md5_gg(m,_,f,p,y[d+9],5,568446438),p=this.md5_gg(p,m,_,f,y[d+14],9,-1019803690),f=this.md5_gg(f,p,m,_,y[d+3],14,-187363961),_=this.md5_gg(_,f,p,m,y[d+8],20,1163531501),m=this.md5_gg(m,_,f,p,y[d+13],5,-1444681467),p=this.md5_gg(p,m,_,f,y[d+2],9,-51403784),f=this.md5_gg(f,p,m,_,y[d+7],14,1735328473),_=this.md5_gg(_,f,p,m,y[d+12],20,-1926607734),m=this.md5_hh(m,_,f,p,y[d+5],4,-378558),p=this.md5_hh(p,m,_,f,y[d+8],11,-2022574463),f=this.md5_hh(f,p,m,_,y[d+11],16,1839030562),_=this.md5_hh(_,f,p,m,y[d+14],23,-35309556),m=this.md5_hh(m,_,f,p,y[d+1],4,-1530992060),p=this.md5_hh(p,m,_,f,y[d+4],11,1272893353),f=this.md5_hh(f,p,m,_,y[d+7],16,-155497632),_=this.md5_hh(_,f,p,m,y[d+10],23,-1094730640),m=this.md5_hh(m,_,f,p,y[d+13],4,681279174),p=this.md5_hh(p,m,_,f,y[d+0],11,-358537222),f=this.md5_hh(f,p,m,_,y[d+3],16,-722521979),_=this.md5_hh(_,f,p,m,y[d+6],23,76029189),m=this.md5_hh(m,_,f,p,y[d+9],4,-640364487),p=this.md5_hh(p,m,_,f,y[d+12],11,-421815835),f=this.md5_hh(f,p,m,_,y[d+15],16,530742520),_=this.md5_hh(_,f,p,m,y[d+2],23,-995338651),m=this.md5_ii(m,_,f,p,y[d+0],6,-198630844),p=this.md5_ii(p,m,_,f,y[d+7],10,1126891415),f=this.md5_ii(f,p,m,_,y[d+14],15,-1416354905),_=this.md5_ii(_,f,p,m,y[d+5],21,-57434055),m=this.md5_ii(m,_,f,p,y[d+12],6,1700485571),p=this.md5_ii(p,m,_,f,y[d+3],10,-1894986606),f=this.md5_ii(f,p,m,_,y[d+10],15,-1051523),_=this.md5_ii(_,f,p,m,y[d+1],21,-2054922799),m=this.md5_ii(m,_,f,p,y[d+8],6,1873313359),p=this.md5_ii(p,m,_,f,y[d+15],10,-30611744),f=this.md5_ii(f,p,m,_,y[d+6],15,-1560198380),_=this.md5_ii(_,f,p,m,y[d+13],21,1309151649),m=this.md5_ii(m,_,f,p,y[d+4],6,-145523070),p=this.md5_ii(p,m,_,f,y[d+11],10,-1120210379),f=this.md5_ii(f,p,m,_,y[d+2],15,718787259),_=this.md5_ii(_,f,p,m,y[d+9],21,-343485551),m=this.safe_add(m,b),_=this.safe_add(_,C),f=this.safe_add(f,h),p=this.safe_add(p,v)}return Array(m,_,f,p)},T.prototype.md5_cmn=function(y,S,m,_,f,p){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(S,y),this.safe_add(_,p)),f),m)},T.prototype.md5_ff=function(y,S,m,_,f,p,d){return this.md5_cmn(S&m|~S&_,y,S,f,p,d)},T.prototype.md5_gg=function(y,S,m,_,f,p,d){return this.md5_cmn(S&_|m&~_,y,S,f,p,d)},T.prototype.md5_hh=function(y,S,m,_,f,p,d){return this.md5_cmn(S^m^_,y,S,f,p,d)},T.prototype.md5_ii=function(y,S,m,_,f,p,d){return this.md5_cmn(m^(S|~_),y,S,f,p,d)},T.prototype.safe_add=function(y,S){var m=(65535&y)+(65535&S);return(y>>16)+(S>>16)+(m>>16)<<16|65535&m},T.prototype.bit_rol=function(y,S){return y<<S|y>>>32-S}},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=function(){function m(_,f){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=-1,this._inviter=_,this._invitee=f,this._secondsForAnswer=p,this._params=d,Object.seal(this)}return T(m,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),m}(),S=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});M.SFSInvitation=y,M.InvitationReply=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMOItemVariable=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(48),S=function(m){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,f,p,d));return Object.freeze(b),b}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseVariable),T(_,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(f){return new _(f.get(0),f.get(2),f.get(1))}}]),_}();M.MMOItemVariable=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=function(){function m(){throw function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return T(m,null,[{key:"setErrorMessage",value:function(_,f){this._errorsByCode[_]=f}},{key:"getErrorMessage",value:function(_,f){return this.stringFormat(this._errorsByCode[_],f)}},{key:"stringFormat",value:function(_,f){if(null==_)return"";if(null!=f)for(var p=0;p<f.length;p++)_=_.replace("{"+p+"}",f[p]);return _}},{key:"_errorsByCode",get:function(){return S}}]),m}();M.SFSErrorCodes=y;var S=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(U,M,u){"use strict";var T=u(6),y=u(11),S=u(44),m=u(60),_=u(18),f=u(41),p=u(3),d=u(42),b=u(24),C=u(12),h=u(121),v=u(32).f,O=u(10).f,x=u(78),k=u(45),G="prototype",H="Wrong index!",L=T.ArrayBuffer,j=T.DataView,F=T.Math,V=T.RangeError,Q=T.Infinity,W=L,ee=F.abs,J=F.pow,ue=F.floor,Ce=F.log,_e=F.LN2,Ee=y?"_b":"buffer",X=y?"_l":"byteLength",se=y?"_o":"byteOffset";function Z(xe,He,zt){var It,qt,zn,tt=new Array(zt),ft=8*zt-He-1,ve=(1<<ft)-1,ge=ve>>1,we=23===He?J(2,-24)-J(2,-77):0,Re=0,Se=xe<0||0===xe&&1/xe<0?1:0;for((xe=ee(xe))!=xe||xe===Q?(qt=xe!=xe?1:0,It=ve):(It=ue(Ce(xe)/_e),xe*(zn=J(2,-It))<1&&(It--,zn*=2),(xe+=It+ge>=1?we/zn:we*J(2,1-ge))*zn>=2&&(It++,zn/=2),It+ge>=ve?(qt=0,It=ve):It+ge>=1?(qt=(xe*zn-1)*J(2,He),It+=ge):(qt=xe*J(2,ge-1)*J(2,He),It=0));He>=8;tt[Re++]=255&qt,qt/=256,He-=8);for(It=It<<He|qt,ft+=He;ft>0;tt[Re++]=255&It,It/=256,ft-=8);return tt[--Re]|=128*Se,tt}function be(xe,He,zt){var It,qt=8*zt-He-1,zn=(1<<qt)-1,tt=zn>>1,ft=qt-7,ve=zt-1,ge=xe[ve--],we=127&ge;for(ge>>=7;ft>0;we=256*we+xe[ve],ve--,ft-=8);for(It=we&(1<<-ft)-1,we>>=-ft,ft+=He;ft>0;It=256*It+xe[ve],ve--,ft-=8);if(0===we)we=1-tt;else{if(we===zn)return It?NaN:ge?-Q:Q;It+=J(2,He),we-=tt}return(ge?-1:1)*It*J(2,we-He)}function oe(xe){return xe[3]<<24|xe[2]<<16|xe[1]<<8|xe[0]}function le(xe){return[255&xe]}function de(xe){return[255&xe,xe>>8&255]}function Be(xe){return[255&xe,xe>>8&255,xe>>16&255,xe>>24&255]}function Je(xe){return Z(xe,52,8)}function Le(xe){return Z(xe,23,4)}function Mt(xe,He,zt){O(xe[G],He,{get:function(){return this[zt]}})}function qe(xe,He,zt,It){var qt=h(+zt);if(qt+He>xe[X])throw V(H);var tt=qt+xe[se],ft=xe[Ee]._b.slice(tt,tt+He);return It?ft:ft.reverse()}function je(xe,He,zt,It,qt,zn){var tt=h(+zt);if(tt+He>xe[X])throw V(H);for(var ft=xe[Ee]._b,ve=tt+xe[se],ge=It(+qt),we=0;we<He;we++)ft[ve+we]=ge[zn?we:He-we-1]}if(m.ABV){if(!p(function(){L(1)})||!p(function(){new L(-1)})||p(function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name})){for(var ie,fe=(L=function(xe){return d(this,L),new W(h(xe))})[G]=W[G],pe=v(W),Ge=0;pe.length>Ge;)(ie=pe[Ge++])in L||_(L,ie,W[ie]);S||(fe.constructor=L)}var ze=new j(new L(2)),et=j[G].setInt8;ze.setInt8(0,2147483648),ze.setInt8(1,2147483649),!ze.getInt8(0)&&ze.getInt8(1)||f(j[G],{setInt8:function(xe,He){et.call(this,xe,He<<24>>24)},setUint8:function(xe,He){et.call(this,xe,He<<24>>24)}},!0)}else L=function(xe){d(this,L,"ArrayBuffer");var He=h(xe);this._b=x.call(new Array(He),0),this[X]=He},j=function(xe,He,zt){d(this,j,"DataView"),d(xe,L,"DataView");var It=xe[X],qt=b(He);if(qt<0||qt>It)throw V("Wrong offset!");if(qt+(zt=void 0===zt?It-qt:C(zt))>It)throw V("Wrong length!");this[Ee]=xe,this[se]=qt,this[X]=zt},y&&(Mt(L,"byteLength","_l"),Mt(j,"buffer","_b"),Mt(j,"byteLength","_l"),Mt(j,"byteOffset","_o")),f(j[G],{getInt8:function(xe){return qe(this,1,xe)[0]<<24>>24},getUint8:function(xe){return qe(this,1,xe)[0]},getInt16:function(xe){var He=qe(this,2,xe,arguments[1]);return(He[1]<<8|He[0])<<16>>16},getUint16:function(xe){var He=qe(this,2,xe,arguments[1]);return He[1]<<8|He[0]},getInt32:function(xe){return oe(qe(this,4,xe,arguments[1]))},getUint32:function(xe){return oe(qe(this,4,xe,arguments[1]))>>>0},getFloat32:function(xe){return be(qe(this,4,xe,arguments[1]),23,4)},getFloat64:function(xe){return be(qe(this,8,xe,arguments[1]),52,8)},setInt8:function(xe,He){je(this,1,xe,le,He)},setUint8:function(xe,He){je(this,1,xe,le,He)},setInt16:function(xe,He){je(this,2,xe,de,He,arguments[2])},setUint16:function(xe,He){je(this,2,xe,de,He,arguments[2])},setInt32:function(xe,He){je(this,4,xe,Be,He,arguments[2])},setUint32:function(xe,He){je(this,4,xe,Be,He,arguments[2])},setFloat32:function(xe,He){je(this,4,xe,Le,He,arguments[2])},setFloat64:function(xe,He){je(this,8,xe,Je,He,arguments[2])}});k(L,"ArrayBuffer"),k(j,"DataView"),_(j[G],m.VIEW,!0),M.ArrayBuffer=L,M.DataView=j},function(U,M,u){var T=u(5),y=u(26),S=u(7)("species");U.exports=function(m,_){var f,p=T(m).constructor;return void 0===p||null==(f=T(p)[S])?_:y(f)}},function(U,M,u){"use strict";var T=u(5);U.exports=function(){var y=T(this),S="";return y.global&&(S+="g"),y.ignoreCase&&(S+="i"),y.multiline&&(S+="m"),y.unicode&&(S+="u"),y.sticky&&(S+="y"),S}},function(U,M,u){"use strict";var T=u(14),y=u(34),S=u(12);U.exports=function(m){for(var _=T(this),f=S(_.length),p=arguments.length,d=y(p>1?arguments[1]:void 0,f),b=p>2?arguments[2]:void 0,C=void 0===b?f:y(b,f);C>d;)_[d++]=m;return _}},function(U,M,u){var T=u(66),y=u(7)("iterator"),S=u(53);U.exports=u(37).getIteratorMethod=function(m){if(null!=m)return m[y]||m["@@iterator"]||S[T(m)]}},function(U,M,u){var T=u(53),y=u(7)("iterator"),S=Array.prototype;U.exports=function(m){return void 0!==m&&(T.Array===m||S[y]===m)}},function(U,M,u){var T=u(7)("match");U.exports=function(y){var S=/./;try{"/./"[y](S)}catch(m){try{return S[T]=!1,!"/./"[y](S)}catch(_){}}return!0}},function(U,M,u){var T=u(4),y=u(25),S=u(7)("match");U.exports=function(m){var _;return T(m)&&(void 0!==(_=m[S])?!!_:"RegExp"==y(m))}},function(U,M,u){var T=u(82),y=u(28);U.exports=function(S,m,_){if(T(m))throw TypeError("String#"+_+" doesn't accept regex!");return String(y(S))}},function(U,M,u){"use strict";var T=u(44),y=u(0),S=u(15),m=u(18),_=u(53),f=u(133),p=u(45),d=u(31),b=u(7)("iterator"),C=!([].keys&&"next"in[].keys()),h=function(){return this};U.exports=function(v,O,x,k,G,H,L){f(x,O,k);var j,F,V,Q=function(se){if(!C&&se in ue)return ue[se];switch(se){case"keys":case"values":return function(){return new x(this,se)}}return function(){return new x(this,se)}},W=O+" Iterator",ee="values"==G,J=!1,ue=v.prototype,Ce=ue[b]||ue["@@iterator"]||G&&ue[G],_e=Ce||Q(G),Ee=G?ee?Q("entries"):_e:void 0,X="Array"==O&&ue.entries||Ce;if(X&&(V=d(X.call(new v)))!==Object.prototype&&V.next&&(p(V,W,!0),T||"function"==typeof V[b]||m(V,b,h)),ee&&Ce&&"values"!==Ce.name&&(J=!0,_e=function(){return Ce.call(this)}),T&&!L||!C&&!J&&ue[b]||m(ue,b,_e),_[O]=_e,_[W]=h,G)if(j={values:ee?_e:Q("values"),keys:H?_e:Q("keys"),entries:Ee},L)for(F in j)F in ue||S(ue,F,j[F]);else y(y.P+y.F*(C||J),O,j);return j}},function(U,M){var u=Math.expm1;U.exports=!u||u(10)>22025.465794806718||u(10)<22025.465794806718||-2e-17!=u(-2e-17)?function(T){return 0==(T=+T)?T:T>-1e-6&&T<1e-6?T+T*T/2:Math.exp(T)-1}:u},function(U,M){U.exports=Math.sign||function(u){return 0==(u=+u)||u!=u?u:u<0?-1:1}},function(U,M,u){var T=u(4),y=u(89).set;U.exports=function(S,m,_){var f,p=m.constructor;return p!==_&&"function"==typeof p&&(f=p.prototype)!==_.prototype&&T(f)&&y&&y(S,f),S}},function(U,M){U.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(U,M,u){var T=u(4),y=u(5),S=function(m,_){if(y(m),!T(_)&&null!==_)throw TypeError(_+": can't set as prototype!")};U.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(m,_,f){try{(f=u(27)(Function.call,u(23).f(Object.prototype,"__proto__").set,2))(m,[]),_=!(m instanceof Array)}catch(p){_=!0}return function(p,d){return S(p,d),_?p.__proto__=d:f(p,d),p}}({},!1):void 0),check:S}},function(U,M,u){var T=u(6).document;U.exports=T&&T.documentElement},function(U,M,u){var T=u(25);U.exports=Array.isArray||function(y){return"Array"==T(y)}},function(U,M){U.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(U,M,u){var T=u(95)("keys"),y=u(35);U.exports=function(S){return T[S]||(T[S]=y(S))}},function(U,M,u){var T=u(21),y=u(12),S=u(34);U.exports=function(m){return function(_,f,p){var d,b=T(_),C=y(b.length),h=S(p,C);if(m&&f!=f){for(;C>h;)if((d=b[h++])!=d)return!0}else for(;C>h;h++)if((m||h in b)&&b[h]===f)return m||h||0;return!m&&-1}}},function(U,M,u){var T=u(6),y=T["__core-js_shared__"]||(T["__core-js_shared__"]={});U.exports=function(S){return y[S]||(y[S]={})}},function(U,M,u){var T=u(4),y=u(6).document,S=T(y)&&T(y.createElement);U.exports=function(m){return S?y.createElement(m):{}}},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ExtensionRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(8),_=u(9),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.CallExtension));return v._targetController=1,v._extCmd=b,v._params=C,v._room=h,null==v._params&&(v._params=new m.SFSObject),Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null!=this._extCmd&&0!==this._extCmd.length||C.push("Missing extension command"),null==this._params||this._params instanceof m.SFSObject||C.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof _.SFSRoom||C.push("Room must be an instance of SFSRoom class"),C.length>0)throw new S.SFSValidationError("ExtensionRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putUtfString(d.KEY_CMD,this._extCmd),this._reqObj.putInt(d.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(d.KEY_PARAMS,this._params)}}]),d}();M.ExtensionRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetBuddyVariablesRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(8),_=u(46),f=function(p){function d(b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetBuddyVariables));return C._buddyVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(b.buddyManager.isInited||C.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===b.buddyManager.getMyOnlineState()&&C.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?C.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?C.push("No Buddy Variables specified"):this._buddyVariables.every(function(h){return h instanceof _.SFSBuddyVariable})||C.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):C.push("Buddy Variables must be passed in an array"),C.length>0)throw new S.SFSValidationError("SetBuddyVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new m.SFSArray,h=!0,v=!1,O=void 0;try{for(var x,k=this._buddyVariables[Symbol.iterator]();!(h=(x=k.next()).done);h=!0)C.addSFSArray(x.value.toSFSArray())}catch(H){v=!0,O=H}finally{try{!h&&k.return&&k.return()}finally{if(v)throw O}}this._reqObj.putSFSArray(d.KEY_BUDDY_VARS,C)}}]),d}();M.SetBuddyVariablesRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.GoOnlineRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.GoOnline));return d._online=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),d.length>0)throw new S.SFSValidationError("GoOnlineRequest Error",d)}},{key:"execute",value:function(p){p.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(f.KEY_ONLINE,this._online)}}]),f}();M.GoOnlineRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BlockBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p,d){!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,f);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.BlockBuddy));return b._name=p,b._blocked=d,Object.seal(b),b}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)d.push("Invalid buddy name (null or empty string)");else{var b=p.buddyManager.getBuddyByName(this._name);null==b?d.push("Can't block buddy '"+this._name+"' because it isn't in your list"):b.isBlocked==this._blocked&&d.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(d.length>0)throw new S.SFSValidationError("BlockBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(f.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),f}();M.BlockBuddyRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.RemoveBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.RemoveBuddy));return d._name=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?d.push("Invalid buddy name (null or empty string)"):p.buddyManager.containsBuddy(this._name)||d.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),d.length>0)throw new S.SFSValidationError("RemoveBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name)}}]),f}();M.RemoveBuddyRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AddBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.AddBuddy));return d._name=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),T(f,[{key:"validate",value:function(p){var d=[];p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&d.push("Invalid buddy name (null or empty string)"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't add a buddy while you are offline in the Buddy List system");var b=p.buddyManager.getBuddyByName(this._name);if(null==b||b.isTemp||d.push("Can't add buddy '"+this._name+"' because it is already in your list"),d.length>0)throw new S.SFSValidationError("AddBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name)}}]),f}();M.AddBuddyRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InitBuddyListRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(){!function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?d:b}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.InitBuddyList));return Object.seal(p),p}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited&&d.push("Buddy List is already initialized"),d.length>0)throw new S.SFSValidationError("InitBuddyListRequest Error",d)}},{key:"execute",value:function(p){}}]),f}();M.InitBuddyListRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetUserPositionRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(8),_=u(9),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,d);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetUserPosition));return h._pos=b,h._room=C,Object.seal(h),h}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null!=this._pos&&this._pos instanceof m.Vec3D||C.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=b.lastJoinedRoom),null==this._room&&C.push("You are not joined in any room"),this._room instanceof _.MMORoom||C.push("Target room must be an instance of MMORoom class"),C.length>0)throw new S.SFSValidationError("SetUserPosition Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(d.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(d.KEY_VEC3D,this._pos.toArray())}}]),d}();M.SetUserPositionRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.FindUsersRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(9),_=u(38),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.FindUsers));return v._matchExpr=b,v._target=C,v._limit=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpr&&C.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof _.MatchExpression||C.push("Match expression must be passed as an instance of MatchExpression class"),C.length>0)throw new S.SFSValidationError("FindUsersRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putSFSArray(d.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof m.SFSRoom?this._reqObj.putInt(d.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(d.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(d.KEY_LIMIT,this._limit)}}]),d}();M.FindUsersRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.FindRoomsRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(38),_=function(f){function p(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.FindRooms));return h._matchExpr=d,h._groupId=b,h._limit=C,Object.seal(h),h}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(null==this._matchExpr&&b.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof m.MatchExpression||b.push("Match expression must be passed as an instance of MatchExpression class"),b.length>0)throw new S.SFSValidationError("FindRoomsRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putSFSArray(p.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(p.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(p.KEY_LIMIT,this._limit)}}]),p}();M.FindRoomsRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PlayerToSpectatorRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.PlayerToSpectator));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("PlayerToSpectatorRequest Error",b)}},{key:"execute",value:function(d){null==this._room&&(this._room=d.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.PlayerToSpectatorRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SpectatorToPlayerRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.SpectatorToPlayer));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("SpectatorToPlayerRequest Error",b)}},{key:"execute",value:function(d){null==this._room&&(this._room=d.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.SpectatorToPlayerRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.UnsubscribeRoomGroupRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.UnsubscribeRoomGroup));return d._groupId=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(null!=this._groupId&&0!==this._groupId.length||d.push("Invalid group id passed; must be a string with at least one character"),d.length>0)throw new S.SFSValidationError("UnsubscribeGroupRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_GROUP_ID,this._groupId)}}]),f}();M.UnsubscribeRoomGroupRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SubscribeRoomGroupRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.SubscribeRoomGroup));return d._groupId=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(null!=this._groupId&&0!==this._groupId.length||d.push("Invalid group id passed; must be a string with at least one character"),d.length>0)throw new S.SFSValidationError("SubscribeGroupRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_GROUP_ID,this._groupId)}}]),f}();M.SubscribeRoomGroupRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetUserVariablesRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(8),_=u(59),f=function(p){function d(b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetUserVariables));return C._userVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._userVariables?C.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?C.push("No User Variables specified"):this._userVariables.every(function(h){return h instanceof _.SFSUserVariable})||C.push("User Variables must be passed as instances of SFSUserVariable class"):C.push("User Variables must be passed in an array"),C.length>0)throw new S.SFSValidationError("SetUserVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new m.SFSArray,h=!0,v=!1,O=void 0;try{for(var x,k=this._userVariables[Symbol.iterator]();!(h=(x=k.next()).done);h=!0)C.addSFSArray(x.value.toSFSArray())}catch(H){v=!0,O=H}finally{try{!h&&k.return&&k.return()}finally{if(v)throw O}}this._reqObj.putSFSArray(d.KEY_VAR_LIST,C)}}]),d}();M.SetUserVariablesRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetRoomVariablesRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=u(2),S=u(1),m=u(8),_=u(9),f=u(49),p=function(d){function b(C){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,b);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.SetRoomVariables));return v._roomVariables=C,v._room=h,Object.seal(v),v}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),T(b,[{key:"validate",value:function(C){var h=[];if(null==this._room&&(this._room=C.lastJoinedRoom),null==this._room?h.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?C.getJoinedRooms().indexOf(this._room)<0&&h.push("You are not joined in the target Room: "+this._room):h.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?h.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?h.push("No Room Variables specified"):this._roomVariables.every(function(v){return v instanceof f.SFSRoomVariable})||h.push("Room Variables must be passed as instances of SFSRoomVariable class"):h.push("Room Variables must be passed in an array"),h.length>0)throw new S.SFSValidationError("SetRoomVariablesRequest Error",h)}},{key:"execute",value:function(C){var h=new m.SFSArray,v=!0,O=!1,x=void 0;try{for(var k,G=this._roomVariables[Symbol.iterator]();!(v=(k=G.next()).done);v=!0)h.addSFSArray(k.value.toSFSArray())}catch(L){O=!0,x=L}finally{try{!v&&G.return&&G.return()}finally{if(O)throw x}}this._reqObj.putSFSArray(b.KEY_VAR_LIST,h),this._reqObj.putInt(b.KEY_VAR_ROOM,this._room.id)}}]),b}();M.SetRoomVariablesRequest=p},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomCapacityRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(d,b,C){!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomCapacity));return h._room=d,h._newMaxUsers=b,h._newMaxSpect=C,Object.seal(h),h}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("ChangeRoomCapacityRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putInt(p.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(p.KEY_SPEC_SIZE,this._newMaxSpect)}}]),p}();M.ChangeRoomCapacityRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomPasswordStateRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(d,b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomPassword));return C._room=d,C._newPass=b,Object.seal(C),C}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null==this._newPass&&b.push("New room password must be a non-null string (empty string to remove the password)"),b.length>0)throw new S.SFSValidationError("ChangeRoomPasswordStateRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_PASS,this._newPass)}}]),p}();M.ChangeRoomPasswordStateRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomNameRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(d,b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomName));return C._room=d,C._newName=b,Object.seal(C),C}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||b.push("New room name must be a non-null and non-empty string"),b.length>0)throw new S.SFSValidationError("ChangeRoomNameRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_NAME,this._newName)}}]),p}();M.ChangeRoomNameRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.JoinRoomRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,p);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.JoinRoom));return"string"==typeof d?v._rName=d:"number"==typeof d?v._rId=d:d instanceof m.SFSRoom&&(v._rId=d.id,v._rName=d.name),v._password=b,v._roomIdToLeave=C,v._asSpectator=h,Object.seal(v),v}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),T(p,[{key:"validate",value:function(d){if(null==this._rId&&null==this._rName)throw new S.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(d){d._isJoining=!0,this._rId>=0?this._reqObj.putInt(p.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(p.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(p.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(p.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(p.KEY_AS_SPECTATOR,this._asSpectator)}}]),p}();M.JoinRoomRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LogoutRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(){!function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?d:b}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.Logout));return Object.seal(p),p}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),T(f,[{key:"validate",value:function(p){if(null==p.mySelf)throw new S.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(p){}}]),f}();M.LogoutRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LoginRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(71),S=u(2),m=u(1),_=u(8),f=function(p){function d(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,d);var O=function(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?x:k}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S.Requests.Login));return O._userName=b,O._password=C,O._params=h,O._zoneName=v,Object.seal(O),O}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,S.BaseRequest),T(d,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),T(d,[{key:"validate",value:function(b){if(null!=b.mySelf)throw new m.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var C=[],h=null!=b.config&&null!=b.config.zone?b.config.zone:null;if(null!=this._zoneName&&(h=this._zoneName),null==h||0===h.length?C.push("Missing Zone name"):this._zoneName=h,null==this._params||this._params instanceof _.SFSObject||C.push("Custom parameters must be passed in a SFSObject"),C.length>0)throw new m.SFSValidationError("LoginRequest Error",C)}},{key:"execute",value:function(b){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(d.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(d.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(d.KEY_PASSWORD,this._password.length>0?(new y.MD5).hex_md5(b.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(d.KEY_PARAMS,this._params)}}]),d}();M.LoginRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}();function y(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}var S=function(){function _(f){y(this,_),this._sfs=f,this._usersById=new Map,this._usersByName=new Map}return T(_,[{key:"containsUserName",value:function(f){return this._usersByName.has(f)}},{key:"containsUserId",value:function(f){return this._usersById.has(f)}},{key:"containsUser",value:function(f){return this._usersById.has(f.id)}},{key:"getUserById",value:function(f){return this._usersById.get(f)}},{key:"getUserByName",value:function(f){return this._usersByName.get(f)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(f){this.__addUser(f)}},{key:"__addUser",value:function(f){this._usersByName.set(f.name,f),this._usersById.set(f.id,f)}},{key:"_removeUser",value:function(f){this._usersById.delete(f.id),this._usersByName.delete(f.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),_}(),m=function(_){function f(p){y(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p));return d._roomRefCount=new Map,Object.freeze(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,S),T(f,[{key:"_addUser",value:function(p){this._roomRefCount.has(p)?this._roomRefCount.set(p,this._roomRefCount.get(p)+1):this._roomRefCount.set(p,1),this.__addUser(p)}},{key:"_removeUser",value:function(p){this._removeUserReference(p,!1)}},{key:"_removeUserReference",value:function(p,d){var b=this._roomRefCount.get(p);b<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+p):(this._roomRefCount.set(p,this._roomRefCount.get(p)-1),(0===b||d)&&(function C(h,v,O){null===h&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,v);if(void 0===x){var k=Object.getPrototypeOf(h);return null===k?void 0:C(k,v,O)}if("value"in x)return x.value;var G=x.get;return void 0!==G?G.call(O):void 0}(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_removeUser",this).call(this,p),this._roomRefCount.delete(p)))}}]),f}();M.SFSUserManager=S,M.GlobalUserManager=m},function(U,M,u){(function(T){var y,S=function(m,_,f){this._byteOffset=_||0,m instanceof ArrayBuffer?this.buffer=m:"object"==typeof m?(this.dataView=m,_&&(this._byteOffset+=_)):this.buffer=new ArrayBuffer(m||1),this.position=0,this.endianness=null==f?S.LITTLE_ENDIAN:f};S.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),S.prototype.save=function(m){var _=new Blob(this.buffer),f=window.webkitURL||window.URL;if(!f||!f.createObjectURL)throw"DataStream.save: Can't create object URL.";var p=f.createObjectURL(_),d=document.createElement("a");d.setAttribute("href",p),d.setAttribute("download",m),d.click(),f.revokeObjectURL(p)},S.BIG_ENDIAN=!1,S.LITTLE_ENDIAN=!0,S.prototype._dynamicSize=!0,Object.defineProperty(S.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(m){m||this._trimAlloc(),this._dynamicSize=m}}),S.prototype._byteLength=0,Object.defineProperty(S.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(S.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(m){this._buffer=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(m){this._byteOffset=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"dataView",{get:function(){return this._dataView},set:function(m){this._byteOffset=m.byteOffset,this._buffer=m.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+m.byteLength}}),S.prototype._realloc=function(m){if(this._dynamicSize){var _=this._byteOffset+this.position+m,f=this._buffer.byteLength;if(_<=f)_>this._byteLength&&(this._byteLength=_);else{for(f<1&&(f=1);_>f;)f*=2;var p=new ArrayBuffer(f),d=new Uint8Array(this._buffer);new Uint8Array(p,0,d.length).set(d),this.buffer=p,this._byteLength=_}}},S.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var m=new ArrayBuffer(this._byteLength),_=new Uint8Array(m),f=new Uint8Array(this._buffer,0,_.length);_.set(f),this.buffer=m}},S.prototype.seek=function(m){var _=Math.max(0,Math.min(this.byteLength,m));this.position=isNaN(_)||!isFinite(_)?0:_},S.prototype.isEof=function(){return this.position>=this.byteLength},S.prototype.mapInt32Array=function(m,_){this._realloc(4*m);var f=new Int32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.mapInt16Array=function(m,_){this._realloc(2*m);var f=new Int16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=2*m,f},S.prototype.mapInt8Array=function(m){this._realloc(1*m);var _=new Int8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapUint32Array=function(m,_){this._realloc(4*m);var f=new Uint32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.mapUint16Array=function(m,_){this._realloc(2*m);var f=new Uint16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=2*m,f},S.prototype.mapUint8Array=function(m){this._realloc(1*m);var _=new Uint8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapFloat64Array=function(m,_){this._realloc(8*m);var f=new Float64Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=8*m,f},S.prototype.mapFloat32Array=function(m,_){this._realloc(4*m);var f=new Float32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.readInt32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Int32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readInt16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var f=new Int16Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readInt8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Int8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readUint32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Uint32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readUint16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var f=new Uint16Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readUint8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Uint8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readFloat64Array=function(m,_){m=null==m?this.byteLength-this.position/8:m;var f=new Float64Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readFloat32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Float32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.writeInt32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Int32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeInt32(m[f],_)},S.prototype.writeInt16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Int16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt16Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeInt16(m[f],_)},S.prototype.writeInt8Array=function(m){if(this._realloc(1*m.length),m instanceof Int8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt8Array(m.length);else for(var _=0;_<m.length;_++)this.writeInt8(m[_])},S.prototype.writeUint32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Uint32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeUint32(m[f],_)},S.prototype.writeUint16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Uint16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint16Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeUint16(m[f],_)},S.prototype.writeUint8Array=function(m){if(this._realloc(1*m.length),m instanceof Uint8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint8Array(m.length);else for(var _=0;_<m.length;_++)this.writeUint8(m[_])},S.prototype.writeFloat64Array=function(m,_){if(this._realloc(8*m.length),m instanceof Float64Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat64Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeFloat64(m[f],_)},S.prototype.writeFloat32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Float32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeFloat32(m[f],_)},S.prototype.readInt32=function(m){var _=this._dataView.getInt32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readInt16=function(m){var _=this._dataView.getInt16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readInt8=function(){var m=this._dataView.getInt8(this.position);return this.position+=1,m},S.prototype.readUint32=function(m){var _=this._dataView.getUint32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readUint16=function(m){var _=this._dataView.getUint16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readUint8=function(){var m=this._dataView.getUint8(this.position);return this.position+=1,m},S.prototype.readFloat32=function(m){var _=this._dataView.getFloat32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readFloat64=function(m){var _=this._dataView.getFloat64(this.position,null==m?this.endianness:m);return this.position+=8,_},S.prototype.writeInt32=function(m,_){this._realloc(4),this._dataView.setInt32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeInt16=function(m,_){this._realloc(2),this._dataView.setInt16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeInt8=function(m){this._realloc(1),this._dataView.setInt8(this.position,m),this.position+=1},S.prototype.writeUint32=function(m,_){this._realloc(4),this._dataView.setUint32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeUint16=function(m,_){this._realloc(2),this._dataView.setUint16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeUint8=function(m){this._realloc(1),this._dataView.setUint8(this.position,m),this.position+=1},S.prototype.writeFloat32=function(m,_){this._realloc(4),this._dataView.setFloat32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeFloat64=function(m,_){this._realloc(8),this._dataView.setFloat64(this.position,m,null==_?this.endianness:_),this.position+=8},S.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,S.memcpy=function(m,_,f,p,d){var b=new Uint8Array(m,_,d),C=new Uint8Array(f,p,d);b.set(C)},S.arrayToNative=function(m,_){return _==this.endianness?m:this.flipArrayEndianness(m)},S.nativeToEndian=function(m,_){return this.endianness==_?m:this.flipArrayEndianness(m)},S.flipArrayEndianness=function(m){for(var _=new Uint8Array(m.buffer,m.byteOffset,m.byteLength),f=0;f<m.byteLength;f+=m.BYTES_PER_ELEMENT)for(var p=f+m.BYTES_PER_ELEMENT-1,d=f;p>d;p--,d++){var b=_[d];_[d]=_[p],_[p]=b}return m},S.createStringFromArray=function(m){for(var _=[],f=0;f<m.length;f+=32768)_.push(String.fromCharCode.apply(null,m.subarray(f,f+32768)));return _.join("")},S.prototype.failurePosition=0,S.prototype.readStruct=function(m){for(var f,p={},d=this.position,b=0;b<m.length;b+=2){if(null==(f=this.readType(m[b+1],p)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=d,null;p[m[b]]=f}return p},S.prototype.readUCS2String=function(m,_){return S.createStringFromArray(this.readUint16Array(m,_))},S.prototype.writeUCS2String=function(m,_,f){null==f&&(f=m.length);for(var p=0;p<m.length&&p<f;p++)this.writeUint16(m.charCodeAt(p),_);for(;p<f;p++)this.writeUint16(0)},S.prototype.readString=function(m,_){return null==_||"ASCII"==_?S.createStringFromArray(this.mapUint8Array(null==m?this.byteLength-this.position:m)):new TextDecoder(_).decode(this.mapUint8Array(m))},S.prototype.writeString=function(m,_,f){if(null==_||"ASCII"==_)if(null!=f){var p=0,d=Math.min(m.length,f);for(p=0;p<d;p++)this.writeUint8(m.charCodeAt(p));for(;p<f;p++)this.writeUint8(0)}else for(p=0;p<m.length;p++)this.writeUint8(m.charCodeAt(p));else this.writeUint8Array(new TextEncoder(_).encode(m.substring(0,f)))},S.prototype.readCString=function(m){var _=this.byteLength-this.position,f=new Uint8Array(this._buffer,this._byteOffset+this.position),p=_;null!=m&&(p=Math.min(m,_));for(var d=0;d<p&&0!=f[d];d++);var b=S.createStringFromArray(this.mapUint8Array(d));return null!=m?this.position+=p-d:d!=_&&(this.position+=1),b},S.prototype.writeCString=function(m,_){if(null!=_){var f=0,p=Math.min(m.length,_);for(f=0;f<p;f++)this.writeUint8(m.charCodeAt(f));for(;f<_;f++)this.writeUint8(0)}else{for(f=0;f<m.length;f++)this.writeUint8(m.charCodeAt(f));this.writeUint8(0)}},S.prototype.readType=function(m,_){if("function"==typeof m)return m(this,_);if(!("object"!=typeof m||m instanceof Array))return m.get(this,_);if(m instanceof Array&&3!=m.length)return this.readStruct(m,_);var f,p=null,d=null,b="ASCII",C=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(f=m.split(":"))[0],d=null!=_[h=f[1]]?parseInt(_[h]):parseInt(f[1])),"string"==typeof m&&/,/.test(m)&&(m=(f=m.split(","))[0],b=parseInt(f[1])),m){case"uint8":p=this.readUint8();break;case"int8":p=this.readInt8();break;case"uint16":p=this.readUint16(this.endianness);break;case"int16":p=this.readInt16(this.endianness);break;case"uint32":p=this.readUint32(this.endianness);break;case"int32":p=this.readInt32(this.endianness);break;case"float32":p=this.readFloat32(this.endianness);break;case"float64":p=this.readFloat64(this.endianness);break;case"uint16be":p=this.readUint16(S.BIG_ENDIAN);break;case"int16be":p=this.readInt16(S.BIG_ENDIAN);break;case"uint32be":p=this.readUint32(S.BIG_ENDIAN);break;case"int32be":p=this.readInt32(S.BIG_ENDIAN);break;case"float32be":p=this.readFloat32(S.BIG_ENDIAN);break;case"float64be":p=this.readFloat64(S.BIG_ENDIAN);break;case"uint16le":p=this.readUint16(S.LITTLE_ENDIAN);break;case"int16le":p=this.readInt16(S.LITTLE_ENDIAN);break;case"uint32le":p=this.readUint32(S.LITTLE_ENDIAN);break;case"int32le":p=this.readInt32(S.LITTLE_ENDIAN);break;case"float32le":p=this.readFloat32(S.LITTLE_ENDIAN);break;case"float64le":p=this.readFloat64(S.LITTLE_ENDIAN);break;case"cstring":p=this.readCString(d);break;case"string":p=this.readString(d,b);break;case"u16string":p=this.readUCS2String(d,this.endianness);break;case"u16stringle":p=this.readUCS2String(d,S.LITTLE_ENDIAN);break;case"u16stringbe":p=this.readUCS2String(d,S.BIG_ENDIAN);break;default:if(3==m.length){var h,v=m[1],O=0;if(O="function"==typeof(h=m[2])?h(_,this,m):"string"==typeof h&&null!=_[h]?parseInt(_[h]):parseInt(h),"string"==typeof v){var x=v.replace(/(le|be)$/,""),k=null;switch(/le$/.test(v)?k=S.LITTLE_ENDIAN:/be$/.test(v)&&(k=S.BIG_ENDIAN),"*"==h&&(O=null),x){case"uint8":p=this.readUint8Array(O);break;case"uint16":p=this.readUint16Array(O,k);break;case"uint32":p=this.readUint32Array(O,k);break;case"int8":p=this.readInt8Array(O);break;case"int16":p=this.readInt16Array(O,k);break;case"int32":p=this.readInt32Array(O,k);break;case"float32":p=this.readFloat32Array(O,k);break;case"float64":p=this.readFloat64Array(O,k);break;case"cstring":case"utf16string":case"string":if(null==O)for(p=[];!this.isEof()&&null!=(j=this.readType(v,_));)p.push(j);else{p=new Array(O);for(var G=0;G<O;G++)p[G]=this.readType(v,_)}}}else if("*"==h)for(p=[];;){var H=this.position;try{var L=this.readType(v,_);if(null==L){this.position=H;break}p.push(L)}catch(F){this.position=H;break}}else for(p=new Array(O),G=0;G<O;G++){var j;if(null==(j=this.readType(v,_)))return null;p[G]=j}break}}return null!=d&&(this.position=C+d),p},S.prototype.writeStruct=function(m,_){for(var f=0;f<m.length;f+=2)this.writeType(m[f+1],_[m[f]],_)},S.prototype.writeType=function(m,_,f){if("function"==typeof m)return m(this,_);if("object"==typeof m&&!(m instanceof Array))return m.set(this,_,f);var p,d=null,b="ASCII",C=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(p=m.split(":"))[0],d=parseInt(p[1])),"string"==typeof m&&/,/.test(m)&&(m=(p=m.split(","))[0],b=parseInt(p[1])),m){case"uint8":this.writeUint8(_);break;case"int8":this.writeInt8(_);break;case"uint16":this.writeUint16(_,this.endianness);break;case"int16":this.writeInt16(_,this.endianness);break;case"uint32":this.writeUint32(_,this.endianness);break;case"int32":this.writeInt32(_,this.endianness);break;case"float32":this.writeFloat32(_,this.endianness);break;case"float64":this.writeFloat64(_,this.endianness);break;case"uint16be":this.writeUint16(_,S.BIG_ENDIAN);break;case"int16be":this.writeInt16(_,S.BIG_ENDIAN);break;case"uint32be":this.writeUint32(_,S.BIG_ENDIAN);break;case"int32be":this.writeInt32(_,S.BIG_ENDIAN);break;case"float32be":this.writeFloat32(_,S.BIG_ENDIAN);break;case"float64be":this.writeFloat64(_,S.BIG_ENDIAN);break;case"uint16le":this.writeUint16(_,S.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(_,S.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(_,S.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(_,S.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(_,S.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(_,S.LITTLE_ENDIAN);break;case"cstring":this.writeCString(_,d);break;case"string":this.writeString(_,b,d);break;case"u16string":this.writeUCS2String(_,this.endianness,d);break;case"u16stringle":this.writeUCS2String(_,S.LITTLE_ENDIAN,d);break;case"u16stringbe":this.writeUCS2String(_,S.BIG_ENDIAN,d);break;default:if(3==m.length){for(var h=m[1],v=0;v<_.length;v++)this.writeType(h,_[v]);break}this.writeStruct(m,_)}null!=d&&(this.position=C,this._realloc(d),this.position=C+d)},void 0===(y=function(){return S}.apply(M,[]))||(T.exports=y),"object"==typeof T&&T&&T.exports&&(T.exports=S)}).call(this,u(173)(U))},function(U,M,u){var T=u(24),y=u(12);U.exports=function(S){if(void 0===S)return 0;var m=T(S),_=y(m);if(m!==_)throw RangeError("Wrong length!");return _}},function(U,M,u){"use strict";var T=u(41),y=u(29).getWeak,S=u(5),m=u(4),_=u(42),f=u(62),p=u(19),d=u(16),b=u(40),C=p(5),h=p(6),v=0,O=function(G){return G._l||(G._l=new x)},x=function(){this.a=[]},k=function(G,H){return C(G.a,function(L){return L[0]===H})};x.prototype={get:function(G){var H=k(this,G);if(H)return H[1]},has:function(G){return!!k(this,G)},set:function(G,H){var L=k(this,G);L?L[1]=H:this.a.push([G,H])},delete:function(G){var H=h(this.a,function(L){return L[0]===G});return~H&&this.a.splice(H,1),!!~H}},U.exports={getConstructor:function(G,H,L,j){var F=G(function(V,Q){_(V,F,H,"_i"),V._t=H,V._i=v++,V._l=void 0,null!=Q&&f(Q,L,V[j],V)});return T(F.prototype,{delete:function(V){if(!m(V))return!1;var Q=y(V);return!0===Q?O(b(this,H)).delete(V):Q&&d(Q,this._i)&&delete Q[this._i]},has:function(V){if(!m(V))return!1;var Q=y(V);return!0===Q?O(b(this,H)).has(V):Q&&d(Q,this._i)}}),F},def:function(G,H,L){var j=y(S(H),!0);return!0===j?O(G).set(H,L):j[G._i]=L,G},ufstore:O}},function(U,M,u){"use strict";var T=u(10).f,y=u(33),S=u(41),m=u(27),_=u(42),f=u(62),p=u(84),d=u(127),b=u(43),C=u(11),h=u(29).fastKey,v=u(40),O=C?"_s":"size",x=function(k,G){var H,L=h(G);if("F"!==L)return k._i[L];for(H=k._f;H;H=H.n)if(H.k==G)return H};U.exports={getConstructor:function(k,G,H,L){var j=k(function(F,V){_(F,j,G,"_i"),F._t=G,F._i=y(null),F._f=void 0,F._l=void 0,F[O]=0,null!=V&&f(V,H,F[L],F)});return S(j.prototype,{clear:function(){for(var F=v(this,G),V=F._i,Q=F._f;Q;Q=Q.n)Q.r=!0,Q.p&&(Q.p=Q.p.n=void 0),delete V[Q.i];F._f=F._l=void 0,F[O]=0},delete:function(F){var V=v(this,G),Q=x(V,F);if(Q){var W=Q.n,ee=Q.p;delete V._i[Q.i],Q.r=!0,ee&&(ee.n=W),W&&(W.p=ee),V._f==Q&&(V._f=W),V._l==Q&&(V._l=ee),V[O]--}return!!Q},forEach:function(F){v(this,G);for(var V,Q=m(F,arguments.length>1?arguments[1]:void 0,3);V=V?V.n:this._f;)for(Q(V.v,V.k,this);V&&V.r;)V=V.p},has:function(F){return!!x(v(this,G),F)}}),C&&T(j.prototype,"size",{get:function(){return v(this,G)[O]}}),j},def:function(k,G,H){var L,j,F=x(k,G);return F?F.v=H:(k._l=F={i:j=h(G,!0),k:G,v:H,p:L=k._l,n:void 0,r:!1},k._f||(k._f=F),L&&(L.n=F),k[O]++,"F"!==j&&(k._i[j]=F)),k},getEntry:x,setStrong:function(k,G,H){p(k,G,function(L,j){this._t=v(L,G),this._k=j,this._l=void 0},function(){for(var L=this._k,j=this._l;j&&j.r;)j=j.p;return this._t&&(this._l=j=j?j.n:this._t._f)?d(0,"keys"==L?j.k:"values"==L?j.v:[j.k,j.v]):(this._t=void 0,d(1))},H?"entries":"values",!H,!0),b(G)}}},function(U,M,u){"use strict";var T=u(26);U.exports.f=function(y){return new function(S){var m,_;this.promise=new S(function(f,p){if(void 0!==m||void 0!==_)throw TypeError("Bad Promise constructor");m=f,_=p}),this.resolve=T(m),this.reject=T(_)}(y)}},function(U,M,u){var T,y,S,m=u(27),_=u(141),f=u(90),p=u(96),d=u(6),b=d.process,C=d.setImmediate,h=d.clearImmediate,v=d.MessageChannel,O=d.Dispatch,x=0,k={},G=function(){var L=+this;if(k.hasOwnProperty(L)){var j=k[L];delete k[L],j()}},H=function(L){G.call(L.data)};C&&h||(C=function(L){for(var j=[],F=1;arguments.length>F;)j.push(arguments[F++]);return k[++x]=function(){_("function"==typeof L?L:Function(L),j)},T(x),x},h=function(L){delete k[L]},"process"==u(25)(b)?T=function(L){b.nextTick(m(G,L,1))}:O&&O.now?T=function(L){O.now(m(G,L,1))}:v?(S=(y=new v).port2,y.port1.onmessage=H,T=m(S.postMessage,S,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(T=function(L){d.postMessage(L+"","*")},d.addEventListener("message",H,!1)):T="onreadystatechange"in p("script")?function(L){f.appendChild(p("script")).onreadystatechange=function(){f.removeChild(this),G.call(L)}}:function(L){setTimeout(m(G,L,1),0)}),U.exports={set:C,clear:h}},function(U,M,u){u(11)&&"g"!=/./g.flags&&u(10).f(RegExp.prototype,"flags",{configurable:!0,get:u(77)})},function(U,M){U.exports=function(u,T){return{value:T,done:!!u}}},function(U,M,u){"use strict";var T=u(52),y=u(127),S=u(53),m=u(21);U.exports=u(84)(Array,"Array",function(_,f){this._t=m(_),this._i=0,this._k=f},function(){var _=this._t,f=this._k,p=this._i++;return!_||p>=_.length?(this._t=void 0,y(1)):y(0,"keys"==f?p:"values"==f?_[p]:[p,_[p]])},"values"),S.Arguments=S.Array,T("keys"),T("values"),T("entries")},function(U,M,u){"use strict";var T=u(14),y=u(34),S=u(12);U.exports=[].copyWithin||function(m,_){var f=T(this),p=S(f.length),d=y(m,p),b=y(_,p),C=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===C?p:y(C,p))-b,p-d),v=1;for(b<d&&d<b+h&&(v=-1,b+=h-1,d+=h-1);h-- >0;)b in f?f[d]=f[b]:delete f[d],d+=v,b+=v;return f}},function(U,M,u){var T=u(26),y=u(14),S=u(54),m=u(12);U.exports=function(_,f,p,d,b){T(f);var C=y(_),h=S(C),v=m(C.length),O=b?v-1:0,x=b?-1:1;if(p<2)for(;;){if(O in h){d=h[O],O+=x;break}if(O+=x,b?O<0:v<=O)throw TypeError("Reduce of empty array with no initial value")}for(;b?O>=0:v>O;O+=x)O in h&&(d=f(d,h[O],O,C));return d}},function(U,M,u){"use strict";var T=u(10),y=u(36);U.exports=function(S,m,_){m in S?T.f(S,m,y(0,_)):S[m]=_}},function(U,M,u){var T=u(5);U.exports=function(y,S,m,_){try{return _?S(T(m)[0],m[1]):S(m)}catch(p){var f=y.return;throw void 0!==f&&T(f.call(y)),p}}},function(U,M,u){"use strict";var T=u(33),y=u(36),S=u(45),m={};u(18)(m,u(7)("iterator"),function(){return this}),U.exports=function(_,f,p){_.prototype=T(m,{next:y(1,p)}),S(_,f+" Iterator")}},function(U,M,u){var T=u(24),y=u(28);U.exports=function(S){return function(m,_){var f,p,d=String(y(m)),b=T(_),C=d.length;return b<0||b>=C?S?"":void 0:(f=d.charCodeAt(b))<55296||f>56319||b+1===C||(p=d.charCodeAt(b+1))<56320||p>57343?S?d.charAt(b):f:S?d.slice(b,b+2):p-56320+(f-55296<<10)+65536}}},function(U,M){U.exports=Math.log1p||function(u){return(u=+u)>-1e-8&&u<1e-8?u-u*u/2:Math.log(1+u)}},function(U,M,u){var T=u(4),y=Math.floor;U.exports=function(S){return!T(S)&&isFinite(S)&&y(S)===S}},function(U,M,u){"use strict";var T=u(24),y=u(28);U.exports=function(S){var m=String(y(this)),_="",f=T(S);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(m+=m))1&f&&(_+=m);return _}},function(U,M,u){var T=u(25);U.exports=function(y,S){if("number"!=typeof y&&"Number"!=T(y))throw TypeError(S);return+y}},function(U,M,u){var T=u(6).parseFloat,y=u(65).trim;U.exports=1/T(u(88)+"-0")!=-1/0?function(S){var m=y(String(S),3),_=T(m);return 0===_&&"-"==m.charAt(0)?-0:_}:T},function(U,M,u){var T=u(6).parseInt,y=u(65).trim,S=u(88),m=/^[-+]?0[xX]/;U.exports=8!==T(S+"08")||22!==T(S+"0x16")?function(_,f){var p=y(String(_),3);return T(p,f>>>0||(m.test(p)?16:10))}:T},function(U,M){U.exports=function(u,T,y){var S=void 0===y;switch(T.length){case 0:return S?u():u.call(y);case 1:return S?u(T[0]):u.call(y,T[0]);case 2:return S?u(T[0],T[1]):u.call(y,T[0],T[1]);case 3:return S?u(T[0],T[1],T[2]):u.call(y,T[0],T[1],T[2]);case 4:return S?u(T[0],T[1],T[2],T[3]):u.call(y,T[0],T[1],T[2],T[3])}return u.apply(y,T)}},function(U,M,u){"use strict";var T=u(26),y=u(4),S=u(141),m=[].slice,_={};U.exports=Function.bind||function(f){var p=T(this),d=m.call(arguments,1),b=function(){var C=d.concat(m.call(arguments));return this instanceof b?function(h,v,O){if(!(v in _)){for(var x=[],k=0;k<v;k++)x[k]="a["+k+"]";_[v]=Function("F,a","return new F("+x.join(",")+")")}return _[v](h,O)}(p,C.length,C):S(p,C,f)};return y(p.prototype)&&(b.prototype=p.prototype),b}},function(U,M,u){"use strict";var T=u(55),y=u(68),S=u(67),m=u(14),_=u(54),f=Object.assign;U.exports=!f||u(3)(function(){var p={},d={},b=Symbol(),C="abcdefghijklmnopqrst";return p[b]=7,C.split("").forEach(function(h){d[h]=h}),7!=f({},p)[b]||Object.keys(f({},d)).join("")!=C})?function(p,d){for(var b=m(p),C=arguments.length,h=1,v=y.f,O=S.f;C>h;)for(var x,k=_(arguments[h++]),G=v?T(k).concat(v(k)):T(k),H=G.length,L=0;H>L;)O.call(k,x=G[L++])&&(b[x]=k[x]);return b}:f},function(U,M,u){var T=u(21),y=u(32).f,S={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];U.exports.f=function(_){return m&&"[object Window]"==S.call(_)?function(f){try{return y(f)}catch(p){return m.slice()}}(_):y(T(_))}},function(U,M,u){var T=u(10),y=u(5),S=u(55);U.exports=u(11)?Object.defineProperties:function(m,_){y(m);for(var f,p=S(_),d=p.length,b=0;d>b;)T.f(m,f=p[b++],_[f]);return m}},function(U,M,u){var T=u(16),y=u(21),S=u(94)(!1),m=u(93)("IE_PROTO");U.exports=function(_,f){var p,d=y(_),b=0,C=[];for(p in d)p!=m&&T(d,p)&&C.push(p);for(;f.length>b;)T(d,p=f[b++])&&(~S(C,p)||C.push(p));return C}},function(U,M,u){M.f=u(7)},function(U,M,u){U.exports=!u(11)&&!u(3)(function(){return 7!=Object.defineProperty(u(96)("div"),"a",{get:function(){return 7}}).a})},function(U,M,u){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(T){return"number"==typeof T&&isFinite(T)&&Math.floor(T)===T},Number.isSafeInteger=Number.isSafeInteger||function(T){return Number.isInteger(T)&&Math.abs(T)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(T){return"number"==typeof T&&isFinite(T)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(T){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof T)throw new TypeError("predicate must be a function");for(var y=Object(this),S=y.length>>>0,m=arguments[1],_=0;_!==S;_++)if(T.call(m,this[_],_,y))return this[_]}})},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BuddyMessageRequest=void 0;var T=u(70),y=u(1),S=u(58),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(null!=d&&!(d instanceof S.SFSBuddy))throw new y.SFSError("Target buddy must be an instance of SFSBuddy class");return C._type=T.GenericMessageType.BUDDY_MSG,C._message=p,C._recipient=null!=d?d.id:-1,C._params=b,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,T.GenericMessageRequest),f}();M.BuddyMessageRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QuickJoinGameRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(9),_=u(38),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.QuickJoinGame));return v._matchExpression=b,v._whereToSearch=C,v._roomToLeave=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpression||this._matchExpression instanceof _.MatchExpression||C.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?C.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>d.MAX_ROOMS&&C.push("Too many Rooms specified in list where to search the game to join; client limit is: "+d.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof m.SFSRoom||C.push("Room to leave must be an instance of SFSRoom class"),C.length>0)throw new S.SFSValidationError("QuickJoinGameRequest Error",C)}},{key:"execute",value:function(b){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(d.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof m.SFSRoom))throw new S.SFSError("Invalid type in whereToSearch parameter");var C=[],h=!0,v=!1,O=void 0;try{for(var x,k=this._whereToSearch[Symbol.iterator]();!(h=(x=k.next()).done);h=!0){var G=x.value;G instanceof m.SFSRoom&&C.push(G.id)}}catch(H){v=!0,O=H}finally{try{!h&&k.return&&k.return()}finally{if(v)throw O}}this._reqObj.putIntArray(d.KEY_ROOM_LIST,C)}null!=this._roomToLeave&&this._reqObj.putInt(d.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(d.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),d}();M.QuickJoinGameRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.JoinRoomInvitationRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(9),_=u(8),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,O=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,d);var x=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.JoinRoomInvite));return x._targetRoom=b,x._invitedUserNames=C,x._params=h,x._expirySeconds=v,x._asSpectator=O,Object.seal(x),x}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._targetRoom&&C.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof m.SFSRoom||C.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?C.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&C.push("No invitees provided"):C.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof _.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new S.SFSValidationError("JoinRoomInvitationRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(d.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(d.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(d.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(d.KEY_OPTIONAL_PARAMS,this._params)}}]),d}();M.JoinRoomInvitationRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InvitationReplyRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=u(2),S=u(1),m=u(8),_=u(72),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.InvitationReply));return v._invitation=b,v._reply=C,v._params=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._invitation?C.push("Missing invitation object"):this._invitation instanceof _.SFSInvitation||C.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof m.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new S.SFSValidationError("InvitationReplyRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(d.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(d.KEY_INVITATION_PARAMS,this._params)}}]),d}();M.InvitationReplyRequest=f},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CreateSFSGameRequest=void 0;var T=function(){function v(O,x){for(var k=0;k<x.length;k++){var G=x[k];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}return function(O,x,k){return x&&v(O.prototype,x),k&&v(O,k),O}}(),y=u(2),S=u(1),m=u(56),_=u(57),f=u(69),p=u(47),d=u(58),b=u(8),C=u(38),h=function(v){function O(x){!function(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}(this,O);var k=function(G,H){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?G:H}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,y.Requests.CreateSFSGame));return k._settings=x,k._createRoomRequest=new _.CreateRoomRequest(x,!1,null),Object.seal(k),k}return function(x,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}(O,y.BaseRequest),T(O,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),T(O,[{key:"validate",value:function(x){if(!(this._settings instanceof m.SFSGameSettings))throw new S.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var k=[];try{this._createRoomRequest.validate(x)}catch(G){k=G.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&k.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<f.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>f.InviteUsersRequest.MAX_EXPIRY_TIME)&&k.push("Invitation expiration time value is out of range (min: "+f.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+f.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>f.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&k.push("Can't invite more than "+f.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(G){return G instanceof p.SFSUser||G instanceof d.SFSBuddy})||k.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):k.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof C.MatchExpression||k.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof C.MatchExpression||k.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof b.SFSObject||k.push("Custom invitation parameters must be set in a SFSObject class instance"),k.length>0)throw new S.SFSValidationError("CreateSFSGameRequest Error",k)}},{key:"execute",value:function(x){if(this._createRoomRequest.execute(x),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(O.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(O.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(O.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(O.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(O.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(O.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(O.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var k=[],G=!0,H=!1,L=void 0;try{for(var j,F=this._settings.invitedPlayers[Symbol.iterator]();!(G=(j=F.next()).done);G=!0)k.push(j.value.id)}catch(Q){H=!0,L=Q}finally{try{!G&&F.return&&F.return()}finally{if(H)throw L}}this._reqObj.putIntArray(O.KEY_INVITED_PLAYERS,k)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(O.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(O.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),O}();M.CreateSFSGameRequest=h},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BanUserRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.BanUser));return v._userId=p,v._message=d,v._banMode=b,v._delay=C,v._durationHours=h,Object.seal(v),v}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(d.length>0)throw new S.SFSValidationError("BanUserRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putInt(f.KEY_USER_ID,this._userId),this._reqObj.putInt(f.KEY_DELAY,this._delay),this._reqObj.putInt(f.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(f.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(f.KEY_MESSAGE,this._message)}}]),f}();M.BanUserRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.KickUserRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(2),S=u(1),m=function(_){function f(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.KickUser));return b<0&&(b=0),C._userId=p,C._message=d,C._delay=b,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(d.length>0)throw new S.SFSValidationError("KickUserRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putInt(f.KEY_USER_ID,this._userId),this._reqObj.putInt(f.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(f.KEY_MESSAGE,this._message)}}]),f}();M.KickUserRequest=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LeaveRoomRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=u(2),S=u(1),m=u(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.LeaveRoom));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("LeaveRoomRequest Error",b)}},{key:"execute",value:function(d){null!=this._room&&this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.LeaveRoomRequest=_},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QuickJoinOrCreateRoomRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=u(2),S=u(57),m=u(1),_=u(9),f=u(38),p=function(d){function b(C,h,v){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,b);var x=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.QuickJoinOrCreateRoom));return x._matchExpression=C,x._groupList=h,x._settings=v,x._roomToLeave=O,x._createRoomRequest=new S.CreateRoomRequest(v,!1,null),Object.seal(x),x}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),T(b,[{key:"validate",value:function(C){if(!(this._matchExpression instanceof f.MatchExpression))throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var h=[];(null==this._groupList||this._groupList.length<1)&&h.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof _.SFSRoom||h.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(C)}catch(v){h=h.concat(v.errors)}if(h.length>0)throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",h)}},{key:"execute",value:function(C){this._createRoomRequest.execute(C);var h=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(b.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(b.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(b.KEY_ROOM_SETTINGS,h),null!=this._roomToLeave&&this._reqObj.putInt(b.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),b}();M.QuickJoinOrCreateRoomRequest=p},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PasswordUtil=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(71),S=function(){function m(){throw function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return T(m,null,[{key:"md5Password",value:function(_){return(new y.MD5).hex_md5(_)}}]),m}();M.PasswordUtil=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),y=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});M.RoomProperties=T,M.UserProperties=y},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}();function y(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}function S(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}function m(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var _=function(){function b(C,h){m(this,b),this._type=C,this._symbol=h,Object.freeze(this)}return T(b,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),b}(),f=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,0,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}}]),C}(),p=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,1,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"GREATER_THAN",get:function(){return new C(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new C(">=")}},{key:"LESS_THAN",get:function(){return new C("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new C("<=")}}]),C}(),d=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,2,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"CONTAINS",get:function(){return new C("contains")}},{key:"STARTS_WITH",get:function(){return new C("startsWith")}},{key:"ENDS_WITH",get:function(){return new C("endsWith")}}]),C}();M.BoolMatch=f,M.NumberMatch=p,M.StringMatch=d},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PingPongRequest=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(2),S=function(m){function _(){!function(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?p:d}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y.Requests.PingPong));return Object.seal(f),f}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseRequest),T(_,[{key:"validate",value:function(f){}},{key:"execute",value:function(f){}}]),_}();M.PingPongRequest=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LagMonitor=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(162),S=function(){function m(_){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._valueQueue=[],this._interval=f,this._queueSize=p,this._thread=null,this._lastReqTime=-1}return T(m,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(_){_._lastReqTime=(new Date).getTime(),_._sfs.send(new y.PingPongRequest)}},{key:"_onPingPong",value:function(){var _=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(_),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var _=0,f=0;f<this._valueQueue.length;f++)_+=this._valueQueue[f];return _/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),m}();M.LagMonitor=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.HandshakeRequest=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(2),S=function(m){function _(f,p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y.Requests.Handshake));return d._apiVersion=f,d._clientDetails=p,Object.seal(d),d}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseRequest),T(_,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),T(_,[{key:"validate",value:function(f){}},{key:"execute",value:function(f){this._reqObj.putUtfString(_.KEY_API,this._apiVersion),this._reqObj.putUtfString(_.KEY_CLIENT_TYPE,this._clientDetails)}}]),_}();M.HandshakeRequest=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSBuddyManager=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(46),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return T(m,[{key:"containsBuddy",value:function(_){return this._buddiesByName.has(_)}},{key:"getBuddyById",value:function(_){return this.getBuddyList().find(function(f){return f.id===_})}},{key:"getBuddyByName",value:function(_){return this._buddiesByName.get(_)}},{key:"getBuddyByNickName",value:function(_){return this.getBuddyList().find(function(f){return f.nickName===_})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(_){return!_.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(_){return _.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(_){return this._myVariables.get(_)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var _=this.getMyVariable(y.ReservedBuddyVariables.BV_ONLINE);return null==_||_.value}},{key:"getMyNickName",value:function(){var _=this.getMyVariable(y.ReservedBuddyVariables.BV_NICKNAME);return null!=_?_.value:null}},{key:"getMyState",value:function(){var _=this.getMyVariable(y.ReservedBuddyVariables.BV_STATE);return null!=_?_.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(_){this._buddiesByName.set(_.name,_)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(_){var f=this.getBuddyById(_);return null!=f&&this._buddiesByName.delete(f.name),f}},{key:"_removeBuddyByName",value:function(_){var f=this.getBuddyByName(_);return null!=f&&this._buddiesByName.delete(_),f}},{key:"_setMyVariables",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=_[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._setMyVariable(b.value)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"_setMyVariable",value:function(_){_.isNull?this._myVariables.delete(_.name):this._myVariables.set(_.name,_)}},{key:"_setMyOnlineState",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_ONLINE,_))}},{key:"_setMyNickName",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_NICKNAME,_))}},{key:"_setMyState",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_STATE,_))}},{key:"_setBuddyStates",value:function(_){this._buddyStates=new Set(_)}},{key:"isInited",get:function(){return this._inited}}]),m}();M.SFSBuddyManager=S},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSRoomManager=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(9),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return T(m,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(_){return this._groups.has(_)}},{key:"containsRoom",value:function(_){return"number"==typeof _?this._roomsById.has(_):this._roomsByName.has(_)}},{key:"containsRoomInGroup",value:function(_,f){return this.getRoomListFromGroup(f).some("number"==typeof _?function(d){return d.id===_}:function(d){return d.name===_})}},{key:"getRoomById",value:function(_){return this._roomsById.get(_)}},{key:"getRoomByName",value:function(_){return this._roomsByName.get(_)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(_){return this.getRoomList().filter(function(f){return f.groupId===_})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(_){return _.isJoined})}},{key:"getUserRooms",value:function(_){return this.getRoomList().filter(function(f){return f.containsUser(_)})}},{key:"_addRoom",value:function(_){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(_.id,_),this._roomsByName.set(_.name,_),_._setRoomManager(this),f?this._addGroup(_.groupId):_._isManaged=!1}},{key:"_replaceRoom",value:function(_){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=this.getRoomById(_.id);return null!=p?(p._merge(_),p):(this._addRoom(_,f),_)}},{key:"_removeRoom",value:function(_){this._roomsById.delete(_.id),this._roomsByName.delete(_.name)}},{key:"_removeRoomById",value:function(_){var f=this.getRoomById(_);null!=f&&this._removeRoom(f)}},{key:"_removeRoomByName",value:function(_){var f=this.getRoomByName(_);null!=f&&this._removeRoom(f)}},{key:"_changeRoomName",value:function(_,f){var p=_.name;_._name=f,this._roomsByName.set(f,_),this._roomsByName.delete(p)}},{key:"_changeRoomPasswordState",value:function(_,f){_._isPasswordProtected=f}},{key:"_changeRoomCapacity",value:function(_,f,p){_._maxUsers=f,_._maxSpectators=p}},{key:"_addGroup",value:function(_){this.containsGroup(_)||this._groups.add(_)}},{key:"_removeGroup",value:function(_){this._groups.delete(_);var f=this.getRoomListFromGroup(_),p=!0,d=!1,b=void 0;try{for(var C,h=f[Symbol.iterator]();!(p=(C=h.next()).done);p=!0){var v=C.value;v.isJoined?v._isManaged=!1:this._removeRoom(v)}}catch(O){d=!0,b=O}finally{try{!p&&h.return&&h.return()}finally{if(d)throw b}}}},{key:"_removeUser",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=this.getUserRooms(_)[Symbol.iterator]();!(f=(b=C.next()).done);f=!0){var h=b.value;h instanceof y.MMORoom||h._removeUser(_)}}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}}]),m}();M.SFSRoomManager=S},function(U,M){(function(){"use strict";function u(ve){throw ve}var T=void 0,y=!0,S=this;function m(ve,ge){var we,Re=ve.split("."),Se=S;for((!(Re[0]in Se)&&Se.execScript&&Se.execScript("var "+Re[0]));Re.length&&(we=Re.shift());)Re.length||ge===T?Se=Se[we]?Se[we]:Se[we]={}:Se[we]=ge}var _="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function f(ve,ge){this.index="number"==typeof ge?ge:0,this.i=0,this.buffer=ve instanceof(_?Uint8Array:Array)?ve:new(_?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&u(Error("invalid index")),this.buffer.length<=this.index&&this.f()}f.prototype.f=function(){var ve,ge=this.buffer,we=ge.length,Re=new(_?Uint8Array:Array)(we<<1);if(_)Re.set(ge);else for(ve=0;ve<we;++ve)Re[ve]=ge[ve];return this.buffer=Re},f.prototype.d=function(ve,ge,we){var Re,Se=this.buffer,Fe=this.index,st=this.i,_t=Se[Fe];if(we&&1<ge&&(ve=8<ge?(v[255&ve]<<24|v[ve>>>8&255]<<16|v[ve>>>16&255]<<8|v[ve>>>24&255])>>32-ge:v[ve]>>8-ge),8>ge+st)_t=_t<<ge|ve,st+=ge;else for(Re=0;Re<ge;++Re)_t=_t<<1|ve>>ge-Re-1&1,8==++st&&(st=0,Se[Fe++]=v[_t],_t=0,Fe===Se.length&&(Se=this.f()));Se[Fe]=_t,this.buffer=Se,this.i=st,this.index=Fe},f.prototype.finish=function(){var ve,ge=this.buffer,we=this.index;return 0<this.i&&(ge[we]<<=8-this.i,ge[we]=v[ge[we]],we++),_?ve=ge.subarray(0,we):(ge.length=we,ve=ge),ve};var p,d=new(_?Uint8Array:Array)(256);for(p=0;256>p;++p){for(var b=h=p,C=7,h=h>>>1;h;h>>>=1)b<<=1,b|=1&h,--C;d[p]=(b<<C&255)>>>0}var v=d;function O(ve){this.buffer=new(_?Uint16Array:Array)(2*ve),this.length=0}function x(ve){var ge,we,Re,Se,Fe,st,_t,vt,dn,Pn,$n=ve.length,Bt=0,An=Number.POSITIVE_INFINITY;for(vt=0;vt<$n;++vt)ve[vt]>Bt&&(Bt=ve[vt]),ve[vt]<An&&(An=ve[vt]);for(ge=1<<Bt,we=new(_?Uint32Array:Array)(ge),Re=1,Se=0,Fe=2;Re<=Bt;){for(vt=0;vt<$n;++vt)if(ve[vt]===Re){for(st=0,_t=Se,dn=0;dn<Re;++dn)st=st<<1|1&_t,_t>>=1;for(Pn=Re<<16|vt,dn=st;dn<ge;dn+=Fe)we[dn]=Pn;++Se}++Re,Se<<=1,Fe<<=1}return[we,Bt,An]}function k(ve,ge){this.h=H,this.w=0,this.input=_&&ve instanceof Array?new Uint8Array(ve):ve,this.b=0,ge&&(ge.lazy&&(this.w=ge.lazy),"number"==typeof ge.compressionType&&(this.h=ge.compressionType),ge.outputBuffer&&(this.a=_&&ge.outputBuffer instanceof Array?new Uint8Array(ge.outputBuffer):ge.outputBuffer),"number"==typeof ge.outputIndex&&(this.b=ge.outputIndex)),this.a||(this.a=new(_?Uint8Array:Array)(32768))}O.prototype.getParent=function(ve){return 2*((ve-2)/4|0)},O.prototype.push=function(ve,ge){var we,Re,Se,Fe=this.buffer;for(we=this.length,Fe[this.length++]=ge,Fe[this.length++]=ve;0<we&&(Re=this.getParent(we),Fe[we]>Fe[Re]);)Se=Fe[we],Fe[we]=Fe[Re],Fe[Re]=Se,Se=Fe[we+1],Fe[we+1]=Fe[Re+1],Fe[Re+1]=Se,we=Re;return this.length},O.prototype.pop=function(){var ve,ge,we,Re,Se,Fe=this.buffer;for(ge=Fe[0],ve=Fe[1],this.length-=2,Fe[0]=Fe[this.length],Fe[1]=Fe[this.length+1],Se=0;!((Re=2*Se+2)>=this.length)&&(Re+2<this.length&&Fe[Re+2]>Fe[Re]&&(Re+=2),Fe[Re]>Fe[Se]);)we=Fe[Se],Fe[Se]=Fe[Re],Fe[Re]=we,we=Fe[Se+1],Fe[Se+1]=Fe[Re+1],Fe[Re+1]=we,Se=Re;return{index:ve,value:ge,length:this.length}};var G,H=2,L={NONE:0,r:1,k:H,O:3},j=[];for(G=0;288>G;G++)switch(y){case 143>=G:j.push([G+48,8]);break;case 255>=G:j.push([G-144+400,9]);break;case 279>=G:j.push([G-256+0,7]);break;case 287>=G:j.push([G-280+192,8]);break;default:u("invalid literal: "+G)}k.prototype.j=function(){var ve,ge,we,Re,Se=this.input;switch(this.h){case 0:for(we=0,Re=Se.length;we<Re;){var st,_t,vt=ge=_?Se.subarray(we,we+65535):Se.slice(we,we+65535),dn=(we+=ge.length)===Re,Pn=T,$n=T,Bt=this.a,An=this.b;if(_){for(Bt=new Uint8Array(this.a.buffer);Bt.length<=An+vt.length+5;)Bt=new Uint8Array(Bt.length<<1);Bt.set(this.a)}if(Bt[An++]=0|(dn?1:0),_t=65536+~(st=vt.length)&65535,Bt[An++]=255&st,Bt[An++]=st>>>8&255,Bt[An++]=255&_t,Bt[An++]=_t>>>8&255,_)Bt.set(vt,An),Bt=Bt.subarray(0,An+=vt.length);else{for(Pn=0,$n=vt.length;Pn<$n;++Pn)Bt[An++]=vt[Pn];Bt.length=An}this.b=An,this.a=Bt}break;case 1:var en=new f(_?new Uint8Array(this.a.buffer):this.a,this.b);en.d(1,1,y),en.d(1,2,y);var Lt,Tn,lr,cr=Q(this,Se);for(Lt=0,Tn=cr.length;Lt<Tn;Lt++)if(f.prototype.d.apply(en,j[lr=cr[Lt]]),256<lr)en.d(cr[++Lt],cr[++Lt],y),en.d(cr[++Lt],5),en.d(cr[++Lt],cr[++Lt],y);else if(256===lr)break;this.a=en.finish(),this.b=this.a.length;break;case H:var Fn,Jt,_i,$t,Bi,ur,gt,hr,Fr,Ls,Ou,Us,Nl,dr,ko,$r=new f(_?new Uint8Array(this.a.buffer):this.a,this.b),wi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Br=Array(19);for(Fn=H,$r.d(1,1,y),$r.d(Fn,2,y),Jt=Q(this,Se),gt=J(ur=ee(this.M,15)),Fr=J(hr=ee(this.L,7)),_i=286;257<_i&&0===ur[_i-1];_i--);for($t=30;1<$t&&0===hr[$t-1];$t--);var Qe,Tt,Ut,ui,rn,Pi,cs=_i,on=$t,Ai=new(_?Uint32Array:Array)(cs+on),fr=new(_?Uint32Array:Array)(316),go=new(_?Uint8Array:Array)(19);for(Qe=Tt=0;Qe<cs;Qe++)Ai[Tt++]=ur[Qe];for(Qe=0;Qe<on;Qe++)Ai[Tt++]=hr[Qe];if(!_)for(Qe=0,ui=go.length;Qe<ui;++Qe)go[Qe]=0;for(Qe=rn=0,ui=Ai.length;Qe<ui;Qe+=Tt){for(Tt=1;Qe+Tt<ui&&Ai[Qe+Tt]===Ai[Qe];++Tt);if(Ut=Tt,0===Ai[Qe])if(3>Ut)for(;0<Ut--;)fr[rn++]=0,go[0]++;else for(;0<Ut;)(Pi=138>Ut?Ut:138)>Ut-3&&Pi<Ut&&(Pi=Ut-3),10>=Pi?(fr[rn++]=17,fr[rn++]=Pi-3,go[17]++):(fr[rn++]=18,fr[rn++]=Pi-11,go[18]++),Ut-=Pi;else if(fr[rn++]=Ai[Qe],go[Ai[Qe]]++,3>--Ut)for(;0<Ut--;)fr[rn++]=Ai[Qe],go[Ai[Qe]]++;else for(;0<Ut;)(Pi=6>Ut?Ut:6)>Ut-3&&Pi<Ut&&(Pi=Ut-3),fr[rn++]=16,fr[rn++]=Pi-3,go[16]++,Ut-=Pi}for(ve=_?fr.subarray(0,rn):fr.slice(0,rn),Ls=ee(go,7),dr=0;19>dr;dr++)Br[dr]=Ls[wi[dr]];for(Bi=19;4<Bi&&0===Br[Bi-1];Bi--);for(Ou=J(Ls),$r.d(_i-257,5,y),$r.d($t-1,5,y),$r.d(Bi-4,4,y),dr=0;dr<Bi;dr++)$r.d(Br[dr],3,y);for(dr=0,ko=ve.length;dr<ko;dr++)if($r.d(Ou[Us=ve[dr]],Ls[Us],y),16<=Us){switch(dr++,Us){case 16:Nl=2;break;case 17:Nl=3;break;case 18:Nl=7;break;default:u("invalid code: "+Us)}$r.d(ve[dr],Nl,y)}var Xr,yr,kl,va,Sc,Mu,Gn,fi,Xn=[gt,ur],_o=[Fr,hr];for(Sc=Xn[0],Mu=Xn[1],Gn=_o[0],fi=_o[1],Xr=0,yr=Jt.length;Xr<yr;++Xr)if($r.d(Sc[kl=Jt[Xr]],Mu[kl],y),256<kl)$r.d(Jt[++Xr],Jt[++Xr],y),va=Jt[++Xr],$r.d(Gn[va],fi[va],y),$r.d(Jt[++Xr],Jt[++Xr],y);else if(256===kl)break;this.a=$r.finish(),this.b=this.a.length;break;default:u("invalid compression type")}return this.a};var F=function(){function ve(Se){switch(y){case 3===Se:return[257,Se-3,0];case 4===Se:return[258,Se-4,0];case 5===Se:return[259,Se-5,0];case 6===Se:return[260,Se-6,0];case 7===Se:return[261,Se-7,0];case 8===Se:return[262,Se-8,0];case 9===Se:return[263,Se-9,0];case 10===Se:return[264,Se-10,0];case 12>=Se:return[265,Se-11,1];case 14>=Se:return[266,Se-13,1];case 16>=Se:return[267,Se-15,1];case 18>=Se:return[268,Se-17,1];case 22>=Se:return[269,Se-19,2];case 26>=Se:return[270,Se-23,2];case 30>=Se:return[271,Se-27,2];case 34>=Se:return[272,Se-31,2];case 42>=Se:return[273,Se-35,3];case 50>=Se:return[274,Se-43,3];case 58>=Se:return[275,Se-51,3];case 66>=Se:return[276,Se-59,3];case 82>=Se:return[277,Se-67,4];case 98>=Se:return[278,Se-83,4];case 114>=Se:return[279,Se-99,4];case 130>=Se:return[280,Se-115,4];case 162>=Se:return[281,Se-131,5];case 194>=Se:return[282,Se-163,5];case 226>=Se:return[283,Se-195,5];case 257>=Se:return[284,Se-227,5];case 258===Se:return[285,Se-258,0];default:u("invalid length: "+Se)}}var ge,we,Re=[];for(ge=3;258>=ge;ge++)we=ve(ge),Re[ge]=we[2]<<24|we[1]<<16|we[0];return Re}(),V=_?new Uint32Array(F):F;function Q(ve,ge){function we(Fn,Jt){var _i,$t,Bi,ur,gt=Fn.H,hr=[],Fr=0;switch(hr[Fr++]=65535&(_i=V[Fn.length]),hr[Fr++]=_i>>16&255,hr[Fr++]=_i>>24,y){case 1===gt:$t=[0,gt-1,0];break;case 2===gt:$t=[1,gt-2,0];break;case 3===gt:$t=[2,gt-3,0];break;case 4===gt:$t=[3,gt-4,0];break;case 6>=gt:$t=[4,gt-5,1];break;case 8>=gt:$t=[5,gt-7,1];break;case 12>=gt:$t=[6,gt-9,2];break;case 16>=gt:$t=[7,gt-13,2];break;case 24>=gt:$t=[8,gt-17,3];break;case 32>=gt:$t=[9,gt-25,3];break;case 48>=gt:$t=[10,gt-33,4];break;case 64>=gt:$t=[11,gt-49,4];break;case 96>=gt:$t=[12,gt-65,5];break;case 128>=gt:$t=[13,gt-97,5];break;case 192>=gt:$t=[14,gt-129,6];break;case 256>=gt:$t=[15,gt-193,6];break;case 384>=gt:$t=[16,gt-257,7];break;case 512>=gt:$t=[17,gt-385,7];break;case 768>=gt:$t=[18,gt-513,8];break;case 1024>=gt:$t=[19,gt-769,8];break;case 1536>=gt:$t=[20,gt-1025,9];break;case 2048>=gt:$t=[21,gt-1537,9];break;case 3072>=gt:$t=[22,gt-2049,10];break;case 4096>=gt:$t=[23,gt-3073,10];break;case 6144>=gt:$t=[24,gt-4097,11];break;case 8192>=gt:$t=[25,gt-6145,11];break;case 12288>=gt:$t=[26,gt-8193,12];break;case 16384>=gt:$t=[27,gt-12289,12];break;case 24576>=gt:$t=[28,gt-16385,13];break;case 32768>=gt:$t=[29,gt-24577,13];break;default:u("invalid distance")}for(hr[Fr++]=(_i=$t)[0],hr[Fr++]=_i[1],hr[Fr++]=_i[2],Bi=0,ur=hr.length;Bi<ur;++Bi)An[en++]=hr[Bi];Tn[hr[0]]++,lr[hr[3]]++,Lt=Fn.length+Jt-1,Pn=null}var Re,Se,Fe,st,_t,vt,dn,Pn,$n,Bt={},An=_?new Uint16Array(2*ge.length):[],en=0,Lt=0,Tn=new(_?Uint32Array:Array)(286),lr=new(_?Uint32Array:Array)(30),cr=ve.w;if(!_){for(Fe=0;285>=Fe;)Tn[Fe++]=0;for(Fe=0;29>=Fe;)lr[Fe++]=0}for(Tn[256]=1,Re=0,Se=ge.length;Re<Se;++Re){for(Fe=_t=0,st=3;Fe<st&&Re+Fe!==Se;++Fe)_t=_t<<8|ge[Re+Fe];if(Bt[_t]===T&&(Bt[_t]=[]),vt=Bt[_t],!(0<Lt--)){for(;0<vt.length&&32768<Re-vt[0];)vt.shift();if(Re+3>=Se){for(Pn&&we(Pn,-1),Fe=0,st=Se-Re;Fe<st;++Fe)An[en++]=$n=ge[Re+Fe],++Tn[$n];break}0<vt.length?(dn=W(ge,Re,vt),Pn?Pn.length<dn.length?(An[en++]=$n=ge[Re-1],++Tn[$n],we(dn,0)):we(Pn,-1):dn.length<cr?Pn=dn:we(dn,0)):Pn?we(Pn,-1):(An[en++]=$n=ge[Re],++Tn[$n])}vt.push(Re)}return An[en++]=256,Tn[256]++,ve.M=Tn,ve.L=lr,_?An.subarray(0,en):An}function W(ve,ge,we){var Re,Se,Fe,st,_t,vt,dn=0,Pn=ve.length;st=0,vt=we.length;e:for(;st<vt;st++){if(Re=we[vt-st-1],Fe=3,3<dn){for(_t=dn;3<_t;_t--)if(ve[Re+_t-1]!==ve[ge+_t-1])continue e;Fe=dn}for(;258>Fe&&ge+Fe<Pn&&ve[Re+Fe]===ve[ge+Fe];)++Fe;if(Fe>dn&&(Se=Re,dn=Fe),258===Fe)break}return new function($n,Bt){this.length=$n,this.H=Bt}(dn,ge-Se)}function ee(ve,ge){var we,Re,Se,Fe,st,_t=ve.length,vt=new O(572),dn=new(_?Uint8Array:Array)(_t);if(!_)for(Fe=0;Fe<_t;Fe++)dn[Fe]=0;for(Fe=0;Fe<_t;++Fe)0<ve[Fe]&&vt.push(Fe,ve[Fe]);if(we=Array(vt.length/2),Re=new(_?Uint32Array:Array)(vt.length/2),1===we.length)return dn[vt.pop().index]=1,dn;for(Fe=0,st=vt.length/2;Fe<st;++Fe)we[Fe]=vt.pop(),Re[Fe]=we[Fe].value;for(Se=function(Pn,$n,Bt){function An(Fr){var Ls=Bi[Fr][ur[Fr]];Ls===$n?(An(Fr+1),An(Fr+1)):--_i[Ls],++ur[Fr]}var en,Lt,Tn,lr,cr,Fn=new(_?Uint16Array:Array)(Bt),Jt=new(_?Uint8Array:Array)(Bt),_i=new(_?Uint8Array:Array)($n),$t=Array(Bt),Bi=Array(Bt),ur=Array(Bt),gt=(1<<Bt)-$n,hr=1<<Bt-1;for(Fn[Bt-1]=$n,Lt=0;Lt<Bt;++Lt)gt<hr?Jt[Lt]=0:(Jt[Lt]=1,gt-=hr),gt<<=1,Fn[Bt-2-Lt]=(Fn[Bt-1-Lt]/2|0)+$n;for(Fn[0]=Jt[0],$t[0]=Array(Fn[0]),Bi[0]=Array(Fn[0]),Lt=1;Lt<Bt;++Lt)Fn[Lt]>2*Fn[Lt-1]+Jt[Lt]&&(Fn[Lt]=2*Fn[Lt-1]+Jt[Lt]),$t[Lt]=Array(Fn[Lt]),Bi[Lt]=Array(Fn[Lt]);for(en=0;en<$n;++en)_i[en]=Bt;for(Tn=0;Tn<Fn[Bt-1];++Tn)$t[Bt-1][Tn]=Pn[Tn],Bi[Bt-1][Tn]=Tn;for(en=0;en<Bt;++en)ur[en]=0;for(1===Jt[Bt-1]&&(--_i[0],++ur[Bt-1]),Lt=Bt-2;0<=Lt;--Lt){for(lr=en=0,cr=ur[Lt+1],Tn=0;Tn<Fn[Lt];Tn++)(lr=$t[Lt+1][cr]+$t[Lt+1][cr+1])>Pn[en]?($t[Lt][Tn]=lr,Bi[Lt][Tn]=$n,cr+=2):($t[Lt][Tn]=Pn[en],Bi[Lt][Tn]=en,++en);ur[Lt]=0,1===Jt[Lt]&&An(Lt)}return _i}(Re,Re.length,ge),Fe=0,st=we.length;Fe<st;++Fe)dn[we[Fe].index]=Se[Fe];return dn}function J(ve){var ge,we,Re,Se,Fe=new(_?Uint16Array:Array)(ve.length),st=[],_t=[],vt=0;for(ge=0,we=ve.length;ge<we;ge++)st[ve[ge]]=1+(0|st[ve[ge]]);for(ge=1,we=16;ge<=we;ge++)_t[ge]=vt,vt+=0|st[ge],vt<<=1;for(ge=0,we=ve.length;ge<we;ge++)for(vt=_t[ve[ge]],_t[ve[ge]]+=1,Re=Fe[ge]=0,Se=ve[ge];Re<Se;Re++)Fe[ge]=Fe[ge]<<1|1&vt,vt>>>=1;return Fe}function ue(ve,ge){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=_?new Uint8Array(ve):ve,this.s=!1,this.n=_e,this.C=!1,!ge&&(ge={})||(ge.index&&(this.c=ge.index),ge.bufferSize&&(this.m=ge.bufferSize),ge.bufferType&&(this.n=ge.bufferType),ge.resize&&(this.C=ge.resize)),this.n){case Ce:this.b=32768,this.a=new(_?Uint8Array:Array)(32768+this.m+258);break;case _e:this.b=0,this.a=new(_?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:u(Error("invalid inflate mode"))}}var Ce=0,_e=1,Ee={F:Ce,D:_e};ue.prototype.p=function(){for(;!this.s;){var ve=et(this,3);switch(1&ve&&(this.s=y),ve>>>=1){case 0:var ge=this.input,we=this.c,Re=this.a,Se=this.b,Fe=ge.length,st=T,_t=Re.length,vt=T;switch(this.e=this.g=0,we+1>=Fe&&u(Error("invalid uncompressed block header: LEN")),st=ge[we++]|ge[we++]<<8,we+1>=Fe&&u(Error("invalid uncompressed block header: NLEN")),st===~(ge[we++]|ge[we++]<<8)&&u(Error("invalid uncompressed block header: length verify")),we+st>ge.length&&u(Error("input buffer is broken")),this.n){case Ce:for(;Se+st>Re.length;){if(st-=vt=_t-Se,_)Re.set(ge.subarray(we,we+vt),Se),Se+=vt,we+=vt;else for(;vt--;)Re[Se++]=ge[we++];this.b=Se,Re=this.f(),Se=this.b}break;case _e:for(;Se+st>Re.length;)Re=this.f({v:2});break;default:u(Error("invalid inflate mode"))}if(_)Re.set(ge.subarray(we,we+st),Se),Se+=st,we+=st;else for(;st--;)Re[Se++]=ge[we++];this.c=we,this.b=Se,this.a=Re;break;case 1:this.o(pe,ze);break;case 2:He(this);break;default:u(Error("unknown BTYPE: "+ve))}}return this.t()};var X,se,Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=_?new Uint16Array(Z):Z,oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],le=_?new Uint16Array(oe):oe,de=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Be=_?new Uint8Array(de):de,Je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Le=_?new Uint16Array(Je):Je,Mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qe=_?new Uint8Array(Mt):Mt,je=new(_?Uint8Array:Array)(288);for(X=0,se=je.length;X<se;++X)je[X]=143>=X?8:255>=X?9:279>=X?7:8;var ie,fe,pe=x(je),Ge=new(_?Uint8Array:Array)(30);for(ie=0,fe=Ge.length;ie<fe;++ie)Ge[ie]=5;var ze=x(Ge);function et(ve,ge){for(var we,Re=ve.g,Se=ve.e,Fe=ve.input,st=ve.c,_t=Fe.length;Se<ge;)st>=_t&&u(Error("input buffer is broken")),Re|=Fe[st++]<<Se,Se+=8;return we=Re&(1<<ge)-1,ve.g=Re>>>ge,ve.e=Se-ge,ve.c=st,we}function xe(ve,ge){for(var we,Re,Se=ve.g,Fe=ve.e,st=ve.input,_t=ve.c,vt=st.length,dn=ge[0],Pn=ge[1];Fe<Pn&&!(_t>=vt);)Se|=st[_t++]<<Fe,Fe+=8;return Re=(we=dn[Se&(1<<Pn)-1])>>>16,ve.g=Se>>Re,ve.e=Fe-Re,ve.c=_t,65535&we}function He(ve){function ge(Pn,$n,Bt){var An,en,Lt,Tn=this.z;for(Lt=0;Lt<Pn;)switch(An=xe(this,$n),An){case 16:for(en=3+et(this,2);en--;)Bt[Lt++]=Tn;break;case 17:for(en=3+et(this,3);en--;)Bt[Lt++]=0;Tn=0;break;case 18:for(en=11+et(this,7);en--;)Bt[Lt++]=0;Tn=0;break;default:Tn=Bt[Lt++]=An}return this.z=Tn,Bt}var we,Re,Se,Fe,st=et(ve,5)+257,_t=et(ve,5)+1,vt=et(ve,4)+4,dn=new(_?Uint8Array:Array)(be.length);for(Fe=0;Fe<vt;++Fe)dn[be[Fe]]=et(ve,3);if(!_)for(Fe=vt,vt=dn.length;Fe<vt;++Fe)dn[be[Fe]]=0;we=x(dn),Re=new(_?Uint8Array:Array)(st),Se=new(_?Uint8Array:Array)(_t),ve.z=0,ve.o(x(ge.call(ve,st,we,Re)),x(ge.call(ve,_t,we,Se)))}function zt(ve){if("string"==typeof ve){var ge,we,Re=ve.split("");for(ge=0,we=Re.length;ge<we;ge++)Re[ge]=(255&Re[ge].charCodeAt(0))>>>0;ve=Re}for(var Se,Fe=1,st=0,_t=ve.length,vt=0;0<_t;){_t-=Se=1024<_t?1024:_t;do{st+=Fe+=ve[vt++]}while(--Se);Fe%=65521,st%=65521}return(st<<16|Fe)>>>0}function It(ve,ge){var we,Re;this.input=ve,this.c=0,!ge&&(ge={})||(ge.index&&(this.c=ge.index),ge.verify&&(this.N=ge.verify)),we=ve[this.c++],Re=ve[this.c++],(15&we)===qt?this.method=qt:u(Error("unsupported compression method")),((we<<8)+Re)%31!=0&&u(Error("invalid fcheck flag:"+((we<<8)+Re)%31)),32&Re&&u(Error("fdict flag is not supported")),this.B=new ue(ve,{index:this.c,bufferSize:ge.bufferSize,bufferType:ge.bufferType,resize:ge.resize})}ue.prototype.o=function(ve,ge){var we=this.a,Re=this.b;this.u=ve;for(var Se,Fe,st,_t,vt=we.length-258;256!==(Se=xe(this,ve));)if(256>Se)Re>=vt&&(this.b=Re,we=this.f(),Re=this.b),we[Re++]=Se;else for(_t=le[Fe=Se-257],0<Be[Fe]&&(_t+=et(this,Be[Fe])),Se=xe(this,ge),st=Le[Se],0<qe[Se]&&(st+=et(this,qe[Se])),Re>=vt&&(this.b=Re,we=this.f(),Re=this.b);_t--;)we[Re]=we[Re++-st];for(;8<=this.e;)this.e-=8,this.c--;this.b=Re},ue.prototype.J=function(ve,ge){var we=this.a,Re=this.b;this.u=ve;for(var Se,Fe,st,_t,vt=we.length;256!==(Se=xe(this,ve));)if(256>Se)Re>=vt&&(vt=(we=this.f()).length),we[Re++]=Se;else for(_t=le[Fe=Se-257],0<Be[Fe]&&(_t+=et(this,Be[Fe])),Se=xe(this,ge),st=Le[Se],0<qe[Se]&&(st+=et(this,qe[Se])),Re+_t>vt&&(vt=(we=this.f()).length);_t--;)we[Re]=we[Re++-st];for(;8<=this.e;)this.e-=8,this.c--;this.b=Re},ue.prototype.f=function(){var ve,ge,we=new(_?Uint8Array:Array)(this.b-32768),Re=this.b-32768,Se=this.a;if(_)we.set(Se.subarray(32768,we.length));else for(ve=0,ge=we.length;ve<ge;++ve)we[ve]=Se[ve+32768];if(this.l.push(we),this.q+=we.length,_)Se.set(Se.subarray(Re,Re+32768));else for(ve=0;32768>ve;++ve)Se[ve]=Se[Re+ve];return this.b=32768,Se},ue.prototype.K=function(ve){var ge,we,Re,Se=this.input.length/this.c+1|0,st=this.a;return ve&&("number"==typeof ve.v&&(Se=ve.v),"number"==typeof ve.G&&(Se+=ve.G)),we=2>Se?(Re=(this.input.length-this.c)/this.u[2]/2*258|0)<st.length?st.length+Re:st.length<<1:st.length*Se,_?(ge=new Uint8Array(we)).set(st):ge=st,this.a=ge},ue.prototype.t=function(){var ve,ge,we,Re,Se,Fe=0,st=this.a,_t=this.l,vt=new(_?Uint8Array:Array)(this.q+(this.b-32768));if(0===_t.length)return _?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(ge=0,we=_t.length;ge<we;++ge)for(Re=0,Se=(ve=_t[ge]).length;Re<Se;++Re)vt[Fe++]=ve[Re];for(ge=32768,we=this.b;ge<we;++ge)vt[Fe++]=st[ge];return this.l=[],this.buffer=vt},ue.prototype.I=function(){var ve,ge=this.b;return _?this.C?(ve=new Uint8Array(ge)).set(this.a.subarray(0,ge)):ve=this.a.subarray(0,ge):(this.a.length>ge&&(this.a.length=ge),ve=this.a),this.buffer=ve},It.prototype.p=function(){var ve,ge=this.input;return ve=this.B.p(),this.c=this.B.c,this.N&&(ge[this.c++]<<24|ge[this.c++]<<16|ge[this.c++]<<8|ge[this.c++])>>>0!==zt(ve)&&u(Error("invalid adler-32 checksum")),ve};var qt=8;function zn(ve,ge){this.input=ve,this.a=new(_?Uint8Array:Array)(32768),this.h=tt.k;var we,Re={};for(we in!ge&&(ge={})||"number"!=typeof ge.compressionType||(this.h=ge.compressionType),ge)Re[we]=ge[we];Re.outputBuffer=this.a,this.A=new k(this.input,Re)}var tt=L;function ft(ve,ge){var we,Re,Se,Fe;if(Object.keys)we=Object.keys(ge);else for(Re in we=[],Se=0,ge)we[Se++]=Re;for(Se=0,Fe=we.length;Se<Fe;++Se)m(ve+"."+(Re=we[Se]),ge[Re])}zn.prototype.j=function(){var ve,ge,we,Re,Se,Fe,st,_t=0;if(st=this.a,(ve=qt)===qt?ge=Math.LOG2E*Math.log(32768)-8:u(Error("invalid compression method")),st[_t++]=we=ge<<4|ve,ve===qt)switch(this.h){case tt.NONE:Se=0;break;case tt.r:Se=1;break;case tt.k:Se=2;break;default:u(Error("unsupported compression type"))}else u(Error("invalid compression method"));return st[_t++]=(Re=Se<<6|0)|31-(256*we+Re)%31,Fe=zt(this.input),this.A.b=_t,_t=(st=this.A.j()).length,_&&((st=new Uint8Array(st.buffer)).length<=_t+4&&(this.a=new Uint8Array(st.length+4),this.a.set(st),st=this.a),st=st.subarray(0,_t+4)),st[_t++]=Fe>>24&255,st[_t++]=Fe>>16&255,st[_t++]=Fe>>8&255,st[_t++]=255&Fe,st},m("Zlib.Inflate",It),m("Zlib.Inflate.prototype.decompress",It.prototype.p),ft("Zlib.Inflate.BufferType",{ADAPTIVE:Ee.D,BLOCK:Ee.F}),m("Zlib.Deflate",zn),m("Zlib.Deflate.compress",function(ve,ge){return new zn(ve,ge).j()}),m("Zlib.Deflate.prototype.compress",zn.prototype.j),ft("Zlib.Deflate.CompressionType",{NONE:tt.NONE,FIXED:tt.r,DYNAMIC:tt.k})}).call(this)},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SocketEngine=M.SocketEvent=void 0;var T,y=function(){function G(H,L){for(var j=0;j<L.length;j++){var F=L[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(H,F.key,F)}}return function(H,L,j){return L&&G(H.prototype,L),j&&G(H,j),H}}(),m=(T=u(120))&&T.__esModule?T:{default:T},_=u(167),f=u(39),p=u(8),d=u(2),b=u(50),C=u(51),h=u(1);function v(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var O=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),x=function(G){function H(L){v(this,H);var j=function(F,V){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?F:V}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return j._sfs=L,j._logger=b.Logger.instance,j._isConnected=!1,j._isConnecting=!1,j._socket=null,j._protocolCodec=new k(L),j._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN,Object.seal(j),j}return function(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}(H,f.EventDispatcher),y(H,[{key:"connect",value:function(L,j,F){this._isConnecting=!0,this._socket=new WebSocket("ws"+(F?"s":"")+"://"+L+":"+j+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(L){this._disconnectionReason=L,this._socket.close()}},{key:"addController",value:function(L,j){null==this._controllers[L]&&(this._controllers[L]=j)}},{key:"removeController",value:function(L){delete this._controllers[L]}},{key:"send",value:function(L){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+L.dump());var j=this._protocolCodec.onPacketWrite(L);this._socket.send(j)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(O.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(L){var j=this._scope._protocolCodec.onPacketRead(L.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+j.dump()),this._scope.dispatchEvent(O.DATA,j)}},{key:"_onSocketError",value:function(L){this._scope.dispatchEvent(O.IOERROR,L.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(L){this._protocolCodec.maxMessageSize=L}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(L){this._protocolCodec.compressionThreshold=L}}]),H}(),k=function(){function G(H){v(this,G),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=H,this._logger=b.Logger.instance,Object.seal(this)}return y(G,[{key:"onPacketRead",value:function(H){if(0!==H.byteLength){var L=new m.default(H,0,m.default.BIG_ENDIAN),j=L.readUint8(),F=(32&j)>0,V=(8&j)>0?L.readUint32():L.readUint16(),Q=L.readUint8Array(V);F&&(Q=this.decompress(Q)),this._sfs.debug&&this._logger.debug(H.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+C.DumpFormatter.hexDump(Q));var W=p.SFSObject.newFromBinaryData(Q);return new d.Message(W.get(this.ACTION_ID),W.get(this.CONTROLLER_ID),W.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(H){var L=new p.SFSObject;L.put(this.CONTROLLER_ID,H.targetController,p.SFSDataType.BYTE),L.put(this.ACTION_ID,H.id,p.SFSDataType.SHORT),L.put(this.PARAM_ID,H.content,p.SFSDataType.SFS_OBJECT);var j=L.toBinary(),F=j.byteLength,V=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN),Q=128;F>this.compressionThreshold&&(Q+=32,F=(j=this.compress(j)).byteLength);var W=F>65335;W&&(Q+=8),V.writeUint8(Q),W?V.writeUint32(F):V.writeUint16(F),V.writeUint8Array(j);var ee=new Uint8Array(V.buffer);if(ee.byteLength>this.maxMessageSize)throw new h.SFSError("Message size is too big: "+ee.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+C.DumpFormatter.hexDump(ee)),ee}},{key:"decompress",value:function(H){return new _.Zlib.Inflate(H).decompress()}},{key:"compress",value:function(H){return new _.Zlib.Deflate(H).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(H){this._maxMessageSize=H}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(H){this._compressionThreshold=H}}]),G}();M.SocketEvent=O,M.SocketEngine=x},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ExtensionController=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=u(39),S=u(97),m=function(){function _(f){(function(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")})(this,_),this._sfs=f,this._logger=f.logger,this._id=1,Object.freeze(this)}return T(_,[{key:"handleMessage",value:function(f,p){this._sfs.debug&&this._logger.info("Handling Extension response");var d={};d.cmd=f.get(S.ExtensionRequest.KEY_CMD),d.params=f.get(S.ExtensionRequest.KEY_PARAMS);var b=f.get(S.ExtensionRequest.KEY_ROOM);null!=b&&(d.room=this._sfs.roomManager.getRoomById(b)),this._sfs.dispatchEvent(y.SFSEvent.EXTENSION_RESPONSE,d)}},{key:"id",get:function(){return this._id}}]),_}();M.ExtensionController=m},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function S(m,_){for(var f=0;f<_.length;f++){var p=_[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,_,f){return _&&S(m.prototype,_),f&&S(m,f),m}}(),y=function(){function S(){!function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,S)}return T(S,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),S}();M.SetMMOItemVariables=y},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMOItem=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=u(73),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=_,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return T(m,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=_[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._setVariable(b.value)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(_){var f=new m(_.get(0)),p=_.get(1);if(null!=p)for(var d=0;d<p.size();d++)f._setVariable(y.MMOItemVariable.fromSFSArray(p.get(d)));return f}}]),m}();M.MMOItem=S},function(U,M){!function(u){"use strict";function T(F,V,Q){return V<=F&&F<=Q}function y(F,V){return Math.floor(F/V)}var S=-1,m=-1;function _(F,V){if(F)throw new Error("EncodingError");return V||65533}function f(F){throw new Error("EncodingError")}function p(F){if(F=String(F).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(b,F))return b[F];throw new Error("EncodingError: Unknown encoding: "+F)}var d={},b={};function C(F,V){return(V||[])[F]||null}function h(F,V){var Q=V.indexOf(F);return-1===Q?null:Q}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(F){F.encodings.forEach(function(V){d[V.name]=V,V.labels.forEach(function(Q){b[Q]=V})})});var v=u["encoding-indexes"]||{};function O(F,V){var Q=V.fatal,W=0,ee=0,J=0;this.decode=function(ue){var Ce,_e=ue.get();if(_e===S&&0===W&&0===ee&&0===J)return m;if(_e!==S||0===W&&0===ee&&0===J||(W=0,ee=0,J=0,_(Q)),ue.offset(1),0!==J)return Ce=null,T(_e,48,57)&&(Ce=function(Z){if(Z>39419&&Z<189e3||Z>1237575)return null;var be,oe=0,le=0,de=v.gb18030;for(be=0;be<de.length;++be){var Be=de[be];if(!(Be[0]<=Z))break;oe=Be[0],le=Be[1]}return le+Z-oe}(10*(126*(10*(W-129)+(ee-48))+(J-129))+_e-48)),W=0,ee=0,J=0,null===Ce?(ue.offset(-3),_(Q)):Ce;if(0!==ee)return T(_e,129,254)?(J=_e,null):(ue.offset(-2),W=0,ee=0,_(Q));if(0!==W){if(T(_e,48,57)&&F)return ee=_e,null;var Ee=W,X=null;W=0;var se=_e<127?64:65;return(T(_e,64,126)||T(_e,128,254))&&(X=190*(Ee-129)+(_e-se)),Ce=null===X?null:C(X,v.gbk),null===X&&ue.offset(-1),null===Ce?_(Q):Ce}return T(_e,0,127)?_e:128===_e?8364:T(_e,129,254)?(W=_e,null):_(Q)}}function x(F,V){this.encode=function(Q,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return Q.emit(ee);var J=h(ee,v.gbk);if(null!==J){var ue=y(J,190)+129,Ce=J%190;return Q.emit(ue,Ce+(Ce<63?64:65))}if(null===J&&!F)return f();var Ee=y(y(y(J=function(be){var oe,le=0,de=0,Be=v.gb18030;for(oe=0;oe<Be.length;++oe){var Je=Be[oe];if(!(Je[1]<=be))break;le=Je[1],de=Je[0]}return de+be-le}(ee),10),126),10),X=y(y(J-=10*Ee*126*10,10),126),se=y(J-=10*X*126,10);return Q.emit(Ee+129,X+48,se+129,J-10*se+48)}}function k(F,V){var Q=V.fatal,W=null,ee=null;this.decode=function(J){var ue,Ce=J.get();if(Ce===S&&null===W&&null===ee)return m;if(Ce===S&&(null!==W||null!==ee))return _(Q);if(J.offset(1),null===W)return W=Ce,null;if(ue=F?(W<<8)+Ce:(Ce<<8)+W,W=null,null!==ee){var _e=ee;return ee=null,T(ue,56320,57343)?65536+1024*(_e-55296)+(ue-56320):(J.offset(-2),_(Q))}return T(ue,55296,56319)?(ee=ue,null):T(ue,56320,57343)?_(Q):ue}}function G(F,V){this.encode=function(Q,W){function ee(Ce){var _e=Ce>>8,Ee=255&Ce;return F?Q.emit(_e,Ee):Q.emit(Ee,_e)}var J=W.get();if(J===m)return S;if(W.offset(1),T(J,55296,57343)&&f(),J<=65535)return ee(J);var ue=(J-65536)%1024+56320;return ee(y(J-65536,1024)+55296),ee(ue)}}d["utf-8"].getEncoder=function(F){return new function(V){this.encode=function(Q,W){var ee,J,ue=W.get();if(ue===m)return S;if(W.offset(1),T(ue,55296,57343))return f();if(T(ue,0,127))return Q.emit(ue);T(ue,128,2047)?(ee=1,J=192):T(ue,2048,65535)?(ee=2,J=224):T(ue,65536,1114111)&&(ee=3,J=240);for(var Ce=Q.emit(y(ue,Math.pow(64,ee))+J);ee>0;){var _e=y(ue,Math.pow(64,ee-1));Ce=Q.emit(128+_e%64),ee-=1}return Ce}}(F)},d["utf-8"].getDecoder=function(F){return new function(V){var Q=V.fatal,W=0,ee=0,J=0,ue=0;this.decode=function(Ce){var _e=Ce.get();if(_e===S)return 0!==ee?_(Q):m;if(Ce.offset(1),0===ee){if(T(_e,0,127))return _e;if(T(_e,194,223))ee=1,ue=128,W=_e-192;else if(T(_e,224,239))ee=2,ue=2048,W=_e-224;else{if(!T(_e,240,244))return _(Q);ee=3,ue=65536,W=_e-240}return W*=Math.pow(64,ee),null}if(!T(_e,128,191))return W=0,ee=0,J=0,ue=0,Ce.offset(-1),_(Q);if(J+=1,W+=(_e-128)*Math.pow(64,ee-J),J!==ee)return null;var Ee=W,X=ue;return W=0,ee=0,J=0,ue=0,T(Ee,X,1114111)&&!T(Ee,55296,57343)?Ee:_(Q)}}(F)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(F){var V=d[F],Q=v[F];V.getDecoder=function(W){return new function(ee,J){var ue=J.fatal;this.decode=function(Ce){var _e=Ce.get();if(_e===S)return m;if(Ce.offset(1),T(_e,0,127))return _e;var Ee=ee[_e-128];return null===Ee?_(ue):Ee}}(Q,W)},V.getEncoder=function(W){return new function(ee,J){this.encode=function(ue,Ce){var _e=Ce.get();if(_e===m)return S;if(Ce.offset(1),T(_e,0,127))return ue.emit(_e);var Ee=h(_e,ee);return null===Ee&&f(),ue.emit(Ee+128)}}(Q,W)}}),d.gbk.getEncoder=function(F){return new x(!1,F)},d.gbk.getDecoder=function(F){return new O(!1,F)},d.gb18030.getEncoder=function(F){return new x(!0,F)},d.gb18030.getDecoder=function(F){return new O(!0,F)},d["hz-gb-2312"].getEncoder=function(F){return new function(V){var Q=!1;this.encode=function(W,ee){var J=ee.get();if(J===m)return S;if(ee.offset(1),T(J,0,127)&&Q)return ee.offset(-1),Q=!1,W.emit(126,125);if(126===J)return W.emit(126,126);if(T(J,0,127))return W.emit(J);if(!Q)return ee.offset(-1),Q=!0,W.emit(126,123);var ue=h(J,v.gbk);if(null===ue)return f();var Ce=y(ue,190)+1,_e=ue%190-63;return T(Ce,33,126)&&T(_e,33,126)?W.emit(Ce,_e):f()}}(F)},d["hz-gb-2312"].getDecoder=function(F){return new function(V){var Q=V.fatal,W=!1,ee=0;this.decode=function(J){var ue=J.get();if(ue===S&&0===ee)return m;if(ue===S&&0!==ee)return ee=0,_(Q);if(J.offset(1),126===ee)return ee=0,123===ue?(W=!0,null):125===ue?(W=!1,null):126===ue?126:10===ue?null:(J.offset(-1),_(Q));if(0!==ee){var Ce=ee;ee=0;var _e=null;return T(ue,33,126)&&(_e=C(190*(Ce-1)+(ue+63),v.gbk)),10===ue&&(W=!1),null===_e?_(Q):_e}return 126===ue?(ee=126,null):W?T(ue,32,127)?(ee=ue,null):(10===ue&&(W=!1),_(Q)):T(ue,0,127)?ue:_(Q)}}(F)},d.big5.getEncoder=function(F){return new function(V){this.encode=function(Q,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return Q.emit(ee);var J=h(ee,v.big5);if(null===J)return f();var ue=y(J,157)+129,Ce=J%157;return Q.emit(ue,Ce+(Ce<63?64:98))}}(F)},d.big5.getDecoder=function(F){return new function(V){var Q=V.fatal,W=0,ee=null;this.decode=function(J){if(null!==ee){var ue=ee;return ee=null,ue}var Ce=J.get();if(Ce===S&&0===W)return m;if(Ce===S&&0!==W)return W=0,_(Q);if(J.offset(1),0!==W){var _e=W,Ee=null;W=0;var X=Ce<127?64:98;if((T(Ce,64,126)||T(Ce,161,254))&&(Ee=157*(_e-129)+(Ce-X)),1133===Ee)return ee=772,202;if(1135===Ee)return ee=780,202;if(1164===Ee)return ee=772,234;if(1166===Ee)return ee=780,234;var se=null===Ee?null:C(Ee,v.big5);return null===Ee&&J.offset(-1),null===se?_(Q):se}return T(Ce,0,127)?Ce:T(Ce,129,254)?(W=Ce,null):_(Q)}}(F)},d["euc-jp"].getEncoder=function(F){return new function(V){this.encode=function(Q,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return Q.emit(ee);if(165===ee)return Q.emit(92);if(8254===ee)return Q.emit(126);if(T(ee,65377,65439))return Q.emit(142,ee-65377+161);var J=h(ee,v.jis0208);if(null===J)return f();var ue=y(J,94)+161;return Q.emit(ue,J%94+161)}}(F)},d["euc-jp"].getDecoder=function(F){return new function(V){var Q=V.fatal,W=0,ee=0;this.decode=function(J){var ue,Ce,_e=J.get();return _e===S?0===W&&0===ee?m:(W=0,ee=0,_(Q)):(J.offset(1),0!==ee?(ue=ee,ee=0,Ce=null,T(ue,161,254)&&T(_e,161,254)&&(Ce=C(94*(ue-161)+_e-161,v.jis0212)),T(_e,161,254)||J.offset(-1),null===Ce?_(Q):Ce):142===W&&T(_e,161,223)?(W=0,65377+_e-161):143===W&&T(_e,161,254)?(W=0,ee=_e,null):0!==W?(ue=W,W=0,Ce=null,T(ue,161,254)&&T(_e,161,254)&&(Ce=C(94*(ue-161)+_e-161,v.jis0208)),T(_e,161,254)||J.offset(-1),null===Ce?_(Q):Ce):T(_e,0,127)?_e:142===_e||143===_e||T(_e,161,254)?(W=_e,null):_(Q))}}(F)},d["iso-2022-jp"].getEncoder=function(F){return new function(V){var J=0;this.encode=function(ue,Ce){var _e=Ce.get();if(_e===m)return S;if(Ce.offset(1),(T(_e,0,127)||165===_e||8254===_e)&&0!==J)return Ce.offset(-1),J=0,ue.emit(27,40,66);if(T(_e,0,127))return ue.emit(_e);if(165===_e)return ue.emit(92);if(8254===_e)return ue.emit(126);if(T(_e,65377,65439)&&2!==J)return Ce.offset(-1),J=2,ue.emit(27,40,73);if(T(_e,65377,65439))return ue.emit(_e-65377-33);if(1!==J)return Ce.offset(-1),J=1,ue.emit(27,36,66);var Ee=h(_e,v.jis0208);if(null===Ee)return f();var X=y(Ee,94)+33;return ue.emit(X,Ee%94+33)}}(F)},d["iso-2022-jp"].getDecoder=function(F){return new function(V){var Q=V.fatal,X=0,se=!1,Z=0;this.decode=function(be){var oe=be.get();switch(oe!==S&&be.offset(1),X){default:case 0:return 27===oe?(X=1,null):T(oe,0,127)?oe:oe===S?m:_(Q);case 1:return 36===oe||40===oe?(Z=oe,X=2,null):(oe!==S&&be.offset(-1),X=0,_(Q));case 2:var le=Z;return Z=0,36!==le||64!==oe&&66!==oe?36===le&&40===oe?(X=3,null):40!==le||66!==oe&&74!==oe?40===le&&73===oe?(X=6,null):(be.offset(oe===S?-1:-2),X=0,_(Q)):(X=0,null):(se=!1,X=4,null);case 3:return 68===oe?(se=!0,X=4,null):(be.offset(oe===S?-2:-3),X=0,_(Q));case 4:return 10===oe?(X=0,_(Q,10)):27===oe?(X=1,null):oe===S?m:(Z=oe,X=5,null);case 5:if(X=4,oe===S)return _(Q);var de=null,Be=94*(Z-33)+oe-33;return T(Z,33,126)&&T(oe,33,126)&&(de=C(Be,!1===se?v.jis0208:v.jis0212)),null===de?_(Q):de;case 6:return 27===oe?(X=1,null):T(oe,33,95)?65377+oe-33:oe===S?m:_(Q)}}}(F)},d.shift_jis.getEncoder=function(F){return new function(V){this.encode=function(Q,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,128))return Q.emit(ee);if(165===ee)return Q.emit(92);if(8254===ee)return Q.emit(126);if(T(ee,65377,65439))return Q.emit(ee-65377+161);var J=h(ee,v.jis0208);if(null===J)return f();var ue=y(J,188),_e=J%188;return Q.emit(ue+(ue<31?129:193),_e+(_e<63?64:65))}}(F)},d.shift_jis.getDecoder=function(F){return new function(V){var Q=V.fatal,W=0;this.decode=function(ee){var J=ee.get();if(J===S&&0===W)return m;if(J===S&&0!==W)return W=0,_(Q);if(ee.offset(1),0!==W){var ue=W;if(W=0,T(J,64,126)||T(J,128,252)){var Ce=C(188*(ue-(ue<160?129:193))+J-(J<127?64:65),v.jis0208);return null===Ce?_(Q):Ce}return ee.offset(-1),_(Q)}return T(J,0,128)?J:T(J,161,223)?65377+J-161:T(J,129,159)||T(J,224,252)?(W=J,null):_(Q)}}(F)},d["euc-kr"].getEncoder=function(F){return new function(V){this.encode=function(Q,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return Q.emit(ee);var J,ue,Ce=h(ee,v["euc-kr"]);if(null===Ce)return f();if(Ce<12460){J=y(Ce,178)+129;var _e=(ue=Ce%178)<26?65:ue<52?71:77;return Q.emit(J,ue+_e)}return J=y(Ce-=12460,94)+199,Q.emit(J,ue=Ce%94+161)}}(F)},d["euc-kr"].getDecoder=function(F){return new function(V){var Q=V.fatal,W=0;this.decode=function(ee){var J=ee.get();if(J===S&&0===W)return m;if(J===S&&0!==W)return W=0,_(Q);if(ee.offset(1),0!==W){var ue=W,Ce=null;if(W=0,T(ue,129,198)){var _e=178*(ue-129);T(J,65,90)?Ce=_e+J-65:T(J,97,122)?Ce=_e+26+J-97:T(J,129,254)&&(Ce=_e+26+26+J-129)}T(ue,199,253)&&T(J,161,254)&&(Ce=12460+94*(ue-199)+(J-161));var Ee=null===Ce?null:C(Ce,v["euc-kr"]);return null===Ce&&ee.offset(-1),null===Ee?_(Q):Ee}return T(J,0,127)?J:T(J,129,253)?(W=J,null):_(Q)}}(F)},d["iso-2022-kr"].getEncoder=function(F){return new function(V){var ee=!1,J=0;this.encode=function(ue,Ce){var _e=Ce.get();if(_e===m)return S;if(ee||(ee=!0,ue.emit(27,36,41,67)),Ce.offset(1),T(_e,0,127)&&0!==J)return Ce.offset(-1),J=0,ue.emit(15);if(T(_e,0,127))return ue.emit(_e);if(1!==J)return Ce.offset(-1),J=1,ue.emit(14);var Ee,X,se=h(_e,v["euc-kr"]);return null===se?f():se<12460?(X=se%178-26-26+1,T(Ee=y(se,178)+1,33,70)&&T(X,33,126)?ue.emit(Ee,X):f()):(X=(se-=12460)%94+33,T(Ee=y(se,94)+71,71,126)&&T(X,33,126)?ue.emit(Ee,X):f())}}(F)},d["iso-2022-kr"].getDecoder=function(F){return new function(V){var Q=V.fatal,Ee=0,X=0;this.decode=function(se){var Z=se.get();switch(Z!==S&&se.offset(1),Ee){default:case 0:return 14===Z?(Ee=4,null):15===Z?null:27===Z?(Ee=1,null):T(Z,0,127)?Z:Z===S?m:_(Q);case 1:return 36===Z?(Ee=2,null):(Z!==S&&se.offset(-1),Ee=0,_(Q));case 2:return 41===Z?(Ee=3,null):(se.offset(Z===S?-1:-2),Ee=0,_(Q));case 3:return 67===Z?(Ee=0,null):(se.offset(Z===S?-2:-3),Ee=0,_(Q));case 4:return 10===Z?(Ee=0,_(Q,10)):14===Z?null:15===Z?(Ee=0,null):Z===S?m:(X=Z,Ee=5,null);case 5:if(Ee=4,Z===S)return _(Q);var be=null;return T(X,33,70)&&T(Z,33,126)?be=C(178*(X-1)+26+26+Z-1,v["euc-kr"]):T(X,71,126)&&T(Z,33,126)&&(be=C(12460+94*(X-71)+(Z-33),v["euc-kr"])),null!==be?be:_(Q)}}}(F)},d["utf-16"].getEncoder=function(F){return new G(!1,F)},d["utf-16"].getDecoder=function(F){return new k(!1,F)},d["utf-16be"].getEncoder=function(F){return new G(!0,F)},d["utf-16be"].getDecoder=function(F){return new k(!0,F)};var H="utf-8";function L(F,V){return this&&this!==u?(F=F?String(F):H,V=Object(V),this._encoding=p(F),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(V.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new L(F,V)}function j(F,V){return this&&this!==u?(F=F?String(F):H,V=Object(V),this._encoding=p(F),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(V.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new j(F,V)}L.prototype={encode:function(F,V){F=F?String(F):"",V=Object(V),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(V.stream);for(var Q=[],W=new function(ue){var Ce=0;this.emit=function(_e){var Ee,X=S;for(Ee=0;Ee<arguments.length;++Ee)X=Number(arguments[Ee]),ue[Ce++]=X;return X}}(Q),ee=new function(ue){var Ce=0,_e=function(){for(var Ee=[],X=0,se=ue.length;X<ue.length;){var Z=ue.charCodeAt(X);if(T(Z,55296,57343))if(T(Z,56320,57343))Ee.push(65533);else if(X===se-1)Ee.push(65533);else{var be=ue.charCodeAt(X+1);T(be,56320,57343)?(X+=1,Ee.push(65536+((1023&Z)<<10)+(1023&be))):Ee.push(65533)}else Ee.push(Z);X+=1}return Ee}();this.offset=function(Ee){if((Ce+=Ee)<0)throw new Error("Seeking past start of the buffer");if(Ce>_e.length)throw new Error("Seeking past EOF")},this.get=function(){return Ce>=_e.length?m:_e[Ce]}}(F);ee.get()!==m;)this._encoder.encode(W,ee);if(!this._streaming){var J;do{J=this._encoder.encode(W,ee)}while(J!==S);this._encoder=null}return new Uint8Array(Q)}},j.prototype={decode:function(F,V){if(F&&!("buffer"in F&&"byteOffset"in F&&"byteLength"in F))throw new TypeError("Expected ArrayBufferView");F||(F=new Uint8Array(0)),V=Object(V),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(V.stream);var J,ue,Q=new function(J){var ue=0;this.get=function(){return ue>=J.length?S:Number(J[ue])},this.offset=function(Ce){if((ue+=Ce)<0)throw new Error("Seeking past start of the buffer");if(ue>J.length)throw new Error("Seeking past EOF")},this.match=function(Ce){if(Ce.length>ue+J.length)return!1;var _e;for(_e=0;_e<Ce.length;_e+=1)if(Number(J[ue+_e])!==Ce[_e])return!1;return!0}}(new Uint8Array(F.buffer,F.byteOffset,F.byteLength));if(p((J=this._encoding.name,(ue=Q).match([255,254])?(ue.offset(2),"utf-16"):ue.match([254,255])?(ue.offset(2),"utf-16be"):ue.match([239,187,191])?(ue.offset(3),"utf-8"):J))!==this._encoding)throw new Error("BOM mismatch");for(var W,ee=new function(){var J="";this.string=function(){return J},this.emit=function(ue){ue<=65535?J+=String.fromCharCode(ue):(ue-=65536,J+=String.fromCharCode(55296+(ue>>10&1023)),J+=String.fromCharCode(56320+(1023&ue)))}};Q.get()!==S;)null!==(W=this._decoder.decode(Q))&&W!==m&&ee.emit(W);if(!this._streaming){do{null!==(W=this._decoder.decode(Q))&&W!==m&&ee.emit(W)}while(W!==m);this._decoder=null}return ee.string()}},u.TextEncoder=u.TextEncoder||L,u.TextDecoder=u.TextDecoder||j}(this)},function(U,M){U.exports=function(u){return u.webpackPolyfill||(u.deprecate=function(){},u.paths=[],u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),u.webpackPolyfill=1),u}},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSDataSerializer=void 0;var T,y=function(){function C(h,v){for(var O=0;O<v.length;O++){var x=v[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,v,O){return v&&C(h.prototype,v),O&&C(h,O),h}}(),m=(T=u(120))&&T.__esModule?T:{default:T},_=u(172),f=u(8),p=Symbol(),d=Symbol(),b=function(){function C(h){if(function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C),h!==d)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return y(C,[{key:"object2binary",value:function(h){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(f.SFSDataType.SFS_OBJECT),v.writeInt16(h.size()),this.obj2bin(h,v),new Uint8Array(v.buffer)}},{key:"obj2bin",value:function(h,v){var O=!0,x=!1,k=void 0;try{for(var G,H=h.keys()[Symbol.iterator]();!(O=(G=H.next()).done);O=!0){var L=G.value,j=h.getWrappedItem(L);this.encodeSFSObjectKey(v,L),this.encodeObject(v,j)}}catch(F){x=!0,k=F}finally{try{!O&&H.return&&H.return()}finally{if(x)throw k}}}},{key:"array2binary",value:function(h){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(f.SFSDataType.SFS_ARRAY),v.writeInt16(h.size()),this.arr2bin(h,v),new Uint8Array(v.buffer)}},{key:"arr2bin",value:function(h,v){for(var O=0;O<h.size();O++){var x=h.getWrappedItem(O);this.encodeObject(v,x)}}},{key:"encodeSFSObjectKey",value:function(h,v){h.writeInt16(v.length),h.writeUint8Array(new _.TextEncoder("utf-8").encode(v))}},{key:"encodeObject",value:function(h,v){var O=v.type;if(O===f.SFSDataType.NULL)this.binEncode_NULL(h,v);else if(O===f.SFSDataType.BOOL)this.binEncode_BOOL(h,v);else if(O===f.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(h,v);else if(O===f.SFSDataType.BYTE)this.binEncode_BYTE(h,v);else if(O===f.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(h,v);else if(O===f.SFSDataType.SHORT)this.binEncode_SHORT(h,v);else if(O===f.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(h,v);else if(O===f.SFSDataType.INT)this.binEncode_INT(h,v);else if(O===f.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(h,v);else if(O===f.SFSDataType.LONG)this.binEncode_LONG(h,v);else if(O===f.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(h,v);else if(O===f.SFSDataType.FLOAT)this.binEncode_FLOAT(h,v);else if(O===f.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(h,v);else if(O===f.SFSDataType.DOUBLE)this.binEncode_DOUBLE(h,v);else if(O===f.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(h,v);else if(O===f.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(h,v);else if(O===f.SFSDataType.TEXT)this.binEncode_TEXT(h,v);else if(O===f.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(h,v);else if(O===f.SFSDataType.SFS_ARRAY)h.writeUint8Array(this.array2binary(v.value));else{if(O!==f.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;h.writeUint8Array(this.object2binary(v.value))}return h}},{key:"binEncode_NULL",value:function(h,v){h.writeUint8(v.type)}},{key:"binEncode_BOOL",value:function(h,v){h.writeUint8(v.type),h.writeUint8(v.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint8(O[x]?1:0)}},{key:"binEncode_BYTE",value:function(h,v){h.writeUint8(v.type),h.writeUint8(v.value)}},{key:"binEncode_BYTE_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint32(O.length),h.writeUint8Array(O)}},{key:"binEncode_SHORT",value:function(h,v){h.writeUint8(v.type),h.writeUint16(v.value)}},{key:"binEncode_SHORT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint16(O[x])}},{key:"binEncode_INT",value:function(h,v){h.writeUint8(v.type),h.writeUint32(v.value)}},{key:"binEncode_INT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint32(O[x])}},{key:"binEncode_LONG",value:function(h,v){var O=v.value,x=Math.floor(O/Math.pow(2,32)),k=O%Math.pow(2,32);h.writeUint8(v.type),h.writeInt32(x),h.writeInt32(k)}},{key:"binEncode_LONG_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++){var k=O[x],G=Math.floor(k/Math.pow(2,32)),H=k%Math.pow(2,32);h.writeInt32(G),h.writeInt32(H)}}},{key:"binEncode_FLOAT",value:function(h,v){h.writeUint8(v.type),h.writeFloat32(v.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeFloat32(O[x])}},{key:"binEncode_DOUBLE",value:function(h,v){h.writeUint8(v.type),h.writeFloat64(v.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeFloat64(O[x])}},{key:"binEncode_UTF_STRING",value:function(h,v){var O=new _.TextEncoder("utf-8").encode(v.value);h.writeUint8(v.type),h.writeUint16(O.length),h.writeUint8Array(O)}},{key:"binEncode_TEXT",value:function(h,v){var O=new _.TextEncoder("utf-8").encode(v.value);h.writeUint8(v.type),h.writeUint32(O.length),h.writeUint8Array(O)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++){var k=new _.TextEncoder("utf-8").encode(O[x]);h.writeUint16(k.byteLength),h.writeUint8Array(k)}}},{key:"binary2object",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSObject(new m.default(h,0,m.default.BIG_ENDIAN))}},{key:"binary2array",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSArray(new m.default(h,0,m.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(h){var v=new f.SFSObject,O=h.readUint8();if(O!==f.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+f.SFSDataType.SFS_OBJECT+", found: "+O;var x=h.readUint16();if(x<0)throw"Can't decode SFSObject. Size is negative: "+x;try{for(var k=0;k<x;k++){var G=h.readUint16();if(G<0||G>255)throw"Invalid SFSObject key length. Found: "+G;var H=h.readUint8Array(G),L=String.fromCharCode.apply(String,H),j=this.decodeObject(h);if(null==j)throw"Could not decode value for key: "+L;v.put(L,j.value,j.type,!0)}}catch(F){throw F}return v}},{key:"decodeSFSArray",value:function(h){var v=new f.SFSArray,O=h.readUint8();if(O!==f.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+f.SFSDataType.SFS_ARRAY+", found: "+O;var x=h.readInt16();if(x<0)throw"Can't decode SFSArray. Size is negative: "+x;try{for(var k=0;k<x;k++){var G=this.decodeObject(h);if(null==G)throw"Could not decode value for index: "+k;v.add(G.value,G.type,!0)}}catch(H){throw H}return v}},{key:"decodeObject",value:function(h){var v=null,O=h.readUint8();if(O===f.SFSDataType.NULL)v=this.binDecode_NULL(h);else if(O===f.SFSDataType.BOOL)v=this.binDecode_BOOL(h);else if(O===f.SFSDataType.BOOL_ARRAY)v=this.binDecode_BOOL_ARRAY(h);else if(O===f.SFSDataType.BYTE)v=this.binDecode_BYTE(h);else if(O===f.SFSDataType.BYTE_ARRAY)v=this.binDecode_BYTE_ARRAY(h);else if(O===f.SFSDataType.SHORT)v=this.binDecode_SHORT(h);else if(O===f.SFSDataType.SHORT_ARRAY)v=this.binDecode_SHORT_ARRAY(h);else if(O===f.SFSDataType.INT)v=this.binDecode_INT(h);else if(O===f.SFSDataType.INT_ARRAY)v=this.binDecode_INT_ARRAY(h);else if(O===f.SFSDataType.LONG)v=this.binDecode_LONG(h);else if(O===f.SFSDataType.LONG_ARRAY)v=this.binDecode_LONG_ARRAY(h);else if(O===f.SFSDataType.FLOAT)v=this.binDecode_FLOAT(h);else if(O===f.SFSDataType.FLOAT_ARRAY)v=this.binDecode_FLOAT_ARRAY(h);else if(O===f.SFSDataType.DOUBLE)v=this.binDecode_DOUBLE(h);else if(O===f.SFSDataType.DOUBLE_ARRAY)v=this.binDecode_DOUBLE_ARRAY(h);else if(O===f.SFSDataType.UTF_STRING)v=this.binDecode_UTF_STRING(h);else if(O===f.SFSDataType.TEXT)v=this.binDecode_TEXT(h);else if(O===f.SFSDataType.UTF_STRING_ARRAY)v=this.binDecode_UTF_STRING_ARRAY(h);else if(O===f.SFSDataType.SFS_ARRAY){h.seek(h.position-1);var x=this.decodeSFSArray(h);v=new f.SFSDataWrapper(O,x)}else{if(O!==f.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;h.seek(h.position-1);var k=this.decodeSFSObject(h);v=new f.SFSDataWrapper(O,k)}return v}},{key:"binDecode_NULL",value:function(h){return new f.SFSDataWrapper(f.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(h){var v=h.readUint8(),O=null;if(0===v)O=!1;else{if(1!==v)throw"Error decoding Bool type. Illegal value: "+v;O=!0}return new f.SFSDataWrapper(f.SFSDataType.BOOL,O)}},{key:"binDecode_BOOL_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var k=h.readUint8(),G=null;if(0===k)G=!1;else{if(1!==k)throw"Error decoding Bool type. Illegal value: "+k;G=!0}O.push(G)}return new f.SFSDataWrapper(f.SFSDataType.BOOL_ARRAY,O)}},{key:"binDecode_BYTE",value:function(h){var v=h.readUint8();return new f.SFSDataWrapper(f.SFSDataType.BYTE,v)}},{key:"binDecode_BYTE_ARRAY",value:function(h){var v=h.readInt32();if(v<0)throw"Error decoding typed array size. Negative size: "+v;for(var O=new Uint8Array(v),x=0;x<v;x++)O[x]=h.readUint8();return new f.SFSDataWrapper(f.SFSDataType.BYTE_ARRAY,O)}},{key:"binDecode_SHORT",value:function(h){var v=h.readInt16();return new f.SFSDataWrapper(f.SFSDataType.SHORT,v)}},{key:"binDecode_SHORT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readInt16());return new f.SFSDataWrapper(f.SFSDataType.SHORT_ARRAY,O)}},{key:"binDecode_INT",value:function(h){var v=h.readInt32();return new f.SFSDataWrapper(f.SFSDataType.INT,v)}},{key:"binDecode_INT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readInt32());return new f.SFSDataWrapper(f.SFSDataType.INT_ARRAY,O)}},{key:"binDecode_LONG",value:function(h){var v=h.readInt32(),O=h.readUint32(),x=v*Math.pow(2,32)+O;return new f.SFSDataWrapper(f.SFSDataType.LONG,x)}},{key:"binDecode_LONG_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var k=h.readInt32(),G=h.readUint32(),H=k*Math.pow(2,32)+G;O.push(H)}return new f.SFSDataWrapper(f.SFSDataType.LONG_ARRAY,O)}},{key:"binDecode_FLOAT",value:function(h){var v=h.readFloat32();return new f.SFSDataWrapper(f.SFSDataType.FLOAT,v)}},{key:"binDecode_FLOAT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readFloat32());return new f.SFSDataWrapper(f.SFSDataType.FLOAT_ARRAY,O)}},{key:"binDecode_DOUBLE",value:function(h){var v=h.readFloat64();return new f.SFSDataWrapper(f.SFSDataType.DOUBLE,v)}},{key:"binDecode_DOUBLE_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readFloat64());return new f.SFSDataWrapper(f.SFSDataType.DOUBLE_ARRAY,O)}},{key:"binDecode_UTF_STRING",value:function(h){var v=h.readInt16();if(v<0)throw"Error decoding UTF_STRING. Negative size: "+v;var O=h.readUint8Array(v),x=new _.TextDecoder("utf-8").decode(O);return new f.SFSDataWrapper(f.SFSDataType.UTF_STRING,x)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var k=h.readInt16();if(k<0)throw"Error decoding UTF_STRING. Negative size: "+k;var G=h.readUint8Array(k),H=new _.TextDecoder("utf-8").decode(G);O.push(H)}return new f.SFSDataWrapper(f.SFSDataType.UTF_STRING_ARRAY,O)}},{key:"binDecode_TEXT",value:function(h){var v=h.readInt32();if(v<0)throw"Error decoding TEXT. Negative size: "+v;var O=h.readUint8Array(v),x=new _.TextDecoder("utf-8").decode(O);return new f.SFSDataWrapper(f.SFSDataType.TEXT,x)}},{key:"getTypedArraySize",value:function(h){var v=h.readUint16();if(v<0)throw"Error decoding typed array size. Negative size: "+v;return v}}],[{key:"instance",get:function(){return this[p]||(this[p]=new C(d)),Object.seal(this[p])}}]),C}();M.SFSDataSerializer=b},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SystemController=void 0;var T=function(){function je(ie,fe){for(var pe=0;pe<fe.length;pe++){var Ge=fe[pe];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(ie,Ge.key,Ge)}}return function(ie,fe,pe){return fe&&je(ie.prototype,fe),pe&&je(ie,pe),ie}}(),y=u(2),S=u(39),m=u(74),_=u(8),f=u(9),p=u(47),d=u(171),b=u(58),C=u(72),h=u(59),v=u(49),O=u(73),x=u(46),k=u(51),G=u(118),H=u(117),L=u(116),j=u(57),F=u(115),V=u(114),Q=u(113),W=u(70),ee=u(112),J=u(111),ue=u(110),Ce=u(109),_e=u(108),Ee=u(107),X=u(106),se=u(105),Z=u(69),be=u(170),oe=u(104),le=u(103),de=u(102),Be=u(101),Je=u(100),Le=u(99),Mt=u(98),qe=function(){function je(ie){(function(fe,pe){if(!(fe instanceof pe))throw new TypeError("Cannot call a class as a function")})(this,je),this._sfs=ie,this._logger=ie.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return T(je,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),T(je,[{key:"handleMessage",value:function(ie,fe){var pe=this._messageHandlers.get(fe);null!=pe?(this._sfs.debug&&this._logger.info("Handling server event: "+pe.name+" ("+fe+")"),pe.handler.call(this,ie)):this._logger.warn("Unknown server event received; id: "+fe)}},{key:"_initMessageHandlers",value:function(){this._setHandler(y.Requests.Handshake,this._fnHandshake),this._setHandler(y.Requests.Login,this._fnLogin),this._setHandler(y.Requests.Logout,this._fnLogout),this._setHandler(y.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(y.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(y.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(y.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(y.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(y.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(y.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(y.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(y.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(y.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(y.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(y.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(y.Requests.FindRooms,this._fnFindRooms),this._setHandler(y.Requests.FindUsers,this._fnFindUsers),this._setHandler(y.Requests.PingPong,this._fnPingPong),this._setHandler(y.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(y.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(y.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(y.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(y.Requests.GoOnline,this._fnGoOnline),this._setHandler(y.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(y.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(y.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(y.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(y.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(ie,fe){var pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==pe&&(pe=y.Requests.getNameFromId(ie)),this._messageHandlers.set(ie,{name:pe,handler:fe})}},{key:"_fnHandshake",value:function(ie){this._sfs._handleHandShake(ie)}},{key:"_fnLogin",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){this._populateRoomList(ie.get(G.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new p.SFSUser(ie.get(G.LoginRequest.KEY_ID),ie.get(G.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ie.get(G.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var fe={};fe.zone=ie.get(G.LoginRequest.KEY_ZONE_NAME),fe.user=this._sfs.mySelf,fe.data=ie.get(G.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.LOGIN,fe)}else this._dispatchError(S.SFSEvent.LOGIN_ERROR,ie)}},{key:"_fnLogout",value:function(ie){this._sfs._handleLogout();var fe={};fe.zone=ie.get(H.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(S.SFSEvent.LOGOUT,fe)}},{key:"_fnJoinRoom",value:function(ie){if(this._sfs._isJoining=!1,null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(L.JoinRoomRequest.KEY_ROOM),pe=ie.get(L.JoinRoomRequest.KEY_USER_LIST),Ge=this._sfs.roomManager,ze=f.SFSRoom.fromSFSArray(fe);ze=Ge._replaceRoom(ze,Ge.containsGroup(ze.groupId));for(var et=0;et<pe.size();et++){var xe=pe.get(et),He=this._getOrCreateUser(xe,!0,ze);ze._addUser(He)}ze._isJoined=!0,this._sfs._lastJoinedRoom=ze;var zt={};zt.room=ze,this._sfs.dispatchEvent(S.SFSEvent.ROOM_JOIN,zt)}else this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ie)}},{key:"_fnCreateRoom",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=f.SFSRoom.fromSFSArray(ie.get(j.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(fe);var pe={};pe.room=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_ADD,pe)}else this._dispatchError(S.SFSEvent.ROOM_CREATION_ERROR,ie)}},{key:"_fnChangeRoomName",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(F.ChangeRoomNameRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){var Ge=pe.name;this._sfs.roomManager._changeRoomName(pe,ie.get(F.ChangeRoomNameRequest.KEY_NAME));var ze={};ze.oldName=Ge,ze.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_NAME_CHANGE,ze)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_NAME_CHANGE_ERROR,ie)}},{key:"_fnChangeRoomPassword",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(V.ChangeRoomPasswordStateRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){this._sfs.roomManager._changeRoomPasswordState(pe,ie.get(V.ChangeRoomPasswordStateRequest.KEY_PASS));var Ge={};Ge.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,Ge)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,ie)}},{key:"_fnChangeRoomCapacity",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Q.ChangeRoomCapacityRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){this._sfs.roomManager._changeRoomCapacity(pe,ie.get(Q.ChangeRoomCapacityRequest.KEY_USER_SIZE),ie.get(Q.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var Ge={};Ge.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_CAPACITY_CHANGE,Ge)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,ie)}},{key:"_fnGenericMessage",value:function(ie){switch(ie.get(W.GenericMessageRequest.KEY_MESSAGE_TYPE)){case W.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(ie);break;case W.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(ie);break;case W.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(ie);break;case W.GenericMessageType.MODERATOR_MSG:this._handleModMessage(ie);break;case W.GenericMessageType.ADMING_MSG:this._handleAdminMessage(ie);break;case W.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(ie)}}},{key:"_handlePublicMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_ROOM_ID),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){var Ge={};Ge.room=pe,Ge.sender=this._sfs.userManager.getUserById(ie.get(W.GenericMessageRequest.KEY_USER_ID)),Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PUBLIC_MESSAGE,Ge)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+fe)}},{key:"_handlePrivateMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_USER_ID),pe=this._sfs.userManager.getUserById(fe);if(null==pe){if(null==ie.get(W.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");pe=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA))}var Ge={};Ge.sender=pe,Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PRIVATE_MESSAGE,Ge)}},{key:"_handleBuddyMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_USER_ID),pe=this._sfs.buddyManager.getBuddyById(fe),Ge={};Ge.isItMe=this._sfs.mySelf.id===fe,Ge.buddy=pe,Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_MESSAGE,Ge)}},{key:"_handleObjectMessage",value:function(ie){var fe={};fe.sender=this._sfs.userManager.getUserById(ie.get(W.GenericMessageRequest.KEY_USER_ID)),fe.message=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.OBJECT_MESSAGE,fe)}},{key:"_handleModMessage",value:function(ie){var fe={};fe.sender=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA)),fe.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),fe.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.MODERATOR_MESSAGE,fe)}},{key:"_handleAdminMessage",value:function(ie){var fe={};fe.sender=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA)),fe.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),fe.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.ADMIN_MESSAGE,fe)}},{key:"_fnSetRoomVariables",value:function(ie){var fe=ie.get(ee.SetRoomVariablesRequest.KEY_VAR_ROOM),pe=ie.get(ee.SetRoomVariablesRequest.KEY_VAR_LIST),Ge=this._sfs.roomManager.getRoomById(fe),ze=new Set;if(null!=Ge){for(var et=0;et<pe.size();et++){var xe=v.SFSRoomVariable.fromSFSArray(pe.get(et));Ge._setVariable(xe),ze.add(xe.name)}var He={};He.changedVars=Array.from(ze),He.room=Ge,this._sfs.dispatchEvent(S.SFSEvent.ROOM_VARIABLES_UPDATE,He)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+fe)}},{key:"_fnSetUserVariables",value:function(ie){var fe=ie.get(J.SetUserVariablesRequest.KEY_USER),pe=ie.get(J.SetUserVariablesRequest.KEY_VAR_LIST),Ge=this._sfs.userManager.getUserById(fe),ze=new Set;if(null!=Ge){for(var et=0;et<pe.size();et++){var xe=h.SFSUserVariable.fromSFSArray(pe.get(et));Ge._setVariable(xe),ze.add(xe.name)}var He={};He.changedVars=Array.from(ze),He.user=Ge,this._sfs.dispatchEvent(S.SFSEvent.USER_VARIABLES_UPDATE,He)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+fe)}},{key:"_fnSubscribeRoomGroup",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(ue.SubscribeRoomGroupRequest.KEY_GROUP_ID),pe=ie.get(ue.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(fe)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+fe),this._sfs.roomManager._addGroup(fe),this._populateRoomList(pe);var Ge={};Ge.groupId=fe,Ge.newRooms=this._sfs.roomManager.getRoomListFromGroup(fe),this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_SUBSCRIBE,Ge)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,ie)}},{key:"_fnUnsubscribeRoomGroup",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Ce.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(fe)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+fe+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(fe);var pe={};pe.groupId=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,pe)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,ie)}},{key:"_fnSpectatorToPlayer",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(_e.SpectatorToPlayerRequest.KEY_ROOM_ID),pe=ie.get(_e.SpectatorToPlayerRequest.KEY_USER_ID),Ge=ie.get(_e.SpectatorToPlayerRequest.KEY_PLAYER_ID),ze=this._sfs.userManager.getUserById(pe),et=this._sfs.roomManager.getRoomById(fe);if(null!=et)if(null!=ze)if(ze.isJoinedInRoom(et)){ze._setPlayerId(Ge,et);var xe={};xe.room=et,xe.user=ze,xe.playerId=Ge,this._sfs.dispatchEvent(S.SFSEvent.SPECTATOR_TO_PLAYER,xe)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+ze+" not in Room "+et);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,ie)}},{key:"_fnPlayerToSpectator",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Ee.PlayerToSpectatorRequest.KEY_ROOM_ID),pe=ie.get(Ee.PlayerToSpectatorRequest.KEY_USER_ID),Ge=this._sfs.userManager.getUserById(pe),ze=this._sfs.roomManager.getRoomById(fe);if(null!=ze)if(null!=Ge)if(Ge.isJoinedInRoom(ze)){Ge._setPlayerId(-1,ze);var et={};et.room=ze,et.user=Ge,this._sfs.dispatchEvent(S.SFSEvent.PLAYER_TO_SPECTATOR,et)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+Ge+" not in Room "+ze);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,ie)}},{key:"_fnPingPong",value:function(ie){var fe={};fe.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(S.SFSEvent.PING_PONG,fe)}},{key:"_fnFindRooms",value:function(ie){for(var fe=ie.get(X.FindRoomsRequest.KEY_FILTERED_ROOMS),pe=[],Ge=0;Ge<fe.size();Ge++){var ze=fe.get(Ge),et=f.SFSRoom.fromSFSArray(ze),xe=this._sfs.roomManager.getRoomById(et.id);null!=xe&&(et._isJoined=xe._isJoined),pe.push(et)}var He={};He.rooms=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_FIND_RESULT,He)}},{key:"_fnFindUsers",value:function(ie){for(var fe=ie.get(se.FindUsersRequest.KEY_FILTERED_USERS),pe=[],Ge=this._sfs.mySelf,ze=0;ze<fe.size();ze++){var et=fe.get(ze),xe=p.SFSUser.fromSFSArray(et);xe.id===Ge.id&&(xe=Ge),pe.push(xe)}var He={};He.users=pe,this._sfs.dispatchEvent(S.SFSEvent.USER_FIND_RESULT,He)}},{key:"_fnQuickJoinGame",value:function(ie){null!=ie.get(je.KEY_ERROR_CODE)&&this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ie)}},{key:"_fnInviteUsers",value:function(ie){var fe;fe=null!=ie.get(Z.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ie.get(Z.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ie.get(Z.InviteUsersRequest.KEY_USER));var pe=ie.get(Z.InviteUsersRequest.KEY_TIME),Ge=ie.get(Z.InviteUsersRequest.KEY_INVITATION_ID),ze=ie.get(Z.InviteUsersRequest.KEY_PARAMS),et=new C.SFSInvitation(fe,this._sfs.mySelf,pe,ze);et._id=Ge;var xe={};xe.invitation=et,this._sfs.dispatchEvent(S.SFSEvent.INVITATION,xe)}},{key:"_fnInvitationReply",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe;fe=null!=ie.get(Z.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ie.get(Z.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ie.get(Z.InviteUsersRequest.KEY_USER));var pe=ie.get(Z.InviteUsersRequest.KEY_REPLY_ID),Ge=ie.get(Z.InviteUsersRequest.KEY_PARAMS),ze={};ze.invitee=fe,ze.reply=pe,ze.data=Ge,this._sfs.dispatchEvent(S.SFSEvent.INVITATION_REPLY,ze)}else this._dispatchError(S.SFSEvent.INVITATION_REPLY_ERROR,ie)}},{key:"_fnSetUserPosition",value:function(ie){var fe=ie.get(oe.SetUserPositionRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe),Ge=ie.get(oe.SetUserPositionRequest.KEY_MINUS_USER_LIST),ze=ie.get(oe.SetUserPositionRequest.KEY_PLUS_USER_LIST),et=ie.get(oe.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),xe=ie.get(oe.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),He=[],zt=[],It=[],qt=[];if(null!=Ge){var zn=!0,tt=!1,ft=void 0;try{for(var ve,ge=Ge[Symbol.iterator]();!(zn=(ve=ge.next()).done);zn=!0){var Re=pe.getUserById(ve.value);null!=Re&&(pe._removeUser(Re),zt.push(Re))}}catch(Jt){tt=!0,ft=Jt}finally{try{!zn&&ge.return&&ge.return()}finally{if(tt)throw ft}}}if(null!=ze)for(var Se=0;Se<ze.size();Se++){var Fe=ze.get(Se),st=this._getOrCreateUser(Fe,!0,pe);He.push(st),pe._addUser(st);var _t=Fe.get(5);null!=_t&&(st._aoiEntryPoint=_.Vec3D.fromArray(_t))}if(null!=et){var vt=!0,dn=!1,Pn=void 0;try{for(var $n,Bt=et[Symbol.iterator]();!(vt=($n=Bt.next()).done);vt=!0){var en=pe.getMMOItem($n.value);null!=en&&(pe._removeItem(en.id),qt.push(en))}}catch(Jt){dn=!0,Pn=Jt}finally{try{!vt&&Bt.return&&Bt.return()}finally{if(dn)throw Pn}}}if(null!=xe)for(var Lt=0;Lt<xe.size();Lt++){var Tn=xe.get(Lt),lr=d.MMOItem.fromSFSArray(Tn);It.push(lr),pe._addMMOItem(lr);var cr=Tn.get(2);null!=cr&&(lr._aoiEntryPoint=_.Vec3D.fromArray(cr))}var Fn={};Fn.addedItems=It,Fn.removedItems=qt,Fn.removedUsers=zt,Fn.addedUsers=He,Fn.room=pe,this._sfs.dispatchEvent(S.SFSEvent.PROXIMITY_LIST_UPDATE,Fn)}},{key:"_fnInitBuddyList",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(le.InitBuddyListRequest.KEY_BLIST),pe=ie.get(le.InitBuddyListRequest.KEY_MY_VARS),Ge=ie.get(le.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var ze=0;ze<fe.size();ze++){var et=b.SFSBuddy.fromSFSArray(fe.get(ze));this._sfs.buddyManager._addBuddy(et)}null!=Ge&&this._sfs.buddyManager._setBuddyStates(Ge);for(var xe=[],He=0;He<pe.size();He++){var zt=x.SFSBuddyVariable.fromSFSArray(pe.get(He));xe.push(zt)}this._sfs.buddyManager._setMyVariables(xe),this._sfs.buddyManager._setInited();var It={};It.buddyList=this._sfs.buddyManager.getBuddyList(),It.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_LIST_INIT,It)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnAddBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=b.SFSBuddy.fromSFSArray(ie.get(de.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(fe);var pe={};pe.buddy=fe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ADD,pe)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnRemoveBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Be.RemoveBuddyRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager._removeBuddyByName(fe);if(null!=pe){var Ge={};Ge.buddy=pe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_REMOVE,Ge)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+fe+" in local buddy list")}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnBlockBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Je.BlockBuddyRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager.getBuddyByName(fe);null!=ie.get(Je.BlockBuddyRequest.KEY_BUDDY)?(pe=b.SFSBuddy.fromSFSArray(ie.get(Je.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(pe)):null!=pe?pe._isBlocked=ie.get(Je.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+fe+" in local buddy list");var Ge={};Ge.buddy=pe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_BLOCK,Ge)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnGoOnline",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Le.GoOnlineRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager.getBuddyByName(fe),Ge=fe===this._sfs.mySelf.name,ze=ie.get(Le.GoOnlineRequest.KEY_ONLINE),et=ze===b.BuddyOnlineState.ONLINE,xe=!0;if(Ge)this._sfs.buddyManager.getMyOnlineState()!=et&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+et),this._sfs.buddyManager._setMyOnlineState(et));else{if(null==pe)return void this._logger.warn("Unexpected GoOnline event error; can't find "+fe+" in local buddy list");pe._id=ie.get(Le.GoOnlineRequest.KEY_BUDDY_ID),pe._setVariable(new x.SFSBuddyVariable(x.ReservedBuddyVariables.BV_ONLINE,et)),ze===b.BuddyOnlineState.LEFT_THE_SERVER&&pe._clearVolatileVariables(),xe=this._sfs.buddyManager.getMyOnlineState()}if(xe){var He={};He.buddy=pe,He.isItMe=Ge,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,He)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnSetBuddyVariables",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){for(var fe=ie.get(Mt.SetBuddyVariablesRequest.KEY_BUDDY_NAME),pe=ie.get(Mt.SetBuddyVariablesRequest.KEY_BUDDY_VARS),Ge=this._sfs.buddyManager.getBuddyByName(fe),ze=fe===this._sfs.mySelf.name,et=[],xe=[],He=!0,zt=0;zt<pe.size();zt++){var It=x.SFSBuddyVariable.fromSFSArray(pe.get(zt));xe.push(It),et.push(It.name)}if(ze)this._sfs.buddyManager._setMyVariables(xe);else{if(null==Ge)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+fe+" in local buddy list");Ge._setVariables(xe),He=this._sfs.buddyManager.getMyOnlineState()}if(He){var qt={};qt.buddy=Ge,qt.isItMe=ze,qt.changedVars=et,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,qt)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnUserEnterRoom",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){var pe=ie.get(je.USER_PARAM),Ge=this._getOrCreateUser(pe,!0,fe);fe._addUser(Ge);var ze={};ze.user=Ge,ze.room=fe,this._sfs.dispatchEvent(S.SFSEvent.USER_ENTER_ROOM,ze)}}},{key:"_fnUserCountChange",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){var pe=ie.get(je.USER_COUNT_PARAM),Ge=null!=ie.get(je.SPECT_COUNT_PARAM)?ie.get(je.SPECT_COUNT_PARAM):0;fe._userCount=pe,fe._specCount=Ge;var ze={};ze.room=fe,ze.uCount=pe,ze.sCount=Ge,this._sfs.dispatchEvent(S.SFSEvent.USER_COUNT_CHANGE,ze)}}},{key:"_fnUserLost",value:function(ie){var fe=this._sfs.userManager.getUserById(ie.get(je.USER_PARAM));if(null!=fe){var pe=this._sfs.roomManager.getUserRooms(fe);this._sfs.roomManager._removeUser(fe),this._sfs.userManager._removeUserReference(fe,!0);var Ge=!0,ze=!1,et=void 0;try{for(var xe,He=pe[Symbol.iterator]();!(Ge=(xe=He.next()).done);Ge=!0){var zt=xe.value,It={};It.user=fe,It.room=zt,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,It)}}catch(qt){ze=!0,et=qt}finally{try{!Ge&&He.return&&He.return()}finally{if(ze)throw et}}}}},{key:"_fnRoomLost",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){this._sfs.roomManager._removeRoom(fe);var pe=!0,Ge=!1,ze=void 0;try{for(var et,xe=fe.getUserList()[Symbol.iterator]();!(pe=(et=xe.next()).done);pe=!0)this._sfs.userManager._removeUser(et.value)}catch(It){Ge=!0,ze=It}finally{try{!pe&&xe.return&&xe.return()}finally{if(Ge)throw ze}}var zt={};zt.room=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_REMOVE,zt)}}},{key:"_fnUserExitRoom",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM)),pe=this._sfs.userManager.getUserById(ie.get(je.USER_PARAM));if(null!=fe&&null!=pe){fe._removeUser(pe),this._sfs.userManager._removeUser(pe),pe.isItMe&&fe.isJoined&&(fe._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==fe||(this._sfs._lastJoinedRoom=null),fe._isManaged||this._sfs.roomManager._removeRoom(fe));var Ge={};Ge.user=pe,Ge.room=fe,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,Ge)}else this._logger.debug("Failed to handle UserExit event; Room: "+fe+", User: "+pe)}},{key:"_fnClientDisconnection",value:function(ie){var fe=ie.get(je.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(k.ClientDisconnectionReason.getReason(fe))}},{key:"_fnSetMMOItemVariables",value:function(ie){var fe=ie.get(be.SetMMOItemVariables.KEY_ROOM_ID),pe=ie.get(be.SetMMOItemVariables.KEY_ITEM_ID),Ge=ie.get(be.SetMMOItemVariables.KEY_VAR_LIST),ze=this._sfs.roomManager.getRoomById(fe),et=new Set;if(null!=ze){var xe=ze.getMMOItem(pe);if(null!=xe){for(var He=0;He<Ge.size();He++){var zt=O.MMOItemVariable.fromSFSArray(Ge.get(He));xe._setVariable(zt),et.add(zt.name)}var It={};It.changedVars=Array.from(et),It.mmoItem=xe,It.room=ze,this._sfs.dispatchEvent(S.SFSEvent.MMOITEM_VARIABLES_UPDATE,It)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+pe)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+fe)}},{key:"_dispatchError",value:function(ie,fe){var pe={};pe.errorCode=fe.get(je.KEY_ERROR_CODE),pe.errorMessage=m.SFSErrorCodes.getErrorMessage(pe.errorCode,fe.get(je.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ie,pe)}},{key:"_populateRoomList",value:function(ie){for(var fe=0;fe<ie.size();fe++){var pe=f.SFSRoom.fromSFSArray(ie.get(fe));this._sfs.roomManager._replaceRoom(pe)}}},{key:"_getOrCreateUser",value:function(ie,fe,pe){var Ge=ie.get(0),ze=this._sfs.userManager.getUserById(Ge);if(null==ze)(ze=p.SFSUser.fromSFSArray(ie,pe))._setUserManager(this._sfs.userManager);else{ze._setPlayerId(ie.get(3),pe);var et=ie.get(4);if(null!=et)for(var xe=0;xe<et.size();xe++)ze._setVariable(h.SFSUserVariable.fromSFSArray(et.get(xe)))}return fe&&this._sfs.userManager._addUser(ze),ze}},{key:"id",get:function(){return this._id}}]),je}();M.SystemController=qe},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SmartFox=void 0;var T=function(){function H(L,j){for(var F=0;F<j.length;F++){var V=j[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(L,V.key,V)}}return function(L,j,F){return j&&H(L.prototype,j),F&&H(L,F),L}}(),y=u(175),S=u(169),m=u(39),_=u(1),f=u(168),p=u(119),d=u(166),b=u(165),C=u(2),h=u(164),v=u(74),O=u(50),x=u(163),k=u(51),G=function(H){function L(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(V,Q){if(!(V instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,L);var F=function(V,Q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Q||"object"!=typeof Q&&"function"!=typeof Q?V:Q}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this));return F._majVersion=1,F._minVersion=7,F._subVersion=19,F._configData=j,F._logger=O.Logger.instance,F._sessionToken=null,F._socketEngine=new f.SocketEngine(F),F._socketEngine.addEventListener(f.SocketEvent.CONNECT,F._onSocketConnect,F),F._socketEngine.addEventListener(f.SocketEvent.DISCONNECT,F._onSocketDisconnect,F),F._socketEngine.addEventListener(f.SocketEvent.DATA,F._onSocketData,F),F._socketEngine.addEventListener(f.SocketEvent.IOERROR,F._onSocketIOError,F),F._controllers={},F._controllers[0]=new y.SystemController(F),F._controllers[1]=new S.ExtensionController(F),F._reset(),F._clientDetails="JavaScript",F.debug=null!=F.config&&F.config.debug,F.debug&&(F._logger.info("SmartFox instance ready"),F._logger.info("SFS2X JavaScript API v"+F.version)),Object.seal(F),F}return function(j,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);j.prototype=Object.create(F&&F.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(j,F):j.__proto__=F)}(L,m.EventDispatcher),T(L,[{key:"setClientDetails",value:function(j,F){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(j=null!=j?j.replace(":"," "):"",F=null!=F?F.replace(":"," "):"",this._clientDetails=j+":"+F)}},{key:"connect",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var Q=null!=this.config&&null!=this.config.host?this.config.host:null,W=null!=this.config&&null!=this.config.port?this.config.port:null,ee=null!=this.config&&this.config.useSSL;null!=j&&(Q=j),F>-1&&(W=F),null!=V&&(ee=V),null!=Q&&"string"==typeof Q&&0!==Q.length?"number"!=typeof W||W<0||W>65535?this._logger.error("Invalid TCP connection port: "+W):("boolean"!=typeof ee&&(ee=!1),this._socketEngine.connect(Q,W,ee)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(k.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(j){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),j&&(this._lagMonitor=new x.LagMonitor(this,F,V),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(j){if(this.isConnected){if(null!=j.validate&&null!=j.execute){this.debug&&this._logger.info("Sending request '"+C.Requests.getNameFromId(j.id)+"' to server");try{j.validate(this),j.execute(this)}catch(Q){if(!(Q instanceof _.SFSValidationError&&null!=Q.message))throw Q;var F=Q.message;if(null!=Q.errors){F+=":";for(var V=0;V<Q.errors.length;V++)Q.errors.length>1&&(F+=" "+(V+1)+")"),F+=" "+Q.errors[V]}return this._logger.error("Request failed | "+F),!1}return this._socketEngine.send(j.getMessage()),!0}this._logger.error("An invalid request was passed: "+j)}else this._logger.error("You are not connected. Request cannot be sent: "+C.Requests.getNameFromId(j.id))}},{key:"getRoomById",value:function(j){return this.roomManager.getRoomById(j)}},{key:"getRoomByName",value:function(j){return this.roomManager.getRoomByName(j)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(j){return this.roomManager.getRoomListFromGroup(j)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var j=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new p.GlobalUserManager(this),this._roomManager=new d.SFSRoomManager(this),this._buddyManager=new b.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,j&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(j){j.success?this.send(new h.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(j){this.dispatchEvent(m.SFSEvent.CONNECTION_LOST,{reason:j.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(j){var F=j.targetController,V=j.id;null!=F?null!=V?this._controllers[F].handleMessage(j.content,V):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(j){this.dispatchEvent(m.SFSEvent.SOCKET_ERROR,{message:j})}},{key:"_handleHandShake",value:function(j){var F=j.get(C.BaseRequest.KEY_ERROR_CODE);if(null==F)this._sessionToken=j.get(h.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=j.get(h.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=j.get(h.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!0});else{var V={success:!1,errorMessage:v.SFSErrorCodes.getErrorMessage(F,j.get(C.BaseRequest.KEY_ERROR_PARAMS)),errorCode:F};this.dispatchEvent(m.SFSEvent.CONNECTION,V)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(j){this.isConnected&&this._socketEngine.disconnect(j)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),L}();M.SmartFox=G},function(U,M,u){var T=u(0),y=u(89);y&&T(T.S,"Reflect",{setPrototypeOf:function(S,m){y.check(S,m);try{return y.set(S,m),!0}catch(_){return!1}}})},function(U,M,u){var T=u(10),y=u(23),S=u(31),m=u(16),_=u(0),f=u(36),p=u(5),d=u(4);_(_.S,"Reflect",{set:function b(C,h,v){var O,x,k=arguments.length<4?C:arguments[3],G=y.f(p(C),h);if(!G){if(d(x=S(C)))return b(x,h,v,k);G=f(0)}return m(G,"value")?!(!1===G.writable||!d(k)||((O=y.f(k,h)||f(0)).value=v,T.f(k,h,O),0)):void 0!==G.set&&(G.set.call(k,v),!0)}})},function(U,M,u){var T=u(0),y=u(5),S=Object.preventExtensions;T(T.S,"Reflect",{preventExtensions:function(m){y(m);try{return S&&S(m),!0}catch(_){return!1}}})},function(U,M,u){var T=u(32),y=u(68),S=u(5),m=u(6).Reflect;U.exports=m&&m.ownKeys||function(_){var f=T.f(S(_)),p=y.f;return p?f.concat(p(_)):f}},function(U,M,u){var T=u(0);T(T.S,"Reflect",{ownKeys:u(180)})},function(U,M,u){var T=u(0),y=u(5),S=Object.isExtensible;T(T.S,"Reflect",{isExtensible:function(m){return y(m),!S||S(m)}})},function(U,M,u){var T=u(0);T(T.S,"Reflect",{has:function(y,S){return S in y}})},function(U,M,u){var T=u(0),y=u(31),S=u(5);T(T.S,"Reflect",{getPrototypeOf:function(m){return y(S(m))}})},function(U,M,u){var T=u(23),y=u(0),S=u(5);y(y.S,"Reflect",{getOwnPropertyDescriptor:function(m,_){return T.f(S(m),_)}})},function(U,M,u){var T=u(23),y=u(31),S=u(16),m=u(0),_=u(4),f=u(5);m(m.S,"Reflect",{get:function p(d,b){var C,h,v=arguments.length<3?d:arguments[2];return f(d)===v?d[b]:(C=T.f(d,b))?S(C,"value")?C.value:void 0!==C.get?C.get.call(v):void 0:_(h=y(d))?p(h,b,v):void 0}})},function(U,M,u){"use strict";var T=u(0),y=u(5),S=function(m){this._t=y(m),this._i=0;var _,f=this._k=[];for(_ in m)f.push(_)};u(133)(S,"Object",function(){var m,_=this._k;do{if(this._i>=_.length)return{value:void 0,done:!0}}while(!((m=_[this._i++])in this._t));return{value:m,done:!1}}),T(T.S,"Reflect",{enumerate:function(m){return new S(m)}})},function(U,M,u){var T=u(0),y=u(23).f,S=u(5);T(T.S,"Reflect",{deleteProperty:function(m,_){var f=y(S(m),_);return!(f&&!f.configurable)&&delete m[_]}})},function(U,M,u){var T=u(10),y=u(0),S=u(5),m=u(30);y(y.S+y.F*u(3)(function(){Reflect.defineProperty(T.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(_,f,p){S(_),f=m(f,!0),S(p);try{return T.f(_,f,p),!0}catch(d){return!1}}})},function(U,M,u){var T=u(0),y=u(33),S=u(26),m=u(5),_=u(4),f=u(3),p=u(142),d=(u(6).Reflect||{}).construct,b=f(function(){function h(){}return!(d(function(){},[],h)instanceof h)}),C=!f(function(){d(function(){})});T(T.S+T.F*(b||C),"Reflect",{construct:function(h,v){S(h),m(v);var O=arguments.length<3?h:S(arguments[2]);if(C&&!b)return d(h,v,O);if(h==O){switch(v.length){case 0:return new h;case 1:return new h(v[0]);case 2:return new h(v[0],v[1]);case 3:return new h(v[0],v[1],v[2]);case 4:return new h(v[0],v[1],v[2],v[3])}var x=[null];return x.push.apply(x,v),new(p.apply(h,x))}var k=O.prototype,G=y(_(k)?k:Object.prototype),H=Function.apply.call(h,G,v);return _(H)?H:G}})},function(U,M,u){var T=u(0),y=u(26),S=u(5),m=(u(6).Reflect||{}).apply,_=Function.apply;T(T.S+T.F*!u(3)(function(){m(function(){})}),"Reflect",{apply:function(f,p,d){var b=y(f),C=S(d);return m?m(b,p,C):_.call(b,p,C)}})},function(U,M,u){u(22)("Float64",8,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Float32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Uint32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Int32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Uint16",2,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Int16",2,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Uint8",1,function(T){return function(y,S,m){return T(this,y,S,m)}},!0)},function(U,M,u){u(22)("Uint8",1,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){u(22)("Int8",1,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,u){var T=u(0);T(T.G+T.W+T.F*!u(60).ABV,{DataView:u(75).DataView})},function(U,M,u){"use strict";var T=u(0),y=u(60),S=u(75),m=u(5),_=u(34),f=u(12),p=u(4),d=u(6).ArrayBuffer,b=u(76),C=S.ArrayBuffer,h=S.DataView,v=y.ABV&&d.isView,O=C.prototype.slice,x=y.VIEW;T(T.G+T.W+T.F*(d!==C),{ArrayBuffer:C}),T(T.S+T.F*!y.CONSTR,"ArrayBuffer",{isView:function(k){return v&&v(k)||p(k)&&x in k}}),T(T.P+T.U+T.F*u(3)(function(){return!new C(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(k,G){if(void 0!==O&&void 0===G)return O.call(m(this),k);for(var H=m(this).byteLength,L=_(k,H),j=_(void 0===G?H:G,H),F=new(b(this,C))(f(j-L)),V=new h(this),Q=new h(F),W=0;L<j;)Q.setUint8(W++,V.getUint8(L++));return F}}),u(43)("ArrayBuffer")},function(U,M,u){"use strict";var T=u(122),y=u(40);u(61)("WeakSet",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return T.def(y(this,"WeakSet"),S,!0)}},T,!1,!0)},function(U,M,u){"use strict";var T,y=u(19)(0),S=u(15),m=u(29),_=u(143),f=u(122),p=u(4),d=u(3),b=u(40),C=m.getWeak,h=Object.isExtensible,v=f.ufstore,O={},x=function(H){return function(){return H(this,arguments.length>0?arguments[0]:void 0)}},k={get:function(H){if(p(H)){var L=C(H);return!0===L?v(b(this,"WeakMap")).get(H):L?L[this._i]:void 0}},set:function(H,L){return f.def(b(this,"WeakMap"),H,L)}},G=U.exports=u(61)("WeakMap",x,k,f,!0,!0);d(function(){return 7!=(new G).set((Object.freeze||Object)(O),7).get(O)})&&(_((T=f.getConstructor(x,"WeakMap")).prototype,k),m.NEED=!0,y(["delete","has","get","set"],function(H){var L=G.prototype,j=L[H];S(L,H,function(F,V){if(p(F)&&!h(F)){this._f||(this._f=new T);var Q=this._f[H](F,V);return"set"==H?this:Q}return j.call(this,F,V)})}))},function(U,M,u){"use strict";var T=u(123),y=u(40);U.exports=u(61)("Set",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return T.def(y(this,"Set"),S=0===S?0:S,S)}},T)},function(U,M,u){"use strict";var T=u(123),y=u(40);U.exports=u(61)("Map",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{get:function(S){var m=T.getEntry(y(this,"Map"),S);return m&&m.v},set:function(S,m){return T.def(y(this,"Map"),0===S?0:S,m)}},T,!0)},function(U,M,u){var T=u(5),y=u(4),S=u(124);U.exports=function(m,_){if(T(m),y(_)&&_.constructor===m)return _;var f=S.f(m);return(0,f.resolve)(_),f.promise}},function(U,M){U.exports=function(u){try{return{e:!1,v:u()}}catch(T){return{e:!0,v:T}}}},function(U,M,u){var T=u(6),y=u(125).set,S=T.MutationObserver||T.WebKitMutationObserver,m=T.process,_=T.Promise,f="process"==u(25)(m);U.exports=function(){var p,d,b,C=function(){var x,k;for(f&&(x=m.domain)&&x.exit();p;){k=p.fn,p=p.next;try{k()}catch(G){throw p?b():d=void 0,G}}d=void 0,x&&x.enter()};if(f)b=function(){m.nextTick(C)};else if(!S||T.navigator&&T.navigator.standalone)if(_&&_.resolve){var h=_.resolve();b=function(){h.then(C)}}else b=function(){y.call(T,C)};else{var v=!0,O=document.createTextNode("");new S(C).observe(O,{characterData:!0}),b=function(){O.data=v=!v}}return function(x){var k={fn:x,next:void 0};d&&(d.next=k),p||(p=k,b()),d=k}}},function(U,M,u){"use strict";var T,y,S,m,_=u(44),f=u(6),p=u(27),d=u(66),b=u(0),C=u(4),h=u(26),v=u(42),O=u(62),x=u(76),k=u(125).set,G=u(209)(),H=u(124),L=u(208),j=u(207),F=f.TypeError,V=f.process,Q=f.Promise,W="process"==d(V),ee=function(){},J=y=H.f,ue=!!function(){try{var oe=Q.resolve(1),le=(oe.constructor={})[u(7)("species")]=function(de){de(ee,ee)};return(W||"function"==typeof PromiseRejectionEvent)&&oe.then(ee)instanceof le}catch(de){}}(),Ce=function(oe){var le;return!(!C(oe)||"function"!=typeof(le=oe.then))&&le},_e=function(oe,le){if(!oe._n){oe._n=!0;var de=oe._c;G(function(){for(var Be=oe._v,Je=1==oe._s,Le=0,Mt=function(qe){var je,ie,fe,pe=Je?qe.ok:qe.fail,Ge=qe.resolve,ze=qe.reject,et=qe.domain;try{pe?(Je||(2==oe._h&&se(oe),oe._h=1),!0===pe?je=Be:(et&&et.enter(),je=pe(Be),et&&(et.exit(),fe=!0)),je===qe.promise?ze(F("Promise-chain cycle")):(ie=Ce(je))?ie.call(je,Ge,ze):Ge(je)):ze(Be)}catch(xe){et&&!fe&&et.exit(),ze(xe)}};de.length>Le;)Mt(de[Le++]);oe._c=[],oe._n=!1,le&&!oe._h&&Ee(oe)})}},Ee=function(oe){k.call(f,function(){var le,de,Be,Je=oe._v,Le=X(oe);if(Le&&(le=L(function(){W?V.emit("unhandledRejection",Je,oe):(de=f.onunhandledrejection)?de({promise:oe,reason:Je}):(Be=f.console)&&Be.error&&Be.error("Unhandled promise rejection",Je)}),oe._h=W||X(oe)?2:1),oe._a=void 0,Le&&le.e)throw le.v})},X=function(oe){return 1!==oe._h&&0===(oe._a||oe._c).length},se=function(oe){k.call(f,function(){var le;W?V.emit("rejectionHandled",oe):(le=f.onrejectionhandled)&&le({promise:oe,reason:oe._v})})},Z=function(oe){var le=this;le._d||(le._d=!0,(le=le._w||le)._v=oe,le._s=2,le._a||(le._a=le._c.slice()),_e(le,!0))},be=function(oe){var le,de=this;if(!de._d){de._d=!0,de=de._w||de;try{if(de===oe)throw F("Promise can't be resolved itself");(le=Ce(oe))?G(function(){var Be={_w:de,_d:!1};try{le.call(oe,p(be,Be,1),p(Z,Be,1))}catch(Je){Z.call(Be,Je)}}):(de._v=oe,de._s=1,_e(de,!1))}catch(Be){Z.call({_w:de,_d:!1},Be)}}};ue||(Q=function(oe){v(this,Q,"Promise","_h"),h(oe),T.call(this);try{oe(p(be,this,1),p(Z,this,1))}catch(le){Z.call(this,le)}},(T=function(oe){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=u(41)(Q.prototype,{then:function(oe,le){var de=J(x(this,Q));return de.ok="function"!=typeof oe||oe,de.fail="function"==typeof le&&le,de.domain=W?V.domain:void 0,this._c.push(de),this._a&&this._a.push(de),this._s&&_e(this,!1),de.promise},catch:function(oe){return this.then(void 0,oe)}}),S=function(){var oe=new T;this.promise=oe,this.resolve=p(be,oe,1),this.reject=p(Z,oe,1)},H.f=J=function(oe){return oe===Q||oe===m?new S(oe):y(oe)}),b(b.G+b.W+b.F*!ue,{Promise:Q}),u(45)(Q,"Promise"),u(43)("Promise"),m=u(37).Promise,b(b.S+b.F*!ue,"Promise",{reject:function(oe){var le=J(this);return(0,le.reject)(oe),le.promise}}),b(b.S+b.F*(_||!ue),"Promise",{resolve:function(oe){return j(_&&this===m?Q:this,oe)}}),b(b.S+b.F*!(ue&&u(64)(function(oe){Q.all(oe).catch(ee)})),"Promise",{all:function(oe){var le=this,de=J(le),Be=de.resolve,Je=de.reject,Le=L(function(){var Mt=[],qe=0,je=1;O(oe,!1,function(ie){var fe=qe++,pe=!1;Mt.push(void 0),je++,le.resolve(ie).then(function(Ge){pe||(pe=!0,Mt[fe]=Ge,--je||Be(Mt))},Je)}),--je||Be(Mt)});return Le.e&&Je(Le.v),de.promise},race:function(oe){var le=this,de=J(le),Be=de.reject,Je=L(function(){O(oe,!1,function(Le){le.resolve(Le).then(de.resolve,Be)})});return Je.e&&Be(Je.v),de.promise}})},function(U,M,u){u(63)("split",2,function(T,y,S){"use strict";var m=u(82),_=S,f=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var p=void 0===/()??/.exec("")[1];S=function(d,b){var C=String(this);if(void 0===d&&0===b)return[];if(!m(d))return _.call(C,d,b);var h,v,O,x,k,G=[],H=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(d.sticky?"y":""),L=0,j=void 0===b?4294967295:b>>>0,F=new RegExp(d.source,H+"g");for(p||(h=new RegExp("^"+F.source+"$(?!\\s)",H));(v=F.exec(C))&&!((O=v.index+v[0].length)>L&&(G.push(C.slice(L,v.index)),!p&&v.length>1&&v[0].replace(h,function(){for(k=1;k<arguments.length-2;k++)void 0===arguments[k]&&(v[k]=void 0)}),v.length>1&&v.index<C.length&&f.apply(G,v.slice(1)),x=v[0].length,L=O,G.length>=j));)F.lastIndex===v.index&&F.lastIndex++;return L===C.length?!x&&F.test("")||G.push(""):G.push(C.slice(L)),G.length>j?G.slice(0,j):G}}else"0".split(void 0,0).length&&(S=function(d,b){return void 0===d&&0===b?[]:_.call(this,d,b)});return[function(d,b){var C=T(this),h=null==d?void 0:d[y];return void 0!==h?h.call(d,C,b):S.call(String(C),d,b)},S]})},function(U,M,u){u(63)("search",1,function(T,y,S){return[function(m){"use strict";var _=T(this),f=null==m?void 0:m[y];return void 0!==f?f.call(m,_):new RegExp(m)[y](String(_))},S]})},function(U,M,u){u(63)("replace",2,function(T,y,S){return[function(m,_){"use strict";var f=T(this),p=null==m?void 0:m[y];return void 0!==p?p.call(m,f,_):S.call(String(f),m,_)},S]})},function(U,M,u){u(63)("match",1,function(T,y,S){return[function(m){"use strict";var _=T(this),f=null==m?void 0:m[y];return void 0!==f?f.call(m,_):new RegExp(m)[y](String(_))},S]})},function(U,M,u){"use strict";u(126);var T=u(5),y=u(77),S=u(11),m=/./.toString,_=function(f){u(15)(RegExp.prototype,"toString",f,!0)};u(3)(function(){return"/a/b"!=m.call({source:"a",flags:"b"})})?_(function(){var f=T(this);return"/".concat(f.source,"/","flags"in f?f.flags:!S&&f instanceof RegExp?y.call(f):void 0)}):"toString"!=m.name&&_(function(){return m.call(this)})},function(U,M,u){var T=u(6),y=u(87),S=u(10).f,m=u(32).f,_=u(82),f=u(77),p=T.RegExp,d=p,b=p.prototype,C=/a/g,h=/a/g,v=new p(C)!==C;if(u(11)&&(!v||u(3)(function(){return h[u(7)("match")]=!1,p(C)!=C||p(h)==h||"/a/i"!=p(C,"i")}))){p=function(G,H){var L=this instanceof p,j=_(G),F=void 0===H;return!L&&j&&G.constructor===p&&F?G:y(v?new d(j&&!F?G.source:G,H):d((j=G instanceof p)?G.source:G,j&&F?f.call(G):H),L?this:b,p)};for(var O=function(G){G in p||S(p,G,{configurable:!0,get:function(){return d[G]},set:function(H){d[G]=H}})},x=m(d),k=0;x.length>k;)O(x[k++]);b.constructor=p,p.prototype=b,u(15)(T,"RegExp",p)}u(43)("RegExp")},function(U,M,u){u(43)("Array")},function(U,M,u){"use strict";var T=u(0),y=u(19)(6),S="findIndex",m=!0;S in[]&&Array(1)[S](function(){m=!1}),T(T.P+T.F*m,"Array",{findIndex:function(_){return y(this,_,arguments.length>1?arguments[1]:void 0)}}),u(52)(S)},function(U,M,u){"use strict";var T=u(0),y=u(19)(5),S=!0;"find"in[]&&Array(1).find(function(){S=!1}),T(T.P+T.F*S,"Array",{find:function(m){return y(this,m,arguments.length>1?arguments[1]:void 0)}}),u(52)("find")},function(U,M,u){var T=u(0);T(T.P,"Array",{fill:u(78)}),u(52)("fill")},function(U,M,u){var T=u(0);T(T.P,"Array",{copyWithin:u(129)}),u(52)("copyWithin")},function(U,M,u){"use strict";var T=u(0),y=u(21),S=u(24),m=u(12),_=[].lastIndexOf,f=!!_&&1/[1].lastIndexOf(1,-0)<0;T(T.P+T.F*(f||!u(17)(_)),"Array",{lastIndexOf:function(p){if(f)return _.apply(this,arguments)||0;var d=y(this),b=m(d.length),C=b-1;for(arguments.length>1&&(C=Math.min(C,S(arguments[1]))),C<0&&(C=b+C);C>=0;C--)if(C in d&&d[C]===p)return C||0;return-1}})},function(U,M,u){"use strict";var T=u(0),y=u(94)(!1),S=[].indexOf,m=!!S&&1/[1].indexOf(1,-0)<0;T(T.P+T.F*(m||!u(17)(S)),"Array",{indexOf:function(_){return m?S.apply(this,arguments)||0:y(this,_,arguments[1])}})},function(U,M,u){"use strict";var T=u(0),y=u(130);T(T.P+T.F*!u(17)([].reduceRight,!0),"Array",{reduceRight:function(S){return y(this,S,arguments.length,arguments[1],!0)}})},function(U,M,u){"use strict";var T=u(0),y=u(130);T(T.P+T.F*!u(17)([].reduce,!0),"Array",{reduce:function(S){return y(this,S,arguments.length,arguments[1],!1)}})},function(U,M,u){"use strict";var T=u(0),y=u(19)(4);T(T.P+T.F*!u(17)([].every,!0),"Array",{every:function(S){return y(this,S,arguments[1])}})},function(U,M,u){"use strict";var T=u(0),y=u(19)(3);T(T.P+T.F*!u(17)([].some,!0),"Array",{some:function(S){return y(this,S,arguments[1])}})},function(U,M,u){"use strict";var T=u(0),y=u(19)(2);T(T.P+T.F*!u(17)([].filter,!0),"Array",{filter:function(S){return y(this,S,arguments[1])}})},function(U,M,u){"use strict";var T=u(0),y=u(19)(1);T(T.P+T.F*!u(17)([].map,!0),"Array",{map:function(S){return y(this,S,arguments[1])}})},function(U,M,u){var T=u(4),y=u(91),S=u(7)("species");U.exports=function(m){var _;return y(m)&&("function"!=typeof(_=m.constructor)||_!==Array&&!y(_.prototype)||(_=void 0),T(_)&&null===(_=_[S])&&(_=void 0)),void 0===_?Array:_}},function(U,M,u){var T=u(230);U.exports=function(y,S){return new(T(y))(S)}},function(U,M,u){"use strict";var T=u(0),y=u(19)(0),S=u(17)([].forEach,!0);T(T.P+T.F*!S,"Array",{forEach:function(m){return y(this,m,arguments[1])}})},function(U,M,u){"use strict";var T=u(0),y=u(26),S=u(14),m=u(3),_=[].sort,f=[1,2,3];T(T.P+T.F*(m(function(){f.sort(void 0)})||!m(function(){f.sort(null)})||!u(17)(_)),"Array",{sort:function(p){return void 0===p?_.call(S(this)):_.call(S(this),y(p))}})},function(U,M,u){"use strict";var T=u(0),y=u(90),S=u(25),m=u(34),_=u(12),f=[].slice;T(T.P+T.F*u(3)(function(){y&&f.call(y)}),"Array",{slice:function(p,d){var b=_(this.length),C=S(this);if(d=void 0===d?b:d,"Array"==C)return f.call(this,p,d);for(var h=m(p,b),v=m(d,b),O=_(v-h),x=new Array(O),k=0;k<O;k++)x[k]="String"==C?this.charAt(h+k):this[h+k];return x}})},function(U,M,u){"use strict";var T=u(0),y=u(21),S=[].join;T(T.P+T.F*(u(54)!=Object||!u(17)(S)),"Array",{join:function(m){return S.call(y(this),void 0===m?",":m)}})},function(U,M,u){"use strict";var T=u(0),y=u(131);T(T.S+T.F*u(3)(function(){function S(){}return!(Array.of.call(S)instanceof S)}),"Array",{of:function(){for(var S=0,m=arguments.length,_=new("function"==typeof this?this:Array)(m);m>S;)y(_,S,arguments[S++]);return _.length=m,_}})},function(U,M,u){"use strict";var T=u(27),y=u(0),S=u(14),m=u(132),_=u(80),f=u(12),p=u(131),d=u(79);y(y.S+y.F*!u(64)(function(b){Array.from(b)}),"Array",{from:function(b){var C,h,v,O,x=S(b),k="function"==typeof this?this:Array,G=arguments.length,H=G>1?arguments[1]:void 0,L=void 0!==H,j=0,F=d(x);if(L&&(H=T(H,G>2?arguments[2]:void 0,2)),null==F||k==Array&&_(F))for(h=new k(C=f(x.length));C>j;j++)p(h,j,L?H(x[j],j):x[j]);else for(O=F.call(x),h=new k;!(v=O.next()).done;j++)p(h,j,L?m(O,H,[v.value,j],!0):v.value);return h.length=j,h}})},function(U,M,u){var T=u(0);T(T.S,"Array",{isArray:u(91)})},function(U,M,u){"use strict";var T=u(5),y=u(30);U.exports=function(S){if("string"!==S&&"number"!==S&&"default"!==S)throw TypeError("Incorrect hint");return y(T(this),"number"!=S)}},function(U,M,u){var T=u(7)("toPrimitive"),y=Date.prototype;T in y||u(18)(y,T,u(239))},function(U,M,u){var T=Date.prototype,y=T.toString,S=T.getTime;new Date(NaN)+""!="Invalid Date"&&u(15)(T,"toString",function(){var m=S.call(this);return m==m?y.call(this):"Invalid Date"})},function(U,M,u){"use strict";var T=u(3),y=Date.prototype.getTime,S=Date.prototype.toISOString,m=function(_){return _>9?_:"0"+_};U.exports=T(function(){return"0385-07-25T07:06:39.999Z"!=S.call(new Date(-50000000000001))})||!T(function(){S.call(new Date(NaN))})?function(){if(!isFinite(y.call(this)))throw RangeError("Invalid time value");var _=this,f=_.getUTCFullYear(),p=_.getUTCMilliseconds(),d=f<0?"-":f>9999?"+":"";return d+("00000"+Math.abs(f)).slice(d?-6:-4)+"-"+m(_.getUTCMonth()+1)+"-"+m(_.getUTCDate())+"T"+m(_.getUTCHours())+":"+m(_.getUTCMinutes())+":"+m(_.getUTCSeconds())+"."+(p>99?p:"0"+m(p))+"Z"}:S},function(U,M,u){var T=u(0),y=u(242);T(T.P+T.F*(Date.prototype.toISOString!==y),"Date",{toISOString:y})},function(U,M,u){"use strict";var T=u(0),y=u(14),S=u(30);T(T.P+T.F*u(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(m){var _=y(this),f=S(_);return"number"!=typeof f||isFinite(f)?_.toISOString():null}})},function(U,M,u){var T=u(0);T(T.S,"Date",{now:function(){return(new Date).getTime()}})},function(U,M,u){"use strict";u(13)("sup",function(T){return function(){return T(this,"sup","","")}})},function(U,M,u){"use strict";u(13)("sub",function(T){return function(){return T(this,"sub","","")}})},function(U,M,u){"use strict";u(13)("strike",function(T){return function(){return T(this,"strike","","")}})},function(U,M,u){"use strict";u(13)("small",function(T){return function(){return T(this,"small","","")}})},function(U,M,u){"use strict";u(13)("link",function(T){return function(y){return T(this,"a","href",y)}})},function(U,M,u){"use strict";u(13)("italics",function(T){return function(){return T(this,"i","","")}})},function(U,M,u){"use strict";u(13)("fontsize",function(T){return function(y){return T(this,"font","size",y)}})},function(U,M,u){"use strict";u(13)("fontcolor",function(T){return function(y){return T(this,"font","color",y)}})},function(U,M,u){"use strict";u(13)("fixed",function(T){return function(){return T(this,"tt","","")}})},function(U,M,u){"use strict";u(13)("bold",function(T){return function(){return T(this,"b","","")}})},function(U,M,u){"use strict";u(13)("blink",function(T){return function(){return T(this,"blink","","")}})},function(U,M,u){"use strict";u(13)("big",function(T){return function(){return T(this,"big","","")}})},function(U,M,u){"use strict";u(13)("anchor",function(T){return function(y){return T(this,"a","name",y)}})},function(U,M,u){"use strict";var T=u(0),y=u(12),S=u(83),m="".startsWith;T(T.P+T.F*u(81)("startsWith"),"String",{startsWith:function(_){var f=S(this,_,"startsWith"),p=y(Math.min(arguments.length>1?arguments[1]:void 0,f.length)),d=String(_);return m?m.call(f,d,p):f.slice(p,p+d.length)===d}})},function(U,M,u){var T=u(0);T(T.P,"String",{repeat:u(137)})},function(U,M,u){"use strict";var T=u(0),y=u(83);T(T.P+T.F*u(81)("includes"),"String",{includes:function(S){return!!~y(this,S,"includes").indexOf(S,arguments.length>1?arguments[1]:void 0)}})},function(U,M,u){"use strict";var T=u(0),y=u(12),S=u(83),m="".endsWith;T(T.P+T.F*u(81)("endsWith"),"String",{endsWith:function(_){var f=S(this,_,"endsWith"),p=arguments.length>1?arguments[1]:void 0,d=y(f.length),b=void 0===p?d:Math.min(y(p),d),C=String(_);return m?m.call(f,C,b):f.slice(b-C.length,b)===C}})},function(U,M,u){"use strict";var T=u(0),y=u(134)(!1);T(T.P,"String",{codePointAt:function(S){return y(this,S)}})},function(U,M,u){"use strict";var T=u(134)(!0);u(84)(String,"String",function(y){this._t=String(y),this._i=0},function(){var y,S=this._t,m=this._i;return m>=S.length?{value:void 0,done:!0}:(y=T(S,m),this._i+=y.length,{value:y,done:!1})})},function(U,M,u){"use strict";u(65)("trim",function(T){return function(){return T(this,3)}})},function(U,M,u){var T=u(0),y=u(21),S=u(12);T(T.S,"String",{raw:function(m){for(var _=y(m.raw),f=S(_.length),p=arguments.length,d=[],b=0;f>b;)d.push(String(_[b++])),b<p&&d.push(String(arguments[b]));return d.join("")}})},function(U,M,u){var T=u(0),y=u(34),S=String.fromCharCode,m=String.fromCodePoint;T(T.S+T.F*(!!m&&1!=m.length),"String",{fromCodePoint:function(_){for(var f,p=[],d=arguments.length,b=0;d>b;){if(f=+arguments[b++],y(f,1114111)!==f)throw RangeError(f+" is not a valid code point");p.push(f<65536?S(f):S(55296+((f-=65536)>>10),f%1024+56320))}return p.join("")}})},function(U,M,u){var T=u(0);T(T.S,"Math",{trunc:function(y){return(y>0?Math.floor:Math.ceil)(y)}})},function(U,M,u){var T=u(0),y=u(85),S=Math.exp;T(T.S,"Math",{tanh:function(m){var _=y(m=+m),f=y(-m);return _==1/0?1:f==1/0?-1:(_-f)/(S(m)+S(-m))}})},function(U,M,u){var T=u(0),y=u(85),S=Math.exp;T(T.S+T.F*u(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(m){return Math.abs(m=+m)<1?(y(m)-y(-m))/2:(S(m-1)-S(-m-1))*(Math.E/2)}})},function(U,M,u){var T=u(0);T(T.S,"Math",{sign:u(86)})},function(U,M,u){var T=u(0);T(T.S,"Math",{log2:function(y){return Math.log(y)/Math.LN2}})},function(U,M,u){var T=u(0);T(T.S,"Math",{log1p:u(135)})},function(U,M,u){var T=u(0);T(T.S,"Math",{log10:function(y){return Math.log(y)*Math.LOG10E}})},function(U,M,u){var T=u(0),y=Math.imul;T(T.S+T.F*u(3)(function(){return-5!=y(4294967295,5)||2!=y.length}),"Math",{imul:function(S,m){var _=+S,f=+m,p=65535&_,d=65535&f;return 0|p*d+((65535&_>>>16)*d+p*(65535&f>>>16)<<16>>>0)}})},function(U,M,u){var T=u(0),y=Math.abs;T(T.S,"Math",{hypot:function(S,m){for(var _,f,p=0,d=0,b=arguments.length,C=0;d<b;)C<(_=y(arguments[d++]))?(p=p*(f=C/_)*f+1,C=_):p+=_>0?(f=_/C)*f:_;return C===1/0?1/0:C*Math.sqrt(p)}})},function(U,M,u){var T=u(86),y=Math.pow,S=y(2,-52),m=y(2,-23),_=y(2,127)*(2-m),f=y(2,-126);U.exports=Math.fround||function(p){var d,b,C=Math.abs(p),h=T(p);return C<f?h*(C/f/m+1/S-1/S)*f*m:(b=(d=(1+m/S)*C)-(d-C))>_||b!=b?h*(1/0):h*b}},function(U,M,u){var T=u(0);T(T.S,"Math",{fround:u(277)})},function(U,M,u){var T=u(0),y=u(85);T(T.S+T.F*(y!=Math.expm1),"Math",{expm1:y})},function(U,M,u){var T=u(0),y=Math.exp;T(T.S,"Math",{cosh:function(S){return(y(S=+S)+y(-S))/2}})},function(U,M,u){var T=u(0);T(T.S,"Math",{clz32:function(y){return(y>>>=0)?31-Math.floor(Math.log(y+.5)*Math.LOG2E):32}})},function(U,M,u){var T=u(0),y=u(86);T(T.S,"Math",{cbrt:function(S){return y(S=+S)*Math.pow(Math.abs(S),1/3)}})},function(U,M,u){var T=u(0),y=Math.atanh;T(T.S+T.F*!(y&&1/y(-0)<0),"Math",{atanh:function(S){return 0==(S=+S)?S:Math.log((1+S)/(1-S))/2}})},function(U,M,u){var T=u(0),y=Math.asinh;T(T.S+T.F*!(y&&1/y(0)>0),"Math",{asinh:function S(m){return isFinite(m=+m)&&0!=m?m<0?-S(-m):Math.log(m+Math.sqrt(m*m+1)):m}})},function(U,M,u){var T=u(0),y=u(135),S=Math.sqrt,m=Math.acosh;T(T.S+T.F*!(m&&710==Math.floor(m(Number.MAX_VALUE))&&m(1/0)==1/0),"Math",{acosh:function(_){return(_=+_)<1?NaN:_>94906265.62425156?Math.log(_)+Math.LN2:y(_-1+S(_-1)*S(_+1))}})},function(U,M,u){var T=u(0),y=u(140);T(T.S+T.F*(Number.parseInt!=y),"Number",{parseInt:y})},function(U,M,u){var T=u(0),y=u(139);T(T.S+T.F*(Number.parseFloat!=y),"Number",{parseFloat:y})},function(U,M,u){var T=u(0);T(T.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(U,M,u){var T=u(0);T(T.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(U,M,u){var T=u(0),y=u(136),S=Math.abs;T(T.S,"Number",{isSafeInteger:function(m){return y(m)&&S(m)<=9007199254740991}})},function(U,M,u){var T=u(0);T(T.S,"Number",{isNaN:function(y){return y!=y}})},function(U,M,u){var T=u(0);T(T.S,"Number",{isInteger:u(136)})},function(U,M,u){var T=u(0),y=u(6).isFinite;T(T.S,"Number",{isFinite:function(S){return"number"==typeof S&&y(S)}})},function(U,M,u){var T=u(0);T(T.S,"Number",{EPSILON:Math.pow(2,-52)})},function(U,M,u){"use strict";var T=u(0),y=u(3),S=u(138),m=1..toPrecision;T(T.P+T.F*(y(function(){return"1"!==m.call(1,void 0)})||!y(function(){m.call({})})),"Number",{toPrecision:function(_){var f=S(this,"Number#toPrecision: incorrect invocation!");return void 0===_?m.call(f):m.call(f,_)}})},function(U,M,u){"use strict";var T=u(0),y=u(24),S=u(138),m=u(137),_=1..toFixed,f=Math.floor,p=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",b=function(O,x){for(var k=-1,G=x;++k<6;)p[k]=(G+=O*p[k])%1e7,G=f(G/1e7)},C=function(O){for(var x=6,k=0;--x>=0;)p[x]=f((k+=p[x])/O),k=k%O*1e7},h=function(){for(var O=6,x="";--O>=0;)if(""!==x||0===O||0!==p[O]){var k=String(p[O]);x=""===x?k:x+m.call("0",7-k.length)+k}return x},v=function(O,x,k){return 0===x?k:x%2==1?v(O,x-1,k*O):v(O*O,x/2,k)};T(T.P+T.F*(!!_&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u(3)(function(){_.call({})})),"Number",{toFixed:function(O){var x,k,G,H,L=S(this,d),j=y(O),F="",V="0";if(j<0||j>20)throw RangeError(d);if(L!=L)return"NaN";if(L<=-1e21||L>=1e21)return String(L);if(L<0&&(F="-",L=-L),L>1e-21)if(k=(x=function(Q){for(var W=0,ee=Q;ee>=4096;)W+=12,ee/=4096;for(;ee>=2;)W+=1,ee/=2;return W}(L*v(2,69,1))-69)<0?L*v(2,-x,1):L/v(2,x,1),k*=4503599627370496,(x=52-x)>0){for(b(0,k),G=j;G>=7;)b(1e7,0),G-=7;for(b(v(10,G,1),0),G=x-1;G>=23;)C(1<<23),G-=23;C(1<<G),b(1,1),C(2),V=h()}else b(0,k),b(1<<-x,0),V=h()+m.call("0",j);return j>0?F+((H=V.length)<=j?"0."+m.call("0",j-H)+V:V.slice(0,H-j)+"."+V.slice(H-j)):F+V}})},function(U,M,u){"use strict";var T=u(6),y=u(16),S=u(25),m=u(87),_=u(30),f=u(3),p=u(32).f,d=u(23).f,b=u(10).f,C=u(65).trim,h=T.Number,v=h,O=h.prototype,x="Number"==S(u(33)(O)),k="trim"in String.prototype,G=function(F){var V=_(F,!1);if("string"==typeof V&&V.length>2){var Q,W,ee,J=(V=k?V.trim():C(V,3)).charCodeAt(0);if(43===J||45===J){if(88===(Q=V.charCodeAt(2))||120===Q)return NaN}else if(48===J){switch(V.charCodeAt(1)){case 66:case 98:W=2,ee=49;break;case 79:case 111:W=8,ee=55;break;default:return+V}for(var ue,Ce=V.slice(2),_e=0,Ee=Ce.length;_e<Ee;_e++)if((ue=Ce.charCodeAt(_e))<48||ue>ee)return NaN;return parseInt(Ce,W)}}return+V};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(F){var V=arguments.length<1?0:F,Q=this;return Q instanceof h&&(x?f(function(){O.valueOf.call(Q)}):"Number"!=S(Q))?m(new v(G(V)),Q,h):G(V)};for(var H,L=u(11)?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;L.length>j;j++)y(v,H=L[j])&&!y(h,H)&&b(h,H,d(v,H));h.prototype=O,O.constructor=h,u(15)(T,"Number",h)}},function(U,M,u){var T=u(0),y=u(139);T(T.G+T.F*(parseFloat!=y),{parseFloat:y})},function(U,M,u){var T=u(0),y=u(140);T(T.G+T.F*(parseInt!=y),{parseInt:y})},function(U,M,u){"use strict";var T=u(4),y=u(31),S=u(7)("hasInstance"),m=Function.prototype;S in m||u(10).f(m,S,{value:function(_){if("function"!=typeof this||!T(_))return!1;if(!T(this.prototype))return _ instanceof this;for(;_=y(_);)if(this.prototype===_)return!0;return!1}})},function(U,M,u){var T=u(10).f,y=Function.prototype,S=/^\s*function ([^ (]*)/;"name"in y||u(11)&&T(y,"name",{configurable:!0,get:function(){try{return(""+this).match(S)[1]}catch(m){return""}}})},function(U,M,u){var T=u(0);T(T.P,"Function",{bind:u(142)})},function(U,M,u){"use strict";var T=u(66),y={};y[u(7)("toStringTag")]="z",y+""!="[object z]"&&u(15)(Object.prototype,"toString",function(){return"[object "+T(this)+"]"},!0)},function(U,M,u){var T=u(0);T(T.S,"Object",{setPrototypeOf:u(89).set})},function(U,M){U.exports=Object.is||function(u,T){return u===T?0!==u||1/u==1/T:u!=u&&T!=T}},function(U,M,u){var T=u(0);T(T.S,"Object",{is:u(305)})},function(U,M,u){var T=u(0);T(T.S+T.F,"Object",{assign:u(143)})},function(U,M,u){var T=u(4);u(20)("isExtensible",function(y){return function(S){return!!T(S)&&(!y||y(S))}})},function(U,M,u){var T=u(4);u(20)("isSealed",function(y){return function(S){return!T(S)||!!y&&y(S)}})},function(U,M,u){var T=u(4);u(20)("isFrozen",function(y){return function(S){return!T(S)||!!y&&y(S)}})},function(U,M,u){var T=u(4),y=u(29).onFreeze;u(20)("preventExtensions",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,u){var T=u(4),y=u(29).onFreeze;u(20)("seal",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,u){var T=u(4),y=u(29).onFreeze;u(20)("freeze",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,u){u(20)("getOwnPropertyNames",function(){return u(144).f})},function(U,M,u){var T=u(14),y=u(55);u(20)("keys",function(){return function(S){return y(T(S))}})},function(U,M,u){var T=u(14),y=u(31);u(20)("getPrototypeOf",function(){return function(S){return y(T(S))}})},function(U,M,u){var T=u(21),y=u(23).f;u(20)("getOwnPropertyDescriptor",function(){return function(S,m){return y(T(S),m)}})},function(U,M,u){var T=u(0);T(T.S+T.F*!u(11),"Object",{defineProperties:u(145)})},function(U,M,u){var T=u(0);T(T.S+T.F*!u(11),"Object",{defineProperty:u(10).f})},function(U,M,u){var T=u(0);T(T.S,"Object",{create:u(33)})},function(U,M,u){var T=u(55),y=u(68),S=u(67);U.exports=function(m){var _=T(m),f=y.f;if(f)for(var p,d=f(m),b=S.f,C=0;d.length>C;)b.call(m,p=d[C++])&&_.push(p);return _}},function(U,M,u){var T=u(6),y=u(37),S=u(44),m=u(147),_=u(10).f;U.exports=function(f){var p=y.Symbol||(y.Symbol=S?{}:T.Symbol||{});"_"==f.charAt(0)||f in p||_(p,f,{value:m.f(f)})}},function(U,M,u){"use strict";var T=u(6),y=u(16),S=u(11),m=u(0),_=u(15),f=u(29).KEY,p=u(3),d=u(95),b=u(45),C=u(35),h=u(7),v=u(147),O=u(322),x=u(321),k=u(91),G=u(5),H=u(4),L=u(21),j=u(30),F=u(36),V=u(33),Q=u(144),W=u(23),ee=u(10),J=u(55),ue=W.f,Ce=ee.f,_e=Q.f,Ee=T.Symbol,X=T.JSON,se=X&&X.stringify,Z=h("_hidden"),be=h("toPrimitive"),oe={}.propertyIsEnumerable,le=d("symbol-registry"),de=d("symbols"),Be=d("op-symbols"),Je=Object.prototype,Le="function"==typeof Ee,Mt=T.QObject,qe=!Mt||!Mt.prototype||!Mt.prototype.findChild,je=S&&p(function(){return 7!=V(Ce({},"a",{get:function(){return Ce(this,"a",{value:7}).a}})).a})?function(tt,ft,ve){var ge=ue(Je,ft);ge&&delete Je[ft],Ce(tt,ft,ve),ge&&tt!==Je&&Ce(Je,ft,ge)}:Ce,ie=function(tt){var ft=de[tt]=V(Ee.prototype);return ft._k=tt,ft},fe=Le&&"symbol"==typeof Ee.iterator?function(tt){return"symbol"==typeof tt}:function(tt){return tt instanceof Ee},pe=function(tt,ft,ve){return tt===Je&&pe(Be,ft,ve),G(tt),ft=j(ft,!0),G(ve),y(de,ft)?(ve.enumerable?(y(tt,Z)&&tt[Z][ft]&&(tt[Z][ft]=!1),ve=V(ve,{enumerable:F(0,!1)})):(y(tt,Z)||Ce(tt,Z,F(1,{})),tt[Z][ft]=!0),je(tt,ft,ve)):Ce(tt,ft,ve)},Ge=function(tt,ft){G(tt);for(var ve,ge=x(ft=L(ft)),we=0,Re=ge.length;Re>we;)pe(tt,ve=ge[we++],ft[ve]);return tt},ze=function(tt){var ft=oe.call(this,tt=j(tt,!0));return!(this===Je&&y(de,tt)&&!y(Be,tt))&&(!(ft||!y(this,tt)||!y(de,tt)||y(this,Z)&&this[Z][tt])||ft)},et=function(tt,ft){if(tt=L(tt),ft=j(ft,!0),tt!==Je||!y(de,ft)||y(Be,ft)){var ve=ue(tt,ft);return!ve||!y(de,ft)||y(tt,Z)&&tt[Z][ft]||(ve.enumerable=!0),ve}},xe=function(tt){for(var ft,ve=_e(L(tt)),ge=[],we=0;ve.length>we;)y(de,ft=ve[we++])||ft==Z||ft==f||ge.push(ft);return ge},He=function(tt){for(var ft,ve=tt===Je,ge=_e(ve?Be:L(tt)),we=[],Re=0;ge.length>Re;)!y(de,ft=ge[Re++])||ve&&!y(Je,ft)||we.push(de[ft]);return we};Le||(_((Ee=function(){if(this instanceof Ee)throw TypeError("Symbol is not a constructor!");var tt=C(arguments.length>0?arguments[0]:void 0),ft=function(ve){this===Je&&ft.call(Be,ve),y(this,Z)&&y(this[Z],tt)&&(this[Z][tt]=!1),je(this,tt,F(1,ve))};return S&&qe&&je(Je,tt,{configurable:!0,set:ft}),ie(tt)}).prototype,"toString",function(){return this._k}),W.f=et,ee.f=pe,u(32).f=Q.f=xe,u(67).f=ze,u(68).f=He,S&&!u(44)&&_(Je,"propertyIsEnumerable",ze,!0),v.f=function(tt){return ie(h(tt))}),m(m.G+m.W+m.F*!Le,{Symbol:Ee});for(var zt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),It=0;zt.length>It;)h(zt[It++]);for(var qt=J(h.store),zn=0;qt.length>zn;)O(qt[zn++]);m(m.S+m.F*!Le,"Symbol",{for:function(tt){return y(le,tt+="")?le[tt]:le[tt]=Ee(tt)},keyFor:function(tt){if(!fe(tt))throw TypeError(tt+" is not a symbol!");for(var ft in le)if(le[ft]===tt)return ft},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),m(m.S+m.F*!Le,"Object",{create:function(tt,ft){return void 0===ft?V(tt):Ge(V(tt),ft)},defineProperty:pe,defineProperties:Ge,getOwnPropertyDescriptor:et,getOwnPropertyNames:xe,getOwnPropertySymbols:He}),X&&m(m.S+m.F*(!Le||p(function(){var tt=Ee();return"[null]"!=se([tt])||"{}"!=se({a:tt})||"{}"!=se(Object(tt))})),"JSON",{stringify:function(tt){for(var ft,ve,ge=[tt],we=1;arguments.length>we;)ge.push(arguments[we++]);if(ve=ft=ge[1],(H(ft)||void 0!==tt)&&!fe(tt))return k(ft)||(ft=function(Re,Se){if("function"==typeof ve&&(Se=ve.call(this,Re,Se)),!fe(Se))return Se}),ge[1]=ft,se.apply(X,ge)}}),Ee.prototype[be]||u(18)(Ee.prototype,be,Ee.prototype.valueOf),b(Ee,"Symbol"),b(Math,"Math",!0),b(T.JSON,"JSON",!0)},function(U,M,u){u(323),u(320),u(319),u(318),u(317),u(316),u(315),u(314),u(313),u(312),u(311),u(310),u(309),u(308),u(307),u(306),u(304),u(303),u(302),u(301),u(300),u(299),u(298),u(297),u(296),u(295),u(294),u(293),u(292),u(291),u(290),u(289),u(288),u(287),u(286),u(285),u(284),u(283),u(282),u(281),u(280),u(279),u(278),u(276),u(275),u(274),u(273),u(272),u(271),u(270),u(269),u(268),u(267),u(266),u(265),u(264),u(263),u(262),u(261),u(260),u(259),u(258),u(257),u(256),u(255),u(254),u(253),u(252),u(251),u(250),u(249),u(248),u(247),u(246),u(245),u(244),u(243),u(241),u(240),u(238),u(237),u(236),u(235),u(234),u(233),u(232),u(229),u(228),u(227),u(226),u(225),u(224),u(223),u(222),u(221),u(220),u(219),u(218),u(217),u(128),u(216),u(215),u(126),u(214),u(213),u(212),u(211),u(210),u(206),u(205),u(204),u(203),u(202),u(201),u(200),u(199),u(198),u(197),u(196),u(195),u(194),u(193),u(192),u(191),u(190),u(189),u(188),u(187),u(186),u(185),u(184),u(183),u(182),u(181),u(179),u(178),u(177),U.exports=u(37)},function(U,M,u){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MD5=M.SFSRoom=M.SetBuddyVariablesRequest=M.RemoveBuddyRequest=M.InitBuddyListRequest=M.GoOnlineRequest=M.BuddyMessageRequest=M.BlockBuddyRequest=M.AddBuddyRequest=M.SetUserPositionRequest=M.QuickJoinGameRequest=M.JoinRoomInvitationRequest=M.InviteUsersRequest=M.InvitationReplyRequest=M.CreateSFSGameRequest=M.BanUserRequest=M.KickUserRequest=M.ExtensionRequest=M.FindUsersRequest=M.FindRoomsRequest=M.PlayerToSpectatorRequest=M.SpectatorToPlayerRequest=M.UnsubscribeRoomGroupRequest=M.SubscribeRoomGroupRequest=M.SetUserVariablesRequest=M.SetRoomVariablesRequest=M.AdminMessageRequest=M.ModeratorMessageRequest=M.ObjectMessageRequest=M.PrivateMessageRequest=M.PublicMessageRequest=M.ChangeRoomCapacityRequest=M.ChangeRoomPasswordStateRequest=M.ChangeRoomNameRequest=M.LeaveRoomRequest=M.QuickJoinOrCreateRoomRequest=M.CreateRoomRequest=M.JoinRoomRequest=M.LogoutRequest=M.LoginRequest=M.PasswordUtil=M.ClientDisconnectionReason=M.LoggerEvent=M.LogLevel=M.SFSErrorCodes=M.MessageRecipientMode=M.BanMode=M.MapLimits=M.RoomExtension=M.RoomEvents=M.RoomPermissions=M.MMORoomSettings=M.SFSGameSettings=M.RoomSettings=M.UserProperties=M.RoomProperties=M.StringMatch=M.NumberMatch=M.BoolMatch=M.LogicOperator=M.MatchExpression=M.MMOItemVariable=M.ReservedBuddyVariables=M.SFSBuddyVariable=M.ReservedRoomVariables=M.SFSRoomVariable=M.SFSUserVariable=M.VariableType=M.UserPrivileges=M.InvitationReply=M.Vec3D=M.SFSArray=M.SFSObject=M.SFSDataType=M.SFSBuddyEvent=M.SFSEvent=M.SmartFox=void 0;var T=u(324);Object.keys(T).forEach(function(ft){"default"!==ft&&"__esModule"!==ft&&Object.defineProperty(M,ft,{enumerable:!0,get:function(){return T[ft]}})});var y=u(176);Object.defineProperty(M,"SmartFox",{enumerable:!0,get:function(){return y.SmartFox}});var S=u(39);Object.defineProperty(M,"SFSEvent",{enumerable:!0,get:function(){return S.SFSEvent}}),Object.defineProperty(M,"SFSBuddyEvent",{enumerable:!0,get:function(){return S.SFSBuddyEvent}});var m=u(8);Object.defineProperty(M,"SFSDataType",{enumerable:!0,get:function(){return m.SFSDataType}}),Object.defineProperty(M,"SFSObject",{enumerable:!0,get:function(){return m.SFSObject}}),Object.defineProperty(M,"SFSArray",{enumerable:!0,get:function(){return m.SFSArray}}),Object.defineProperty(M,"Vec3D",{enumerable:!0,get:function(){return m.Vec3D}});var _=u(72);Object.defineProperty(M,"InvitationReply",{enumerable:!0,get:function(){return _.InvitationReply}});var f=u(47);Object.defineProperty(M,"UserPrivileges",{enumerable:!0,get:function(){return f.UserPrivileges}});var p=u(48);Object.defineProperty(M,"VariableType",{enumerable:!0,get:function(){return p.VariableType}});var d=u(59);Object.defineProperty(M,"SFSUserVariable",{enumerable:!0,get:function(){return d.SFSUserVariable}});var b=u(49);Object.defineProperty(M,"SFSRoomVariable",{enumerable:!0,get:function(){return b.SFSRoomVariable}}),Object.defineProperty(M,"ReservedRoomVariables",{enumerable:!0,get:function(){return b.ReservedRoomVariables}});var C=u(46);Object.defineProperty(M,"SFSBuddyVariable",{enumerable:!0,get:function(){return C.SFSBuddyVariable}}),Object.defineProperty(M,"ReservedBuddyVariables",{enumerable:!0,get:function(){return C.ReservedBuddyVariables}});var h=u(73);Object.defineProperty(M,"MMOItemVariable",{enumerable:!0,get:function(){return h.MMOItemVariable}});var v=u(38);Object.defineProperty(M,"MatchExpression",{enumerable:!0,get:function(){return v.MatchExpression}}),Object.defineProperty(M,"LogicOperator",{enumerable:!0,get:function(){return v.LogicOperator}});var O=u(161);Object.defineProperty(M,"BoolMatch",{enumerable:!0,get:function(){return O.BoolMatch}}),Object.defineProperty(M,"NumberMatch",{enumerable:!0,get:function(){return O.NumberMatch}}),Object.defineProperty(M,"StringMatch",{enumerable:!0,get:function(){return O.StringMatch}});var x=u(160);Object.defineProperty(M,"RoomProperties",{enumerable:!0,get:function(){return x.RoomProperties}}),Object.defineProperty(M,"UserProperties",{enumerable:!0,get:function(){return x.UserProperties}});var k=u(56);Object.defineProperty(M,"RoomSettings",{enumerable:!0,get:function(){return k.RoomSettings}}),Object.defineProperty(M,"SFSGameSettings",{enumerable:!0,get:function(){return k.SFSGameSettings}}),Object.defineProperty(M,"MMORoomSettings",{enumerable:!0,get:function(){return k.MMORoomSettings}}),Object.defineProperty(M,"RoomPermissions",{enumerable:!0,get:function(){return k.RoomPermissions}}),Object.defineProperty(M,"RoomEvents",{enumerable:!0,get:function(){return k.RoomEvents}}),Object.defineProperty(M,"RoomExtension",{enumerable:!0,get:function(){return k.RoomExtension}}),Object.defineProperty(M,"MapLimits",{enumerable:!0,get:function(){return k.MapLimits}}),Object.defineProperty(M,"BanMode",{enumerable:!0,get:function(){return k.BanMode}}),Object.defineProperty(M,"MessageRecipientMode",{enumerable:!0,get:function(){return k.MessageRecipientMode}});var G=u(74);Object.defineProperty(M,"SFSErrorCodes",{enumerable:!0,get:function(){return G.SFSErrorCodes}});var H=u(50);Object.defineProperty(M,"LogLevel",{enumerable:!0,get:function(){return H.LogLevel}}),Object.defineProperty(M,"LoggerEvent",{enumerable:!0,get:function(){return H.LoggerEvent}});var L=u(51);Object.defineProperty(M,"ClientDisconnectionReason",{enumerable:!0,get:function(){return L.ClientDisconnectionReason}});var j=u(159);Object.defineProperty(M,"PasswordUtil",{enumerable:!0,get:function(){return j.PasswordUtil}});var F=u(118);Object.defineProperty(M,"LoginRequest",{enumerable:!0,get:function(){return F.LoginRequest}});var V=u(117);Object.defineProperty(M,"LogoutRequest",{enumerable:!0,get:function(){return V.LogoutRequest}});var Q=u(116);Object.defineProperty(M,"JoinRoomRequest",{enumerable:!0,get:function(){return Q.JoinRoomRequest}});var W=u(57);Object.defineProperty(M,"CreateRoomRequest",{enumerable:!0,get:function(){return W.CreateRoomRequest}});var ee=u(158);Object.defineProperty(M,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return ee.QuickJoinOrCreateRoomRequest}});var J=u(157);Object.defineProperty(M,"LeaveRoomRequest",{enumerable:!0,get:function(){return J.LeaveRoomRequest}});var ue=u(115);Object.defineProperty(M,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return ue.ChangeRoomNameRequest}});var Ce=u(114);Object.defineProperty(M,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Ce.ChangeRoomPasswordStateRequest}});var _e=u(113);Object.defineProperty(M,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return _e.ChangeRoomCapacityRequest}});var Ee=u(70);Object.defineProperty(M,"PublicMessageRequest",{enumerable:!0,get:function(){return Ee.PublicMessageRequest}}),Object.defineProperty(M,"PrivateMessageRequest",{enumerable:!0,get:function(){return Ee.PrivateMessageRequest}}),Object.defineProperty(M,"ObjectMessageRequest",{enumerable:!0,get:function(){return Ee.ObjectMessageRequest}}),Object.defineProperty(M,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Ee.ModeratorMessageRequest}}),Object.defineProperty(M,"AdminMessageRequest",{enumerable:!0,get:function(){return Ee.AdminMessageRequest}});var X=u(112);Object.defineProperty(M,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return X.SetRoomVariablesRequest}});var se=u(111);Object.defineProperty(M,"SetUserVariablesRequest",{enumerable:!0,get:function(){return se.SetUserVariablesRequest}});var Z=u(110);Object.defineProperty(M,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return Z.SubscribeRoomGroupRequest}});var be=u(109);Object.defineProperty(M,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return be.UnsubscribeRoomGroupRequest}});var oe=u(108);Object.defineProperty(M,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return oe.SpectatorToPlayerRequest}});var le=u(107);Object.defineProperty(M,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return le.PlayerToSpectatorRequest}});var de=u(106);Object.defineProperty(M,"FindRoomsRequest",{enumerable:!0,get:function(){return de.FindRoomsRequest}});var Be=u(105);Object.defineProperty(M,"FindUsersRequest",{enumerable:!0,get:function(){return Be.FindUsersRequest}});var Je=u(97);Object.defineProperty(M,"ExtensionRequest",{enumerable:!0,get:function(){return Je.ExtensionRequest}});var Le=u(156);Object.defineProperty(M,"KickUserRequest",{enumerable:!0,get:function(){return Le.KickUserRequest}});var Mt=u(155);Object.defineProperty(M,"BanUserRequest",{enumerable:!0,get:function(){return Mt.BanUserRequest}});var qe=u(154);Object.defineProperty(M,"CreateSFSGameRequest",{enumerable:!0,get:function(){return qe.CreateSFSGameRequest}});var je=u(153);Object.defineProperty(M,"InvitationReplyRequest",{enumerable:!0,get:function(){return je.InvitationReplyRequest}});var ie=u(69);Object.defineProperty(M,"InviteUsersRequest",{enumerable:!0,get:function(){return ie.InviteUsersRequest}});var fe=u(152);Object.defineProperty(M,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return fe.JoinRoomInvitationRequest}});var pe=u(151);Object.defineProperty(M,"QuickJoinGameRequest",{enumerable:!0,get:function(){return pe.QuickJoinGameRequest}});var Ge=u(104);Object.defineProperty(M,"SetUserPositionRequest",{enumerable:!0,get:function(){return Ge.SetUserPositionRequest}});var ze=u(102);Object.defineProperty(M,"AddBuddyRequest",{enumerable:!0,get:function(){return ze.AddBuddyRequest}});var et=u(100);Object.defineProperty(M,"BlockBuddyRequest",{enumerable:!0,get:function(){return et.BlockBuddyRequest}});var xe=u(150);Object.defineProperty(M,"BuddyMessageRequest",{enumerable:!0,get:function(){return xe.BuddyMessageRequest}});var He=u(99);Object.defineProperty(M,"GoOnlineRequest",{enumerable:!0,get:function(){return He.GoOnlineRequest}});var zt=u(103);Object.defineProperty(M,"InitBuddyListRequest",{enumerable:!0,get:function(){return zt.InitBuddyListRequest}});var It=u(101);Object.defineProperty(M,"RemoveBuddyRequest",{enumerable:!0,get:function(){return It.RemoveBuddyRequest}});var qt=u(98);Object.defineProperty(M,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return qt.SetBuddyVariablesRequest}});var zn=u(9);Object.defineProperty(M,"SFSRoom",{enumerable:!0,get:function(){return zn.SFSRoom}});var tt=u(71);Object.defineProperty(M,"MD5",{enumerable:!0,get:function(){return tt.MD5}}),u(149)}])},209:(me,U,M)=>{"use strict";var u=M(8810);me.exports=M(3096)(u),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(me,U,M)=>{"use strict";var u=M(3894),T=M(4532);function y(){T.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}u(y,T),me.exports=y},17:(me,U,M)=>{"use strict";var u=M(3894),T=M(9895);function y(){T.call(this)}u(y,T),y.prototype.removeAllListeners=function(S){S?delete this._listeners[S]:this._listeners={}},y.prototype.once=function(S,m){var _=this,f=!1;this.on(S,function p(){_.removeListener(S,p),f||(f=!0,m.apply(this,arguments))})},y.prototype.emit=function(){var S=arguments[0],m=this._listeners[S];if(m){for(var _=arguments.length,f=new Array(_-1),p=1;p<_;p++)f[p-1]=arguments[p];for(var d=0;d<m.length;d++)m[d].apply(this,f)}},y.prototype.on=y.prototype.addListener=T.prototype.addEventListener,y.prototype.removeListener=T.prototype.removeEventListener,me.exports.v=y},4532:me=>{"use strict";function U(M){this.type=M}U.prototype.initEvent=function(M,u,T){return this.type=M,this.bubbles=u,this.cancelable=T,this.timeStamp=+new Date,this},U.prototype.stopPropagation=function(){},U.prototype.preventDefault=function(){},U.CAPTURING_PHASE=1,U.AT_TARGET=2,U.BUBBLING_PHASE=3,me.exports=U},9895:me=>{"use strict";function U(){this._listeners={}}U.prototype.addEventListener=function(M,u){M in this._listeners||(this._listeners[M]=[]);var T=this._listeners[M];-1===T.indexOf(u)&&(T=T.concat([u])),this._listeners[M]=T},U.prototype.removeEventListener=function(M,u){var T=this._listeners[M];if(T){var y=T.indexOf(u);if(-1!==y)return void(T.length>1?this._listeners[M]=T.slice(0,y).concat(T.slice(y+1)):delete this._listeners[M])}},U.prototype.dispatchEvent=function(){var M=arguments[0],u=M.type,T=1===arguments.length?[M]:Array.apply(null,arguments);if(this["on"+u]&&this["on"+u].apply(this,T),u in this._listeners)for(var y=this._listeners[u],S=0;S<y.length;S++)y[S].apply(this,T)},me.exports=U},4572:(me,U,M)=>{"use strict";var u=M(3894),T=M(4532);function y(S){T.call(this),this.initEvent("message",!1,!1),this.data=S}u(y,T),me.exports=y},7299:(me,U,M)=>{"use strict";var u=M(8075);function T(y){this._transport=y,y.on("message",this._transportMessage.bind(this)),y.on("close",this._transportClose.bind(this))}T.prototype._transportClose=function(y,S){u.postMessage("c",JSON.stringify([y,S]))},T.prototype._transportMessage=function(y){u.postMessage("t",y)},T.prototype._send=function(y){this._transport.send(y)},T.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},me.exports=T},737:(me,U,M)=>{"use strict";var u=M(1493),T=M(3865),y=M(7299),S=M(5841),m=M(8075),_=M(205);me.exports=function(p,d){var C,b={};d.forEach(function(h){h.facadeTransport&&(b[h.facadeTransport.transportName]=h.facadeTransport)}),b[S.transportName]=S,p.bootstrap_iframe=function(){var h;m.currentWindowId=_.hash.slice(1),T.attachEvent("message",function(O){if(O.source===parent&&(void 0===C&&(C=O.origin),O.origin===C)){var x;try{x=JSON.parse(O.data)}catch(F){return}if(x.windowId===m.currentWindowId)switch(x.type){case"s":var k;try{k=JSON.parse(x.data)}catch(F){break}var G=k[0],H=k[1],L=k[2],j=k[3];if(G!==p.version)throw new Error('Incompatible SockJS! Main site uses: "'+G+'", the iframe: "'+p.version+'".');if(!u.isOriginEqual(L,_.href)||!u.isOriginEqual(j,_.href))throw new Error("Can't connect to different domain from within an iframe. ("+_.href+", "+L+", "+j+")");h=new y(new b[H](L,j));break;case"m":h._send(x.data);break;case"c":h&&h._close(),h=null}}}),m.postMessage("s")}}},8834:(me,U,M)=>{"use strict";var u=M(17).v,T=M(3894),y=M(2923);function m(_,f){u.call(this);var p=this,d=+new Date;this.xo=new f("GET",_),this.xo.once("finish",function(b,C){var h,v;if(200===b){if(v=+new Date-d,C)try{h=JSON.parse(C)}catch(O){}y.isObject(h)||(h={})}p.emit("finish",h,v),p.removeAllListeners()})}T(m,u),m.prototype.close=function(){this.removeAllListeners(),this.xo.close()},me.exports=m},5841:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v,y=M(7898),S=M(8834);function m(_){var f=this;T.call(this),this.ir=new S(_,y),this.ir.once("finish",function(p,d){f.ir=null,f.emit("message",JSON.stringify([p,d]))})}u(m,T),m.transportName="iframe-info-receiver",m.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},me.exports=m},5672:(me,U,M)=>{"use strict";var u=M(17).v,T=M(3894),y=M(3865),S=M(7415),m=M(5841);function f(p,d){var b=this;u.call(this);var C=function(){var h=b.ifr=new S(m.transportName,d,p);h.once("message",function(v){if(v){var O;try{O=JSON.parse(v)}catch(G){return b.emit("finish"),void b.close()}b.emit("finish",O[0],O[1])}b.close()}),h.once("close",function(){b.emit("finish"),b.close()})};global.document.body?C():y.attachEvent("load",C)}T(f,u),f.enabled=function(){return S.enabled()},f.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},me.exports=f},6689:(me,U,M)=>{"use strict";var u=M(17).v,T=M(3894),y=M(1493),S=M(5705),m=M(7807),_=M(7898),f=M(9312),p=M(5672),d=M(8834);function C(h,v){var O=this;u.call(this),setTimeout(function(){O.doXhr(h,v)},0)}T(C,u),C._getReceiver=function(h,v,O){return O.sameOrigin?new d(v,_):m.enabled?new d(v,m):S.enabled&&O.sameScheme?new d(v,S):p.enabled()?new p(h,v):new d(v,f)},C.prototype.doXhr=function(h,v){var O=this,x=y.addPath(h,"/info");this.xo=C._getReceiver(h,x,v),this.timeoutRef=setTimeout(function(){O._cleanup(!1),O.emit("finish")},C.timeout),this.xo.once("finish",function(k,G){O._cleanup(!0),O.emit("finish",k,G)})},C.prototype._cleanup=function(h){clearTimeout(this.timeoutRef),this.timeoutRef=null,!h&&this.xo&&this.xo.close(),this.xo=null},C.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},C.timeout=8e3,me.exports=C},205:me=>{"use strict";me.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(me,U,M)=>{"use strict";M(5904);var H,u=M(7629),T=M(3894),y=M(347),S=M(8481),m=M(1493),_=M(3865),f=M(2264),p=M(2923),d=M(480),b=M(1433),C=M(4532),h=M(9895),v=M(205),O=M(8265),x=M(4572),k=M(6689);function L(F,V,Q){if(!(this instanceof L))return new L(F,V,Q);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");h.call(this),this.readyState=L.CONNECTING,this.extensions="",this.protocol="",(Q=Q||{}).protocols_whitelist&&b.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=Q.transports,this._transportOptions=Q.transportOptions||{},this._timeout=Q.timeout||0;var W=Q.sessionId||8;if("function"==typeof W)this._generateSessionId=W;else{if("number"!=typeof W)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return y.string(W)}}this._server=Q.server||y.numberString(1e3);var ee=new u(F);if(!ee.host||!ee.protocol)throw new SyntaxError("The URL '"+F+"' is invalid");if(ee.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ee.protocol&&"https:"!==ee.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ee.protocol+"' is not allowed.");var J="https:"===ee.protocol;if("https:"===v.protocol&&!J&&!m.isLoopbackAddr(ee.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");V?Array.isArray(V)||(V=[V]):V=[];var ue=V.sort();ue.forEach(function(_e,Ee){if(!_e)throw new SyntaxError("The protocols entry '"+_e+"' is invalid.");if(Ee<ue.length-1&&_e===ue[Ee+1])throw new SyntaxError("The protocols entry '"+_e+"' is duplicated.")});var Ce=m.getOrigin(v.href);this._origin=Ce?Ce.toLowerCase():null,ee.set("pathname",ee.pathname.replace(/\/+$/,"")),this.url=ee.href,this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:m.isOriginEqual(this.url,v.href),sameScheme:m.isSchemeEqual(this.url,v.href)},this._ir=new k(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function j(F){return 1e3===F||F>=3e3&&F<=4999}T(L,h),L.prototype.close=function(F,V){if(F&&!j(F))throw new Error("InvalidAccessError: Invalid code");if(V&&V.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==L.CLOSING&&this.readyState!==L.CLOSED&&this._close(F||1e3,V||"Normal closure",!0)},L.prototype.send=function(F){if("string"!=typeof F&&(F=""+F),this.readyState===L.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===L.OPEN&&this._transport.send(S.quote(F))},L.version=M(947),L.CONNECTING=0,L.OPEN=1,L.CLOSING=2,L.CLOSED=3,L.prototype._receiveInfo=function(F,V){if(this._ir=null,F){this._rto=this.countRTO(V),this._transUrl=F.base_url?F.base_url:this.url,F=p.extend(F,this._urlInfo);var Q=H.filterToEnabled(this._transportsWhitelist,F);this._transports=Q.main,this._connect()}else this._close(1002,"Cannot connect to server")},L.prototype._connect=function(){for(var F=this._transports.shift();F;F=this._transports.shift()){if(F.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(F),void _.attachEvent("load",this._connect.bind(this));var V=Math.max(this._timeout,this._rto*F.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),V);var ee=new F(m.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[F.transportName]);return ee.on("message",this._transportMessage.bind(this)),ee.once("close",this._transportClose.bind(this)),ee.transportName=F.transportName,void(this._transport=ee)}this._close(2e3,"All transports failed",!1)},L.prototype._transportTimeout=function(){this.readyState===L.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},L.prototype._transportMessage=function(F){var ee,V=this,Q=F.slice(0,1),W=F.slice(1);switch(Q){case"o":return void this._open();case"h":return void this.dispatchEvent(new C("heartbeat"))}if(W)try{ee=JSON.parse(W)}catch(J){}if(void 0!==ee)switch(Q){case"a":Array.isArray(ee)&&ee.forEach(function(J){V.dispatchEvent(new x(J))});break;case"m":this.dispatchEvent(new x(ee));break;case"c":Array.isArray(ee)&&2===ee.length&&this._close(ee[0],ee[1],!0)}},L.prototype._transportClose=function(F,V){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),j(F)||2e3===F||this.readyState!==L.CONNECTING?this._close(F,V):this._connect()},L.prototype._open=function(){this.readyState===L.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=L.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new C("open"))):this._close(1006,"Server lost session")},L.prototype._close=function(F,V,Q){var W=!1;if(this._ir&&(W=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===L.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=L.CLOSING,setTimeout(function(){this.readyState=L.CLOSED,W&&this.dispatchEvent(new C("error"));var ee=new O("close");ee.wasClean=Q||!1,ee.code=F||1e3,ee.reason=V,this.dispatchEvent(ee),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},L.prototype.countRTO=function(F){return F>100?4*F:300+F},me.exports=function(F){return H=f(F),M(737)(L,F),L}},5904:()=>{"use strict";var p,me=Array.prototype,U=Object.prototype,M=Function.prototype,u=String.prototype,T=me.slice,y=U.toString,S=function(F){return"[object Function]"===U.toString.call(F)},_=function(V){return"[object String]"===y.call(V)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(F){return!1}}();p=f?function(F,V,Q,W){!W&&V in F||Object.defineProperty(F,V,{configurable:!0,enumerable:!1,writable:!0,value:Q})}:function(F,V,Q,W){!W&&V in F||(F[V]=Q)};var d=function(F,V,Q){for(var W in V)U.hasOwnProperty.call(V,W)&&p(F,W,V[W],Q)},b=function(F){if(null==F)throw new TypeError("can't convert "+F+" to object");return Object(F)};function C(F){var V=+F;return V!=V?V=0:0!==V&&V!==1/0&&V!==-1/0&&(V=(V>0||-1)*Math.floor(Math.abs(V))),V}function v(){}d(M,{bind:function(V){var Q=this;if(!S(Q))throw new TypeError("Function.prototype.bind called on incompatible "+Q);for(var W=T.call(arguments,1),ee=function(){if(this instanceof _e){var Ee=Q.apply(this,W.concat(T.call(arguments)));return Object(Ee)===Ee?Ee:this}return Q.apply(V,W.concat(T.call(arguments)))},J=Math.max(0,Q.length-W.length),ue=[],Ce=0;Ce<J;Ce++)ue.push("$"+Ce);var _e=Function("binder","return function ("+ue.join(",")+"){ return binder.apply(this, arguments); }")(ee);return Q.prototype&&(v.prototype=Q.prototype,_e.prototype=new v,v.prototype=null),_e}}),d(Array,{isArray:function(V){return"[object Array]"===y.call(V)}});var V,Q,W,O=Object("a"),x="a"!==O[0]||!(0 in O);d(me,{forEach:function(V){var Q=b(this),W=x&&_(this)?this.split(""):Q,ee=arguments[1],J=-1,ue=W.length>>>0;if(!S(V))throw new TypeError;for(;++J<ue;)J in W&&V.call(ee,W[J],J,Q)}},(Q=!0,W=!0,(V=me.forEach)&&(V.call("foo",function(ee,J,ue){"object"!=typeof ue&&(Q=!1)}),V.call([1],function(){W="string"==typeof this},"x")),!(V&&Q&&W)));var G=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);d(me,{indexOf:function(V){var Q=x&&_(this)?this.split(""):b(this),W=Q.length>>>0;if(!W)return-1;var ee=0;for(arguments.length>1&&(ee=C(arguments[1])),ee=ee>=0?ee:Math.max(0,W+ee);ee<W;ee++)if(ee in Q&&Q[ee]===V)return ee;return-1}},G);var F,H=u.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(F=void 0===/()??/.exec("")[1],u.split=function(V,Q){var W=this;if(void 0===V&&0===Q)return[];if("[object RegExp]"!==y.call(V))return H.call(this,V,Q);var Ce,_e,Ee,X,ee=[],J=(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.extended?"x":"")+(V.sticky?"y":""),ue=0;for(V=new RegExp(V.source,J+"g"),W+="",F||(Ce=new RegExp("^"+V.source+"$(?!\\s)",J)),Q=void 0===Q?-1>>>0:function h(F){return F>>>0}(Q);(_e=V.exec(W))&&!((Ee=_e.index+_e[0].length)>ue&&(ee.push(W.slice(ue,_e.index)),!F&&_e.length>1&&_e[0].replace(Ce,function(){for(var se=1;se<arguments.length-2;se++)void 0===arguments[se]&&(_e[se]=void 0)}),_e.length>1&&_e.index<W.length&&me.push.apply(ee,_e.slice(1)),X=_e[0].length,ue=Ee,ee.length>=Q));)V.lastIndex===_e.index&&V.lastIndex++;return ue===W.length?(X||!V.test(""))&&ee.push(""):ee.push(W.slice(ue)),ee.length>Q?ee.slice(0,Q):ee}):"0".split(void 0,0).length&&(u.split=function(V,Q){return void 0===V&&0===Q?[]:H.call(this,V,Q)});var L=u.substr;d(u,{substr:function(V,Q){return L.call(this,V<0&&(V=this.length+V)<0?0:V,Q)}},"".substr&&"b"!=="0b".substr(-1))},8810:(me,U,M)=>{"use strict";me.exports=[M(7040),M(3897),M(4053),M(1591),M(9802)(M(1591)),M(3362),M(9802)(M(3362)),M(7237),M(8931),M(9802)(M(7237)),M(545)]},3134:(me,U,M)=>{"use strict";var u=M(17).v,T=M(3894),y=M(3865),S=M(1493),m=global.XMLHttpRequest;function f(b,C,h,v){var O=this;u.call(this),setTimeout(function(){O._start(b,C,h,v)},0)}T(f,u),f.prototype._start=function(b,C,h,v){var O=this;try{this.xhr=new m}catch(k){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();C=S.addQuery(C,"t="+ +new Date),this.unloadRef=y.unloadAdd(function(){O._cleanup(!0)});try{this.xhr.open(b,C,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){O.emit("finish",0,""),O._cleanup(!1)})}catch(k){return this.emit("finish",0,""),void this._cleanup(!1)}if((!v||!v.noCredentials)&&f.supportsCORS&&(this.xhr.withCredentials=!0),v&&v.headers)for(var x in v.headers)this.xhr.setRequestHeader(x,v.headers[x]);this.xhr.onreadystatechange=function(){if(O.xhr){var G,H,k=O.xhr;switch(k.readyState){case 3:try{H=k.status,G=k.responseText}catch(L){}1223===H&&(H=204),200===H&&G&&G.length>0&&O.emit("chunk",H,G);break;case 4:1223===(H=k.status)&&(H=204),(12005===H||12029===H)&&(H=0),O.emit("finish",H,k.responseText),O._cleanup(!1)}}};try{O.xhr.send(h)}catch(k){O.emit("finish",0,""),O._cleanup(!1)}},f.prototype._cleanup=function(b){if(this.xhr){if(this.removeAllListeners(),y.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),b)try{this.xhr.abort()}catch(C){}this.unloadRef=this.xhr=null}},f.prototype.close=function(){this._cleanup(!0)},f.enabled=!!m;var p=["Active"].concat("Object").join("X");!f.enabled&&p in global&&(f.enabled=!!new(m=function(){try{return new global[p]("Microsoft.XMLHTTP")}catch(b){return null}}));var d=!1;try{d="withCredentials"in new m}catch(b){}f.supportsCORS=d,me.exports=f},8513:me=>{me.exports=global.EventSource},3848:me=>{"use strict";var U=global.WebSocket||global.MozWebSocket;me.exports=U?function(u){return new U(u)}:void 0},1591:(me,U,M)=>{"use strict";var u=M(3894),T=M(4172),y=M(3436),S=M(7807),m=M(8513);function _(f){if(!_.enabled())throw new Error("Transport created when disabled");T.call(this,f,"/eventsource",y,S)}u(_,T),_.enabled=function(){return!!m},_.transportName="eventsource",_.roundTrips=2,me.exports=_},3362:(me,U,M)=>{"use strict";var u=M(3894),T=M(288),y=M(7898),S=M(4172);function m(_){if(!T.enabled)throw new Error("Transport created when disabled");S.call(this,_,"/htmlfile",T,y)}u(m,S),m.enabled=function(_){return T.enabled&&_.sameOrigin},m.transportName="htmlfile",m.roundTrips=2,me.exports=m},7415:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v,y=M(947),S=M(1493),m=M(8075),_=M(3865),f=M(347);function d(b,C,h){if(!d.enabled())throw new Error("Transport created when disabled");T.call(this);var v=this;this.origin=S.getOrigin(h),this.baseUrl=h,this.transUrl=C,this.transport=b,this.windowId=f.string(8);var O=S.addPath(h,"/iframe.html")+"#"+this.windowId;this.iframeObj=m.createIframe(O,function(x){v.emit("close",1006,"Unable to load an iframe ("+x+")"),v.close()}),this.onmessageCallback=this._message.bind(this),_.attachEvent("message",this.onmessageCallback)}u(d,T),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){_.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(b){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(b){if(S.isOriginEqual(b.origin,this.origin)){var C;try{C=JSON.parse(b.data)}catch(v){return}if(C.windowId===this.windowId)switch(C.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([y,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",C.data);break;case"c":var h;try{h=JSON.parse(C.data)}catch(v){return}this.emit("close",h[0],h[1]),this.close()}}},d.prototype.postMessage=function(b,C){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:b,data:C||""}),this.origin)},d.prototype.send=function(b){this.postMessage("m",b)},d.enabled=function(){return m.iframeEnabled},d.transportName="iframe",d.roundTrips=2,me.exports=d},545:(me,U,M)=>{"use strict";var u=M(3894),T=M(4196),y=M(8785),S=M(3216);function m(_){if(!m.enabled())throw new Error("Transport created when disabled");T.call(this,_,"/jsonp",S,y)}u(m,T),m.enabled=function(){return!!global.document},m.transportName="jsonp-polling",m.roundTrips=1,m.needBody=!0,me.exports=m},4172:(me,U,M)=>{"use strict";var u=M(3894),T=M(1493),y=M(4196);function _(f,p,d,b){y.call(this,f,p,function m(f){return function(p,d,b){var C={};"string"==typeof d&&(C.headers={"Content-type":"text/plain"});var h=T.addPath(p,"/xhr_send"),v=new f("POST",h,d,C);return v.once("finish",function(O){if(v=null,200!==O&&204!==O)return b(new Error("http status "+O));b()}),function(){v.close(),v=null;var O=new Error("Aborted");O.code=1e3,b(O)}}}(b),d,b)}u(_,y),me.exports=_},9661:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v;function S(m,_){T.call(this),this.sendBuffer=[],this.sender=_,this.url=m}u(S,T),S.prototype.send=function(m){this.sendBuffer.push(m),this.sendStop||this.sendSchedule()},S.prototype.sendScheduleWait=function(){var _,m=this;this.sendStop=function(){m.sendStop=null,clearTimeout(_)},_=setTimeout(function(){m.sendStop=null,m.sendSchedule()},25)},S.prototype.sendSchedule=function(){var m=this;if(this.sendBuffer.length>0){var _="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,_,function(f){m.sendStop=null,f?(m.emit("close",f.code||1006,"Sending error: "+f),m.close()):m.sendScheduleWait()}),this.sendBuffer=[]}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},me.exports=S},9802:(me,U,M)=>{"use strict";var u=M(3894),T=M(7415),y=M(2923);me.exports=function(S){function m(_,f){T.call(this,S.transportName,_,f)}return u(m,T),m.enabled=function(_,f){if(!global.document)return!1;var p=y.extend({},f);return p.sameOrigin=!0,S.enabled(p)&&T.enabled()},m.transportName="iframe-"+S.transportName,m.needBody=!0,m.roundTrips=T.roundTrips+S.roundTrips-1,m.facadeTransport=S,m}},20:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v;function S(m,_,f){T.call(this),this.Receiver=m,this.receiveUrl=_,this.AjaxObject=f,this._scheduleReceiver()}u(S,T),S.prototype._scheduleReceiver=function(){var m=this,_=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);_.on("message",function(f){m.emit("message",f)}),_.once("close",function(f,p){m.poll=_=null,m.pollIsClosing||("network"===p?m._scheduleReceiver():(m.emit("close",f||1006,p),m.removeAllListeners()))})},S.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},me.exports=S},4196:(me,U,M)=>{"use strict";var u=M(3894),T=M(1493),y=M(9661),S=M(20);function _(f,p,d,b,C){var h=T.addPath(f,p),v=this;y.call(this,f,d),this.poll=new S(b,h,C),this.poll.on("message",function(O){v.emit("message",O)}),this.poll.once("close",function(O,x){v.poll=null,v.emit("close",O,x),v.close()})}u(_,y),_.prototype.close=function(){y.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},me.exports=_},3436:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v,y=M(8513);function m(_){T.call(this);var f=this,p=this.es=new y(_);p.onmessage=function(d){f.emit("message",decodeURI(d.data))},p.onerror=function(d){var b=2!==p.readyState?"network":"permanent";f._cleanup(),f._close(b)}}u(m,T),m.prototype.abort=function(){this._cleanup(),this._close("user")},m.prototype._cleanup=function(){var _=this.es;_&&(_.onmessage=_.onerror=null,_.close(),this.es=null)},m.prototype._close=function(_){var f=this;setTimeout(function(){f.emit("close",null,_),f.removeAllListeners()},200)},me.exports=m},288:(me,U,M)=>{"use strict";var u=M(3894),T=M(8075),y=M(1493),S=M(17).v,m=M(347);function f(d){S.call(this);var b=this;T.polluteGlobalNamespace(),this.id="a"+m.string(6),d=y.addQuery(d,"c="+decodeURIComponent(T.WPrefix+"."+this.id));var C=f.htmlfileEnabled?T.createHtmlfile:T.createIframe;global[T.WPrefix][this.id]={start:function(){b.iframeObj.loaded()},message:function(h){b.emit("message",h)},stop:function(){b._cleanup(),b._close("network")}},this.iframeObj=C(d,function(){b._cleanup(),b._close("permanent")})}u(f,S),f.prototype.abort=function(){this._cleanup(),this._close("user")},f.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[T.WPrefix][this.id]},f.prototype._close=function(d){this.emit("close",null,d),this.removeAllListeners()},f.htmlfileEnabled=!1;var p=["Active"].concat("Object").join("X");if(p in global)try{f.htmlfileEnabled=!!new global[p]("htmlfile")}catch(d){}f.enabled=f.htmlfileEnabled||T.iframeEnabled,me.exports=f},8785:(me,U,M)=>{"use strict";var u=M(8075),T=M(347),y=M(480),S=M(1493),m=M(3894),_=M(17).v;function p(d){var b=this;_.call(this),u.polluteGlobalNamespace(),this.id="a"+T.string(6);var C=S.addQuery(d,"c="+encodeURIComponent(u.WPrefix+"."+this.id));global[u.WPrefix][this.id]=this._callback.bind(this),this._createScript(C),this.timeoutId=setTimeout(function(){b._abort(new Error("JSONP script loaded abnormally (timeout)"))},p.timeout)}m(p,_),p.prototype.abort=function(){if(global[u.WPrefix][this.id]){var d=new Error("JSONP user aborted read");d.code=1e3,this._abort(d)}},p.timeout=35e3,p.scriptErrorTimeout=1e3,p.prototype._callback=function(d){this._cleanup(),!this.aborting&&(d&&this.emit("message",d),this.emit("close",null,"network"),this.removeAllListeners())},p.prototype._abort=function(d){this._cleanup(),this.aborting=!0,this.emit("close",d.code,d.message),this.removeAllListeners()},p.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var d=this.script;d.parentNode.removeChild(d),d.onreadystatechange=d.onerror=d.onload=d.onclick=null,this.script=null}delete global[u.WPrefix][this.id]},p.prototype._scriptError=function(){var d=this;this.errorTimer||(this.errorTimer=setTimeout(function(){d.loadedOkay||d._abort(new Error("JSONP script loaded abnormally (onerror)"))},p.scriptErrorTimeout))},p.prototype._createScript=function(d){var h,b=this,C=this.script=global.document.createElement("script");if(C.id="a"+T.string(8),C.src=d,C.type="text/javascript",C.charset="UTF-8",C.onerror=this._scriptError.bind(this),C.onload=function(){b._abort(new Error("JSONP script loaded abnormally (onload)"))},C.onreadystatechange=function(){if(/loaded|closed/.test(C.readyState)){if(C&&C.htmlFor&&C.onclick){b.loadedOkay=!0;try{C.onclick()}catch(O){}}C&&b._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===C.async&&global.document.attachEvent)if(y.isOpera())(h=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+C.id+"'); if(a)a.onerror();}catch(x){};",C.async=h.async=!1;else{try{C.htmlFor=C.id,C.event="onclick"}catch(O){}C.async=!0}void 0!==C.async&&(C.async=!0);var v=global.document.getElementsByTagName("head")[0];v.insertBefore(C,v.firstChild),h&&v.insertBefore(h,v.firstChild)},me.exports=p},6909:(me,U,M)=>{"use strict";var u=M(3894),T=M(17).v;function S(m,_){T.call(this);var f=this;this.bufferPosition=0,this.xo=new _("POST",m,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(p,d){f._chunkHandler(p,d),f.xo=null,f.emit("close",null,200===p?"network":"permanent"),f._cleanup()})}u(S,T),S.prototype._chunkHandler=function(m,_){if(200===m&&_)for(var f=-1;;this.bufferPosition+=f+1){var p=_.slice(this.bufferPosition);if(-1===(f=p.indexOf("\n")))break;var d=p.slice(0,f);d&&this.emit("message",d)}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},me.exports=S},3216:(me,U,M)=>{"use strict";var S,m,u=M(347),T=M(1493);me.exports=function(p,d,b){S||function f(){(S=global.document.createElement("form")).style.display="none",S.style.position="absolute",S.method="POST",S.enctype="application/x-www-form-urlencoded",S.acceptCharset="UTF-8",(m=global.document.createElement("textarea")).name="d",S.appendChild(m),global.document.body.appendChild(S)}();var C="a"+u.string(8);S.target=C,S.action=T.addQuery(T.addPath(p,"/jsonp_send"),"i="+C);var h=function _(p){try{return global.document.createElement('<iframe name="'+p+'">')}catch(b){var d=global.document.createElement("iframe");return d.name=p,d}}(C);h.id=C,h.style.display="none",S.appendChild(h);try{m.value=d}catch(O){}S.submit();var v=function(O){h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){h.parentNode.removeChild(h),h=null},500),m.value="",b(O))};return h.onerror=function(){v()},h.onload=function(){v()},h.onreadystatechange=function(O){"complete"===h.readyState&&v()},function(){v(new Error("Aborted"))}}},5705:(me,U,M)=>{"use strict";var u=M(17).v,T=M(3894),y=M(3865),S=M(480),m=M(1493);function f(p,d,b){var C=this;u.call(this),setTimeout(function(){C._start(p,d,b)},0)}T(f,u),f.prototype._start=function(p,d,b){var C=this,h=new global.XDomainRequest;d=m.addQuery(d,"t="+ +new Date),h.onerror=function(){C._error()},h.ontimeout=function(){C._error()},h.onprogress=function(){C.emit("chunk",200,h.responseText)},h.onload=function(){C.emit("finish",200,h.responseText),C._cleanup(!1)},this.xdr=h,this.unloadRef=y.unloadAdd(function(){C._cleanup(!0)});try{this.xdr.open(p,d),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(b)}catch(v){this._error()}},f.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},f.prototype._cleanup=function(p){if(this.xdr){if(this.removeAllListeners(),y.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,p)try{this.xdr.abort()}catch(d){}this.unloadRef=this.xdr=null}},f.prototype.close=function(){this._cleanup(!0)},f.enabled=!(!global.XDomainRequest||!S.hasDomain()),me.exports=f},7807:(me,U,M)=>{"use strict";var u=M(3894),T=M(3134);function y(S,m,_,f){T.call(this,S,m,_,f)}u(y,T),y.enabled=T.enabled&&T.supportsCORS,me.exports=y},9312:(me,U,M)=>{"use strict";var u=M(17).v;function y(){var S=this;u.call(this),this.to=setTimeout(function(){S.emit("finish",200,"{}")},y.timeout)}M(3894)(y,u),y.prototype.close=function(){clearTimeout(this.to)},y.timeout=2e3,me.exports=y},7898:(me,U,M)=>{"use strict";var u=M(3894),T=M(3134);function y(S,m,_){T.call(this,S,m,_,{noCredentials:!0})}u(y,T),y.enabled=T.enabled,me.exports=y},7040:(me,U,M)=>{"use strict";var u=M(3865),T=M(1493),y=M(3894),S=M(17).v,m=M(3848);function f(p,d,b){if(!f.enabled())throw new Error("Transport created when disabled");S.call(this);var C=this,h=T.addPath(p,"/websocket");h="https"===h.slice(0,5)?"wss"+h.slice(5):"ws"+h.slice(4),this.url=h,this.ws=new m(this.url,[],b),this.ws.onmessage=function(v){C.emit("message",v.data)},this.unloadRef=u.unloadAdd(function(){C.ws.close()}),this.ws.onclose=function(v){C.emit("close",v.code,v.reason),C._cleanup()},this.ws.onerror=function(v){C.emit("close",1006,"WebSocket connection broken"),C._cleanup()}}y(f,S),f.prototype.send=function(p){this.ws.send("["+p+"]")},f.prototype.close=function(){var p=this.ws;this._cleanup(),p&&p.close()},f.prototype._cleanup=function(){var p=this.ws;p&&(p.onmessage=p.onclose=p.onerror=null),u.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},f.enabled=function(){return!!m},f.transportName="websocket",f.roundTrips=2,me.exports=f},8931:(me,U,M)=>{"use strict";var u=M(3894),T=M(4172),y=M(4053),S=M(6909),m=M(5705);function _(f){if(!m.enabled)throw new Error("Transport created when disabled");T.call(this,f,"/xhr",S,m)}u(_,T),_.enabled=y.enabled,_.transportName="xdr-polling",_.roundTrips=2,me.exports=_},4053:(me,U,M)=>{"use strict";var u=M(3894),T=M(4172),y=M(6909),S=M(5705);function m(_){if(!S.enabled)throw new Error("Transport created when disabled");T.call(this,_,"/xhr_streaming",y,S)}u(m,T),m.enabled=function(_){return!_.cookie_needed&&!_.nullOrigin&&S.enabled&&_.sameScheme},m.transportName="xdr-streaming",m.roundTrips=2,me.exports=m},7237:(me,U,M)=>{"use strict";var u=M(3894),T=M(4172),y=M(6909),S=M(7807),m=M(7898);function _(f){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");T.call(this,f,"/xhr",y,S)}u(_,T),_.enabled=function(f){return!f.nullOrigin&&(!(!m.enabled||!f.sameOrigin)||S.enabled)},_.transportName="xhr-polling",_.roundTrips=2,me.exports=_},3897:(me,U,M)=>{"use strict";var u=M(3894),T=M(4172),y=M(6909),S=M(7807),m=M(7898),_=M(480);function f(p){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");T.call(this,p,"/xhr_streaming",y,S)}u(f,T),f.enabled=function(p){return!p.nullOrigin&&!_.isOpera()&&S.enabled},f.transportName="xhr-streaming",f.roundTrips=2,f.needBody=!!global.document,me.exports=f},8143:me=>{"use strict";me.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(U){var M=new Uint8Array(U);return global.crypto.getRandomValues(M),M}:function(U){for(var M=new Array(U),u=0;u<U;u++)M[u]=Math.floor(256*Math.random());return M}},480:me=>{"use strict";me.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(U){return!1}}}},8481:me=>{"use strict";var M,U=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;me.exports={quote:function(T){var y=JSON.stringify(T);return U.lastIndex=0,U.test(y)?(M||(M=function(T){var y,S={},m=[];for(y=0;y<65536;y++)m.push(String.fromCharCode(y));return T.lastIndex=0,m.join("").replace(T,function(_){return S[_]="\\u"+("0000"+_.charCodeAt(0).toString(16)).slice(-4),""}),T.lastIndex=0,S}(U)),y.replace(U,function(S){return M[S]})):y}}},3865:(me,U,M)=>{"use strict";var u=M(347),T={},y=!1,S=global.chrome&&global.chrome.app&&global.chrome.app.runtime;me.exports={attachEvent:function(_,f){void 0!==global.addEventListener?global.addEventListener(_,f,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+_,f),global.attachEvent("on"+_,f))},detachEvent:function(_,f){void 0!==global.addEventListener?global.removeEventListener(_,f,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+_,f),global.detachEvent("on"+_,f))},unloadAdd:function(_){if(S)return null;var f=u.string(8);return T[f]=_,y&&setTimeout(this.triggerUnloadCallbacks,0),f},unloadDel:function(_){_ in T&&delete T[_]},triggerUnloadCallbacks:function(){for(var _ in T)T[_](),delete T[_]}},S||me.exports.attachEvent("unload",function(){y||(y=!0,me.exports.triggerUnloadCallbacks())})},8075:(me,U,M)=>{"use strict";var u=M(3865),T=M(480);me.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){me.exports.WPrefix in global||(global[me.exports.WPrefix]={})},postMessage:function(S,m){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:me.exports.currentWindowId,type:S,data:m||""}),"*")},createIframe:function(S,m){var f,p,_=global.document.createElement("iframe"),d=function(){clearTimeout(f);try{_.onload=null}catch(v){}_.onerror=null},b=function(){_&&(d(),setTimeout(function(){_&&_.parentNode.removeChild(_),_=null},0),u.unloadDel(p))},C=function(v){_&&(b(),m(v))};return _.src=S,_.style.display="none",_.style.position="absolute",_.onerror=function(){C("onerror")},_.onload=function(){clearTimeout(f),f=setTimeout(function(){C("onload timeout")},2e3)},global.document.body.appendChild(_),f=setTimeout(function(){C("timeout")},15e3),p=u.unloadAdd(b),{post:function(v,O){setTimeout(function(){try{_&&_.contentWindow&&_.contentWindow.postMessage(v,O)}catch(x){}},0)},cleanup:b,loaded:d}},createHtmlfile:function(S,m){var p,d,b,_=["Active"].concat("Object").join("X"),f=new global[_]("htmlfile"),C=function(){clearTimeout(p),b.onerror=null},h=function(){f&&(C(),u.unloadDel(d),b.parentNode.removeChild(b),b=f=null,CollectGarbage())},v=function(k){f&&(h(),m(k))};f.open(),f.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),f.close(),f.parentWindow[me.exports.WPrefix]=global[me.exports.WPrefix];var x=f.createElement("div");return f.body.appendChild(x),b=f.createElement("iframe"),x.appendChild(b),b.src=S,b.onerror=function(){v("onerror")},p=setTimeout(function(){v("timeout")},15e3),d=u.unloadAdd(h),{post:function(k,G){try{setTimeout(function(){b&&b.contentWindow&&b.contentWindow.postMessage(k,G)},0)}catch(H){}},cleanup:h,loaded:C}}},me.exports.iframeEnabled=!1,global.document&&(me.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!T.isKonqueror())},1433:me=>{"use strict";var U={};["log","debug","warn"].forEach(function(M){var u;try{u=global.console&&global.console[M]&&global.console[M].apply}catch(T){}U[M]=u?function(){return global.console[M].apply(global.console,arguments)}:"log"===M?function(){}:U.log}),me.exports=U},2923:me=>{"use strict";me.exports={isObject:function(U){var M=typeof U;return"function"===M||"object"===M&&!!U},extend:function(U){if(!this.isObject(U))return U;for(var M,u,T=1,y=arguments.length;T<y;T++)for(u in M=arguments[T])Object.prototype.hasOwnProperty.call(M,u)&&(U[u]=M[u]);return U}}},347:(me,U,M)=>{"use strict";var u=M(8143),T="abcdefghijklmnopqrstuvwxyz012345";me.exports={string:function(y){for(var S=T.length,m=u.randomBytes(y),_=[],f=0;f<y;f++)_.push(T.substr(m[f]%S,1));return _.join("")},number:function(y){return Math.floor(Math.random()*y)},numberString:function(y){var S=(""+(y-1)).length;return(new Array(S+1).join("0")+this.number(y)).slice(-S)}}},2264:me=>{"use strict";me.exports=function(M){return{filterToEnabled:function(u,T){var y={main:[],facade:[]};return u?"string"==typeof u&&(u=[u]):u=[],M.forEach(function(S){if(S){if("websocket"===S.transportName&&!1===T.websocket)return;if(u.length&&-1===u.indexOf(S.transportName))return;S.enabled(T)&&(y.main.push(S),S.facadeTransport&&y.facade.push(S.facadeTransport))}}),y}}}},1493:(me,U,M)=>{"use strict";var u=M(7629);me.exports={getOrigin:function(y){if(!y)return null;var S=new u(y);if("file:"===S.protocol)return null;var m=S.port;return m||(m="https:"===S.protocol?"443":"80"),S.protocol+"//"+S.hostname+":"+m},isOriginEqual:function(y,S){return this.getOrigin(y)===this.getOrigin(S)},isSchemeEqual:function(y,S){return y.split(":")[0]===S.split(":")[0]},addPath:function(y,S){var m=y.split("?");return m[0]+S+(m[1]?"?"+m[1]:"")},addQuery:function(y,S){return y+(-1===y.indexOf("?")?"?"+S:"&"+S)},isLoopbackAddr:function(y){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(y)||/^\[::1\]$/.test(y)}}},947:me=>{me.exports="1.6.1"},7629:(me,U,M)=>{"use strict";var u=M(8237),T=M(2858),y=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,S=/[\n\r\t]/g,m=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_=/:\d+$/,f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,p=/^[a-zA-Z]:/;function d(L){return(L||"").toString().replace(y,"")}var b=[["#","hash"],["?","query"],function(j,F){return v(F.protocol)?j.replace(/\\/g,"/"):j},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],C={hash:1,query:1};function h(L){var j;j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var W,V={},Q=typeof(L=L||j.location||{});if("blob:"===L.protocol)V=new k(unescape(L.pathname),{});else if("string"===Q)for(W in V=new k(L,{}),C)delete V[W];else if("object"===Q){for(W in L)W in C||(V[W]=L[W]);void 0===V.slashes&&(V.slashes=m.test(L.href))}return V}function v(L){return"file:"===L||"ftp:"===L||"http:"===L||"https:"===L||"ws:"===L||"wss:"===L}function O(L,j){L=(L=d(L)).replace(S,""),j=j||{};var J,F=f.exec(L),V=F[1]?F[1].toLowerCase():"",Q=!!F[2],W=!!F[3],ee=0;return Q?W?(J=F[2]+F[3]+F[4],ee=F[2].length+F[3].length):(J=F[2]+F[4],ee=F[2].length):W?(J=F[3]+F[4],ee=F[3].length):J=F[4],"file:"===V?ee>=2&&(J=J.slice(2)):v(V)?J=F[4]:V?Q&&(J=J.slice(2)):ee>=2&&v(j.protocol)&&(J=F[4]),{protocol:V,slashes:Q||v(V),slashesCount:ee,rest:J}}function k(L,j,F){if(L=(L=d(L)).replace(S,""),!(this instanceof k))return new k(L,j,F);var V,Q,W,ee,J,ue,Ce=b.slice(),_e=typeof j,Ee=this,X=0;for("object"!==_e&&"string"!==_e&&(F=j,j=null),F&&"function"!=typeof F&&(F=T.parse),V=!(Q=O(L||"",j=h(j))).protocol&&!Q.slashes,Ee.slashes=Q.slashes||V&&j.slashes,Ee.protocol=Q.protocol||j.protocol||"",L=Q.rest,("file:"===Q.protocol&&(2!==Q.slashesCount||p.test(L))||!Q.slashes&&(Q.protocol||Q.slashesCount<2||!v(Ee.protocol)))&&(Ce[3]=[/(.*)/,"pathname"]);X<Ce.length;X++)"function"!=typeof(ee=Ce[X])?(ue=ee[1],(W=ee[0])!=W?Ee[ue]=L:"string"==typeof W?~(J="@"===W?L.lastIndexOf(W):L.indexOf(W))&&("number"==typeof ee[2]?(Ee[ue]=L.slice(0,J),L=L.slice(J+ee[2])):(Ee[ue]=L.slice(J),L=L.slice(0,J))):(J=W.exec(L))&&(Ee[ue]=J[1],L=L.slice(0,J.index)),Ee[ue]=Ee[ue]||V&&ee[3]&&j[ue]||"",ee[4]&&(Ee[ue]=Ee[ue].toLowerCase())):L=ee(L,Ee);F&&(Ee.query=F(Ee.query)),V&&j.slashes&&"/"!==Ee.pathname.charAt(0)&&(""!==Ee.pathname||""!==j.pathname)&&(Ee.pathname=function x(L,j){if(""===L)return j;for(var F=(j||"/").split("/").slice(0,-1).concat(L.split("/")),V=F.length,Q=F[V-1],W=!1,ee=0;V--;)"."===F[V]?F.splice(V,1):".."===F[V]?(F.splice(V,1),ee++):ee&&(0===V&&(W=!0),F.splice(V,1),ee--);return W&&F.unshift(""),("."===Q||".."===Q)&&F.push(""),F.join("/")}(Ee.pathname,j.pathname)),"/"!==Ee.pathname.charAt(0)&&v(Ee.protocol)&&(Ee.pathname="/"+Ee.pathname),u(Ee.port,Ee.protocol)||(Ee.host=Ee.hostname,Ee.port=""),Ee.username=Ee.password="",Ee.auth&&(~(J=Ee.auth.indexOf(":"))?(Ee.username=Ee.auth.slice(0,J),Ee.username=encodeURIComponent(decodeURIComponent(Ee.username)),Ee.password=Ee.auth.slice(J+1),Ee.password=encodeURIComponent(decodeURIComponent(Ee.password))):Ee.username=encodeURIComponent(decodeURIComponent(Ee.auth)),Ee.auth=Ee.password?Ee.username+":"+Ee.password:Ee.username),Ee.origin="file:"!==Ee.protocol&&v(Ee.protocol)&&Ee.host?Ee.protocol+"//"+Ee.host:"null",Ee.href=Ee.toString()}k.prototype={set:function G(L,j,F){var V=this;switch(L){case"query":"string"==typeof j&&j.length&&(j=(F||T.parse)(j)),V[L]=j;break;case"port":V[L]=j,u(j,V.protocol)?j&&(V.host=V.hostname+":"+j):(V.host=V.hostname,V[L]="");break;case"hostname":V[L]=j,V.port&&(j+=":"+V.port),V.host=j;break;case"host":V[L]=j,_.test(j)?(j=j.split(":"),V.port=j.pop(),V.hostname=j.join(":")):(V.hostname=j,V.port="");break;case"protocol":V.protocol=j.toLowerCase(),V.slashes=!F;break;case"pathname":case"hash":if(j){var Q="pathname"===L?"/":"#";V[L]=j.charAt(0)!==Q?Q+j:j}else V[L]=j;break;case"username":case"password":V[L]=encodeURIComponent(j);break;case"auth":var W=j.indexOf(":");~W?(V.username=j.slice(0,W),V.username=encodeURIComponent(decodeURIComponent(V.username)),V.password=j.slice(W+1),V.password=encodeURIComponent(decodeURIComponent(V.password))):V.username=encodeURIComponent(decodeURIComponent(j))}for(var ee=0;ee<b.length;ee++){var J=b[ee];J[4]&&(V[J[1]]=V[J[1]].toLowerCase())}return V.auth=V.password?V.username+":"+V.password:V.username,V.origin="file:"!==V.protocol&&v(V.protocol)&&V.host?V.protocol+"//"+V.host:"null",V.href=V.toString(),V},toString:function H(L){(!L||"function"!=typeof L)&&(L=T.stringify);var j,F=this,V=F.host,Q=F.protocol;Q&&":"!==Q.charAt(Q.length-1)&&(Q+=":");var W=Q+(F.protocol&&F.slashes||v(F.protocol)?"//":"");return F.username?(W+=F.username,F.password&&(W+=":"+F.password),W+="@"):F.password?(W+=":"+F.password,W+="@"):"file:"!==F.protocol&&v(F.protocol)&&!V&&"/"!==F.pathname&&(W+="@"),(":"===V[V.length-1]||_.test(F.hostname)&&!F.port)&&(V+=":"),W+=V+F.pathname,(j="object"==typeof F.query?L(F.query):F.query)&&(W+="?"!==j.charAt(0)?"?"+j:j),F.hash&&(W+=F.hash),W}},k.extractProtocol=O,k.location=h,k.trimLeft=d,k.qs=T,me.exports=k},1308:function(me,U,M){var u;me=M.nmd(me),function(T){"object"==typeof global&&global;var _,f=2147483647,p=36,k=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=Math.floor,V=String.fromCharCode;function W(le){throw RangeError(L[le])}function ee(le,de){for(var Be=le.length,Je=[];Be--;)Je[Be]=de(le[Be]);return Je}function J(le,de){var Be=le.split("@"),Je="";return Be.length>1&&(Je=Be[0]+"@",le=Be[1]),Je+ee((le=le.replace(H,".")).split("."),de).join(".")}function ue(le){for(var Le,Mt,de=[],Be=0,Je=le.length;Be<Je;)(Le=le.charCodeAt(Be++))>=55296&&Le<=56319&&Be<Je?56320==(64512&(Mt=le.charCodeAt(Be++)))?de.push(((1023&Le)<<10)+(1023&Mt)+65536):(de.push(Le),Be--):de.push(Le);return de}function Ce(le){return ee(le,function(de){var Be="";return de>65535&&(Be+=V((de-=65536)>>>10&1023|55296),de=56320|1023&de),Be+V(de)}).join("")}function _e(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:p}function Ee(le,de){return le+22+75*(le<26)-((0!=de)<<5)}function X(le,de,Be){var Je=0;for(le=Be?F(le/700):le>>1,le+=F(le/de);le>455;Je+=p)le=F(le/35);return F(Je+36*le/(le+38))}function se(le){var Je,je,ie,fe,pe,Ge,ze,et,xe,He,de=[],Be=le.length,Le=0,Mt=128,qe=72;for((je=le.lastIndexOf("-"))<0&&(je=0),ie=0;ie<je;++ie)le.charCodeAt(ie)>=128&&W("not-basic"),de.push(le.charCodeAt(ie));for(fe=je>0?je+1:0;fe<Be;){for(pe=Le,Ge=1,ze=p;fe>=Be&&W("invalid-input"),((et=_e(le.charCodeAt(fe++)))>=p||et>F((f-Le)/Ge))&&W("overflow"),Le+=et*Ge,!(et<(xe=ze<=qe?1:ze>=qe+26?26:ze-qe));ze+=p)Ge>F(f/(He=p-xe))&&W("overflow"),Ge*=He;qe=X(Le-pe,Je=de.length+1,0==pe),F(Le/Je)>f-Mt&&W("overflow"),Mt+=F(Le/Je),Le%=Je,de.splice(Le++,0,Mt)}return Ce(de)}function Z(le){var de,Be,Je,Le,Mt,qe,je,ie,fe,pe,Ge,et,xe,He,zt,ze=[];for(et=(le=ue(le)).length,de=128,Be=0,Mt=72,qe=0;qe<et;++qe)(Ge=le[qe])<128&&ze.push(V(Ge));for(Je=Le=ze.length,Le&&ze.push("-");Je<et;){for(je=f,qe=0;qe<et;++qe)(Ge=le[qe])>=de&&Ge<je&&(je=Ge);for(je-de>F((f-Be)/(xe=Je+1))&&W("overflow"),Be+=(je-de)*xe,de=je,qe=0;qe<et;++qe)if((Ge=le[qe])<de&&++Be>f&&W("overflow"),Ge==de){for(ie=Be,fe=p;!(ie<(pe=fe<=Mt?1:fe>=Mt+26?26:fe-Mt));fe+=p)ze.push(V(Ee(pe+(zt=ie-pe)%(He=p-pe),0))),ie=F(zt/He);ze.push(V(Ee(ie,0))),Mt=X(Be,xe,Je==Le),Be=0,++Je}++Be,++de}return ze.join("")}_={version:"1.3.2",ucs2:{decode:ue,encode:Ce},decode:se,encode:Z,toASCII:function oe(le){return J(le,function(de){return G.test(de)?"xn--"+Z(de):de})},toUnicode:function be(le){return J(le,function(de){return k.test(de)?se(de.slice(4).toLowerCase()):de})}},void 0!==(u=function(){return _}.call(U,M,U,me))&&(me.exports=u)}()},8762:(me,U,M)=>{"use strict";var T=M(1308),y=M(796);function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}U.Qc=j,U.DB=function V(W,ee){return j(W,!1,!0).resolve(ee)},U.WU=function F(W){return y.isString(W)&&(W=j(W)),W instanceof S?W.format():S.prototype.format.call(W)};var m=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),b=["'"].concat(d),C=["%","/","?",";","#"].concat(b),h=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},G={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=M(7137);function j(W,ee,J){if(W&&y.isObject(W)&&W instanceof S)return W;var ue=new S;return ue.parse(W,ee,J),ue}S.prototype.parse=function(W,ee,J){if(!y.isString(W))throw new TypeError("Parameter 'url' must be a string, not "+typeof W);var ue=W.indexOf("?"),Ce=-1!==ue&&ue<W.indexOf("#")?"?":"#",_e=W.split(Ce);_e[0]=_e[0].replace(/\\/g,"/");var X=W=_e.join(Ce);if(X=X.trim(),!J&&1===W.split("#").length){var se=f.exec(X);if(se)return this.path=X,this.href=X,this.pathname=se[1],se[2]?(this.search=se[2],this.query=ee?L.parse(this.search.substr(1)):this.search.substr(1)):ee&&(this.search="",this.query={}),this}var Z=m.exec(X);if(Z){var be=(Z=Z[0]).toLowerCase();this.protocol=be,X=X.substr(Z.length)}if(J||Z||X.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe="//"===X.substr(0,2);oe&&(!Z||!G[Z])&&(X=X.substr(2),this.slashes=!0)}if(!G[Z]&&(oe||Z&&!H[Z])){for(var le=-1,de=0;de<h.length;de++)-1!==(Be=X.indexOf(h[de]))&&(-1===le||Be<le)&&(le=Be);var Je,Le;for(-1!==(Le=-1===le?X.lastIndexOf("@"):X.lastIndexOf("@",le))&&(Je=X.slice(0,Le),X=X.slice(Le+1),this.auth=decodeURIComponent(Je)),le=-1,de=0;de<C.length;de++){var Be;-1!==(Be=X.indexOf(C[de]))&&(-1===le||Be<le)&&(le=Be)}-1===le&&(le=X.length),this.host=X.slice(0,le),X=X.slice(le),this.parseHost(),this.hostname=this.hostname||"";var Mt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Mt)for(var qe=this.hostname.split(/\./),je=(de=0,qe.length);de<je;de++){var ie=qe[de];if(ie&&!ie.match(O)){for(var fe="",pe=0,Ge=ie.length;pe<Ge;pe++)ie.charCodeAt(pe)>127?fe+="x":fe+=ie[pe];if(!fe.match(O)){var ze=qe.slice(0,de),et=qe.slice(de+1),xe=ie.match(x);xe&&(ze.push(xe[1]),et.unshift(xe[2])),et.length&&(X="/"+et.join(".")+X),this.hostname=ze.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Mt||(this.hostname=T.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Mt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==X[0]&&(X="/"+X))}if(!k[be])for(de=0,je=b.length;de<je;de++){var It=b[de];if(-1!==X.indexOf(It)){var qt=encodeURIComponent(It);qt===It&&(qt=escape(It)),X=X.split(It).join(qt)}}var zn=X.indexOf("#");-1!==zn&&(this.hash=X.substr(zn),X=X.slice(0,zn));var tt=X.indexOf("?");return-1!==tt?(this.search=X.substr(tt),this.query=X.substr(tt+1),ee&&(this.query=L.parse(this.query)),X=X.slice(0,tt)):ee&&(this.search="",this.query={}),X&&(this.pathname=X),H[be]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},S.prototype.format=function(){var W=this.auth||"";W&&(W=(W=encodeURIComponent(W)).replace(/%3A/i,":"),W+="@");var ee=this.protocol||"",J=this.pathname||"",ue=this.hash||"",Ce=!1,_e="";this.host?Ce=W+this.host:this.hostname&&(Ce=W+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ce+=":"+this.port)),this.query&&y.isObject(this.query)&&Object.keys(this.query).length&&(_e=L.stringify(this.query));var Ee=this.search||_e&&"?"+_e||"";return ee&&":"!==ee.substr(-1)&&(ee+=":"),this.slashes||(!ee||H[ee])&&!1!==Ce?(Ce="//"+(Ce||""),J&&"/"!==J.charAt(0)&&(J="/"+J)):Ce||(Ce=""),ue&&"#"!==ue.charAt(0)&&(ue="#"+ue),Ee&&"?"!==Ee.charAt(0)&&(Ee="?"+Ee),ee+Ce+(J=J.replace(/[?#]/g,function(X){return encodeURIComponent(X)}))+(Ee=Ee.replace("#","%23"))+ue},S.prototype.resolve=function(W){return this.resolveObject(j(W,!1,!0)).format()},S.prototype.resolveObject=function(W){if(y.isString(W)){var ee=new S;ee.parse(W,!1,!0),W=ee}for(var J=new S,ue=Object.keys(this),Ce=0;Ce<ue.length;Ce++){var _e=ue[Ce];J[_e]=this[_e]}if(J.hash=W.hash,""===W.href)return J.href=J.format(),J;if(W.slashes&&!W.protocol){for(var Ee=Object.keys(W),X=0;X<Ee.length;X++){var se=Ee[X];"protocol"!==se&&(J[se]=W[se])}return H[J.protocol]&&J.hostname&&!J.pathname&&(J.path=J.pathname="/"),J.href=J.format(),J}if(W.protocol&&W.protocol!==J.protocol){if(!H[W.protocol]){for(var Z=Object.keys(W),be=0;be<Z.length;be++){var oe=Z[be];J[oe]=W[oe]}return J.href=J.format(),J}if(J.protocol=W.protocol,W.host||G[W.protocol])J.pathname=W.pathname;else{for(var je=(W.pathname||"").split("/");je.length&&!(W.host=je.shift()););W.host||(W.host=""),W.hostname||(W.hostname=""),""!==je[0]&&je.unshift(""),je.length<2&&je.unshift(""),J.pathname=je.join("/")}return J.search=W.search,J.query=W.query,J.host=W.host||"",J.auth=W.auth,J.hostname=W.hostname||W.host,J.port=W.port,(J.pathname||J.search)&&(J.path=(J.pathname||"")+(J.search||"")),J.slashes=J.slashes||W.slashes,J.href=J.format(),J}var Be=J.pathname&&"/"===J.pathname.charAt(0),Je=W.host||W.pathname&&"/"===W.pathname.charAt(0),Le=Je||Be||J.host&&W.pathname,Mt=Le,qe=J.pathname&&J.pathname.split("/")||[],ie=(je=W.pathname&&W.pathname.split("/")||[],J.protocol&&!H[J.protocol]);if(ie&&(J.hostname="",J.port=null,J.host&&(""===qe[0]?qe[0]=J.host:qe.unshift(J.host)),J.host="",W.protocol&&(W.hostname=null,W.port=null,W.host&&(""===je[0]?je[0]=W.host:je.unshift(W.host)),W.host=null),Le=Le&&(""===je[0]||""===qe[0])),Je)J.host=W.host||""===W.host?W.host:J.host,J.hostname=W.hostname||""===W.hostname?W.hostname:J.hostname,J.search=W.search,J.query=W.query,qe=je;else if(je.length)qe||(qe=[]),qe.pop(),qe=qe.concat(je),J.search=W.search,J.query=W.query;else if(!y.isNullOrUndefined(W.search))return ie&&(J.hostname=J.host=qe.shift(),(fe=!!(J.host&&J.host.indexOf("@")>0)&&J.host.split("@"))&&(J.auth=fe.shift(),J.host=J.hostname=fe.shift())),J.search=W.search,J.query=W.query,(!y.isNull(J.pathname)||!y.isNull(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.href=J.format(),J;if(!qe.length)return J.pathname=null,J.path=J.search?"/"+J.search:null,J.href=J.format(),J;for(var pe=qe.slice(-1)[0],Ge=(J.host||W.host||qe.length>1)&&("."===pe||".."===pe)||""===pe,ze=0,et=qe.length;et>=0;et--)"."===(pe=qe[et])?qe.splice(et,1):".."===pe?(qe.splice(et,1),ze++):ze&&(qe.splice(et,1),ze--);if(!Le&&!Mt)for(;ze--;ze)qe.unshift("..");Le&&""!==qe[0]&&(!qe[0]||"/"!==qe[0].charAt(0))&&qe.unshift(""),Ge&&"/"!==qe.join("/").substr(-1)&&qe.push("");var fe,xe=""===qe[0]||qe[0]&&"/"===qe[0].charAt(0);return ie&&(J.hostname=J.host=xe?"":qe.length?qe.shift():"",(fe=!!(J.host&&J.host.indexOf("@")>0)&&J.host.split("@"))&&(J.auth=fe.shift(),J.host=J.hostname=fe.shift())),(Le=Le||J.host&&qe.length)&&!xe&&qe.unshift(""),qe.length?J.pathname=qe.join("/"):(J.pathname=null,J.path=null),(!y.isNull(J.pathname)||!y.isNull(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.auth=W.auth||J.auth,J.slashes=J.slashes||W.slashes,J.href=J.format(),J},S.prototype.parseHost=function(){var W=this.host,ee=_.exec(W);ee&&(":"!==(ee=ee[0])&&(this.port=ee.substr(1)),W=W.substr(0,W.length-ee.length)),W&&(this.hostname=W)}},796:me=>{"use strict";me.exports={isString:function(U){return"string"==typeof U},isObject:function(U){return"object"==typeof U&&null!==U},isNull:function(U){return null===U},isNullOrUndefined:function(U){return null==U}}}},me=>{me(me.s=5800)}]);